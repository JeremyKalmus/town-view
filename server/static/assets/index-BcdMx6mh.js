var mp=Object.defineProperty;var hp=(e,t,n)=>t in e?mp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ya=(e,t,n)=>hp(e,typeof t!="symbol"?t+"":t,n);function xp(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function ai(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zc={exports:{}},oo={},Jc={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hr=Symbol.for("react.element"),gp=Symbol.for("react.portal"),yp=Symbol.for("react.fragment"),vp=Symbol.for("react.strict_mode"),wp=Symbol.for("react.profiler"),bp=Symbol.for("react.provider"),jp=Symbol.for("react.context"),Np=Symbol.for("react.forward_ref"),kp=Symbol.for("react.suspense"),Sp=Symbol.for("react.memo"),Cp=Symbol.for("react.lazy"),va=Symbol.iterator;function Ep(e){return e===null||typeof e!="object"?null:(e=va&&e[va]||e["@@iterator"],typeof e=="function"?e:null)}var qc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eu=Object.assign,tu={};function Hn(e,t,n){this.props=e,this.context=t,this.refs=tu,this.updater=n||qc}Hn.prototype.isReactComponent={};Hn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nu(){}nu.prototype=Hn.prototype;function ci(e,t,n){this.props=e,this.context=t,this.refs=tu,this.updater=n||qc}var ui=ci.prototype=new nu;ui.constructor=ci;eu(ui,Hn.prototype);ui.isPureReactComponent=!0;var wa=Array.isArray,ru=Object.prototype.hasOwnProperty,di={current:null},su={key:!0,ref:!0,__self:!0,__source:!0};function ou(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)ru.call(t,r)&&!su.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Hr,type:e,key:o,ref:i,props:s,_owner:di.current}}function Tp(e,t){return{$$typeof:Hr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fi(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hr}function _p(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ba=/\/+/g;function Eo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_p(""+e.key):t.toString(36)}function bs(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Hr:case gp:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Eo(i,0):r,wa(s)?(n="",e!=null&&(n=e.replace(ba,"$&/")+"/"),bs(s,t,n,"",function(u){return u})):s!=null&&(fi(s)&&(s=Tp(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(ba,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",wa(e))for(var a=0;a<e.length;a++){o=e[a];var c=r+Eo(o,a);i+=bs(o,t,n,c,s)}else if(c=Ep(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=r+Eo(o,a++),i+=bs(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function es(e,t,n){if(e==null)return e;var r=[],s=0;return bs(e,r,"","",function(o){return t.call(n,o,s++)}),r}function Pp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _e={current:null},js={transition:null},Rp={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:js,ReactCurrentOwner:di};function lu(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:es,forEach:function(e,t,n){es(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return es(e,function(){t++}),t},toArray:function(e){return es(e,function(t){return t})||[]},only:function(e){if(!fi(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};K.Component=Hn;K.Fragment=yp;K.Profiler=wp;K.PureComponent=ci;K.StrictMode=vp;K.Suspense=kp;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rp;K.act=lu;K.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=eu({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=di.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)ru.call(t,c)&&!su.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Hr,type:e.type,key:s,ref:o,props:r,_owner:i}};K.createContext=function(e){return e={$$typeof:jp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bp,_context:e},e.Consumer=e};K.createElement=ou;K.createFactory=function(e){var t=ou.bind(null,e);return t.type=e,t};K.createRef=function(){return{current:null}};K.forwardRef=function(e){return{$$typeof:Np,render:e}};K.isValidElement=fi;K.lazy=function(e){return{$$typeof:Cp,_payload:{_status:-1,_result:e},_init:Pp}};K.memo=function(e,t){return{$$typeof:Sp,type:e,compare:t===void 0?null:t}};K.startTransition=function(e){var t=js.transition;js.transition={};try{e()}finally{js.transition=t}};K.unstable_act=lu;K.useCallback=function(e,t){return _e.current.useCallback(e,t)};K.useContext=function(e){return _e.current.useContext(e)};K.useDebugValue=function(){};K.useDeferredValue=function(e){return _e.current.useDeferredValue(e)};K.useEffect=function(e,t){return _e.current.useEffect(e,t)};K.useId=function(){return _e.current.useId()};K.useImperativeHandle=function(e,t,n){return _e.current.useImperativeHandle(e,t,n)};K.useInsertionEffect=function(e,t){return _e.current.useInsertionEffect(e,t)};K.useLayoutEffect=function(e,t){return _e.current.useLayoutEffect(e,t)};K.useMemo=function(e,t){return _e.current.useMemo(e,t)};K.useReducer=function(e,t,n){return _e.current.useReducer(e,t,n)};K.useRef=function(e){return _e.current.useRef(e)};K.useState=function(e){return _e.current.useState(e)};K.useSyncExternalStore=function(e,t,n){return _e.current.useSyncExternalStore(e,t,n)};K.useTransition=function(){return _e.current.useTransition()};K.version="18.3.1";Jc.exports=K;var p=Jc.exports;const at=ai(p),Lp=xp({__proto__:null,default:at},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp=p,Mp=Symbol.for("react.element"),Ip=Symbol.for("react.fragment"),Ap=Object.prototype.hasOwnProperty,Op=Dp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zp={key:!0,ref:!0,__self:!0,__source:!0};function iu(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Ap.call(t,r)&&!zp.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Mp,type:e,key:o,ref:i,props:s,_owner:Op.current}}oo.Fragment=Ip;oo.jsx=iu;oo.jsxs=iu;Zc.exports=oo;var l=Zc.exports,ll={},au={exports:{}},He={},cu={exports:{}},uu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,M){var z=_.length;_.push(M);e:for(;0<z;){var B=z-1>>>1,J=_[B];if(0<s(J,M))_[B]=M,_[z]=J,z=B;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var M=_[0],z=_.pop();if(z!==M){_[0]=z;e:for(var B=0,J=_.length,Oe=J>>>1;B<Oe;){var ge=2*(B+1)-1,Yt=_[ge],P=ge+1,O=_[P];if(0>s(Yt,z))P<J&&0>s(O,Yt)?(_[B]=O,_[P]=z,B=P):(_[B]=Yt,_[ge]=z,B=ge);else if(P<J&&0>s(O,z))_[B]=O,_[P]=z,B=P;else break e}}return M}function s(_,M){var z=_.sortIndex-M.sortIndex;return z!==0?z:_.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var c=[],u=[],m=1,x=null,d=3,w=!1,b=!1,v=!1,N=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(_){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=_)r(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=n(u)}}function y(_){if(v=!1,g(_),!b)if(n(c)!==null)b=!0,$(j);else{var M=n(u);M!==null&&G(y,M.startTime-_)}}function j(_,M){b=!1,v&&(v=!1,h(E),E=-1),w=!0;var z=d;try{for(g(M),x=n(c);x!==null&&(!(x.expirationTime>M)||_&&!H());){var B=x.callback;if(typeof B=="function"){x.callback=null,d=x.priorityLevel;var J=B(x.expirationTime<=M);M=e.unstable_now(),typeof J=="function"?x.callback=J:x===n(c)&&r(c),g(M)}else r(c);x=n(c)}if(x!==null)var Oe=!0;else{var ge=n(u);ge!==null&&G(y,ge.startTime-M),Oe=!1}return Oe}finally{x=null,d=z,w=!1}}var k=!1,S=null,E=-1,A=5,D=-1;function H(){return!(e.unstable_now()-D<A)}function R(){if(S!==null){var _=e.unstable_now();D=_;var M=!0;try{M=S(!0,_)}finally{M?Y():(k=!1,S=null)}}else k=!1}var Y;if(typeof f=="function")Y=function(){f(R)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,F=I.port2;I.port1.onmessage=R,Y=function(){F.postMessage(null)}}else Y=function(){N(R,0)};function $(_){S=_,k||(k=!0,Y())}function G(_,M){E=N(function(){_(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){b||w||(b=!0,$(j))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(_){switch(d){case 1:case 2:case 3:var M=3;break;default:M=d}var z=d;d=M;try{return _()}finally{d=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,M){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var z=d;d=_;try{return M()}finally{d=z}},e.unstable_scheduleCallback=function(_,M,z){var B=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?B+z:B):z=B,_){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=z+J,_={id:m++,callback:M,priorityLevel:_,startTime:z,expirationTime:J,sortIndex:-1},z>B?(_.sortIndex=z,t(u,_),n(c)===null&&_===n(u)&&(v?(h(E),E=-1):v=!0,G(y,z-B))):(_.sortIndex=J,t(c,_),b||w||(b=!0,$(j))),_},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(_){var M=d;return function(){var z=d;d=M;try{return _.apply(this,arguments)}finally{d=z}}}})(uu);cu.exports=uu;var Fp=cu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p=p,We=Fp;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var du=new Set,kr={};function fn(e,t){An(e,t),An(e+"Capture",t)}function An(e,t){for(kr[e]=t,e=0;e<t.length;e++)du.add(t[e])}var vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),il=Object.prototype.hasOwnProperty,Vp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ja={},Na={};function Up(e){return il.call(Na,e)?!0:il.call(ja,e)?!1:Vp.test(e)?Na[e]=!0:(ja[e]=!0,!1)}function Wp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Hp(e,t,n,r){if(t===null||typeof t>"u"||Wp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pe(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){be[e]=new Pe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];be[t]=new Pe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){be[e]=new Pe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){be[e]=new Pe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){be[e]=new Pe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){be[e]=new Pe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){be[e]=new Pe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){be[e]=new Pe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){be[e]=new Pe(e,5,!1,e.toLowerCase(),null,!1,!1)});var pi=/[\-:]([a-z])/g;function mi(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(pi,mi);be[t]=new Pe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(pi,mi);be[t]=new Pe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(pi,mi);be[t]=new Pe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){be[e]=new Pe(e,1,!1,e.toLowerCase(),null,!1,!1)});be.xlinkHref=new Pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){be[e]=new Pe(e,1,!1,e.toLowerCase(),null,!0,!0)});function hi(e,t,n,r){var s=be.hasOwnProperty(t)?be[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Hp(t,n,s,r)&&(n=null),r||s===null?Up(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Nt=$p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ts=Symbol.for("react.element"),gn=Symbol.for("react.portal"),yn=Symbol.for("react.fragment"),xi=Symbol.for("react.strict_mode"),al=Symbol.for("react.profiler"),fu=Symbol.for("react.provider"),pu=Symbol.for("react.context"),gi=Symbol.for("react.forward_ref"),cl=Symbol.for("react.suspense"),ul=Symbol.for("react.suspense_list"),yi=Symbol.for("react.memo"),Tt=Symbol.for("react.lazy"),mu=Symbol.for("react.offscreen"),ka=Symbol.iterator;function Zn(e){return e===null||typeof e!="object"?null:(e=ka&&e[ka]||e["@@iterator"],typeof e=="function"?e:null)}var ae=Object.assign,To;function cr(e){if(To===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);To=t&&t[1]||""}return`
`+To+e}var _o=!1;function Po(e,t){if(!e||_o)return"";_o=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=a);break}}}finally{_o=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?cr(e):""}function Bp(e){switch(e.tag){case 5:return cr(e.type);case 16:return cr("Lazy");case 13:return cr("Suspense");case 19:return cr("SuspenseList");case 0:case 2:case 15:return e=Po(e.type,!1),e;case 11:return e=Po(e.type.render,!1),e;case 1:return e=Po(e.type,!0),e;default:return""}}function dl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case yn:return"Fragment";case gn:return"Portal";case al:return"Profiler";case xi:return"StrictMode";case cl:return"Suspense";case ul:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pu:return(e.displayName||"Context")+".Consumer";case fu:return(e._context.displayName||"Context")+".Provider";case gi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yi:return t=e.displayName||null,t!==null?t:dl(e.type)||"Memo";case Tt:t=e._payload,e=e._init;try{return dl(e(t))}catch{}}return null}function Kp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dl(t);case 8:return t===xi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qp(e){var t=hu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ns(e){e._valueTracker||(e._valueTracker=Qp(e))}function xu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=hu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ms(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fl(e,t){var n=t.checked;return ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Sa(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Wt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function gu(e,t){t=t.checked,t!=null&&hi(e,"checked",t,!1)}function pl(e,t){gu(e,t);var n=Wt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ml(e,t.type,n):t.hasOwnProperty("defaultValue")&&ml(e,t.type,Wt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ca(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ml(e,t,n){(t!=="number"||Ms(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ur=Array.isArray;function _n(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Wt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function hl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ea(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(T(92));if(ur(n)){if(1<n.length)throw Error(T(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Wt(n)}}function yu(e,t){var n=Wt(t.value),r=Wt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ta(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rs,wu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(rs=rs||document.createElement("div"),rs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=rs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var mr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gp=["Webkit","ms","Moz","O"];Object.keys(mr).forEach(function(e){Gp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mr[t]=mr[e]})});function bu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||mr.hasOwnProperty(e)&&mr[e]?(""+t).trim():t+"px"}function ju(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=bu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Yp=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gl(e,t){if(t){if(Yp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function yl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vl=null;function vi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wl=null,Pn=null,Rn=null;function _a(e){if(e=Qr(e)){if(typeof wl!="function")throw Error(T(280));var t=e.stateNode;t&&(t=uo(t),wl(e.stateNode,e.type,t))}}function Nu(e){Pn?Rn?Rn.push(e):Rn=[e]:Pn=e}function ku(){if(Pn){var e=Pn,t=Rn;if(Rn=Pn=null,_a(e),t)for(e=0;e<t.length;e++)_a(t[e])}}function Su(e,t){return e(t)}function Cu(){}var Ro=!1;function Eu(e,t,n){if(Ro)return e(t,n);Ro=!0;try{return Su(e,t,n)}finally{Ro=!1,(Pn!==null||Rn!==null)&&(Cu(),ku())}}function Cr(e,t){var n=e.stateNode;if(n===null)return null;var r=uo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(T(231,t,typeof n));return n}var bl=!1;if(vt)try{var Jn={};Object.defineProperty(Jn,"passive",{get:function(){bl=!0}}),window.addEventListener("test",Jn,Jn),window.removeEventListener("test",Jn,Jn)}catch{bl=!1}function Xp(e,t,n,r,s,o,i,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(m){this.onError(m)}}var hr=!1,Is=null,As=!1,jl=null,Zp={onError:function(e){hr=!0,Is=e}};function Jp(e,t,n,r,s,o,i,a,c){hr=!1,Is=null,Xp.apply(Zp,arguments)}function qp(e,t,n,r,s,o,i,a,c){if(Jp.apply(this,arguments),hr){if(hr){var u=Is;hr=!1,Is=null}else throw Error(T(198));As||(As=!0,jl=u)}}function pn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Tu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Pa(e){if(pn(e)!==e)throw Error(T(188))}function em(e){var t=e.alternate;if(!t){if(t=pn(e),t===null)throw Error(T(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Pa(s),e;if(o===r)return Pa(s),t;o=o.sibling}throw Error(T(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?e:t}function _u(e){return e=em(e),e!==null?Pu(e):null}function Pu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Pu(e);if(t!==null)return t;e=e.sibling}return null}var Ru=We.unstable_scheduleCallback,Ra=We.unstable_cancelCallback,tm=We.unstable_shouldYield,nm=We.unstable_requestPaint,ue=We.unstable_now,rm=We.unstable_getCurrentPriorityLevel,wi=We.unstable_ImmediatePriority,Lu=We.unstable_UserBlockingPriority,Os=We.unstable_NormalPriority,sm=We.unstable_LowPriority,Du=We.unstable_IdlePriority,lo=null,ut=null;function om(e){if(ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(lo,e,void 0,(e.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:am,lm=Math.log,im=Math.LN2;function am(e){return e>>>=0,e===0?32:31-(lm(e)/im|0)|0}var ss=64,os=4194304;function dr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=dr(a):(o&=i,o!==0&&(r=dr(o)))}else i=n&~s,i!==0?r=dr(i):o!==0&&(r=dr(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-rt(t),s=1<<n,r|=e[n],t&=~s;return r}function cm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function um(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-rt(o),a=1<<i,c=s[i];c===-1?(!(a&n)||a&r)&&(s[i]=cm(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function Nl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Mu(){var e=ss;return ss<<=1,!(ss&4194240)&&(ss=64),e}function Lo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Br(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rt(t),e[t]=n}function dm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-rt(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function bi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Z=0;function Iu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Au,ji,Ou,zu,Fu,kl=!1,ls=[],It=null,At=null,Ot=null,Er=new Map,Tr=new Map,Rt=[],fm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function La(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Er.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tr.delete(t.pointerId)}}function qn(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Qr(t),t!==null&&ji(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function pm(e,t,n,r,s){switch(t){case"focusin":return It=qn(It,e,t,n,r,s),!0;case"dragenter":return At=qn(At,e,t,n,r,s),!0;case"mouseover":return Ot=qn(Ot,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Er.set(o,qn(Er.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Tr.set(o,qn(Tr.get(o)||null,e,t,n,r,s)),!0}return!1}function $u(e){var t=Jt(e.target);if(t!==null){var n=pn(t);if(n!==null){if(t=n.tag,t===13){if(t=Tu(n),t!==null){e.blockedOn=t,Fu(e.priority,function(){Ou(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ns(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);vl=r,n.target.dispatchEvent(r),vl=null}else return t=Qr(n),t!==null&&ji(t),e.blockedOn=n,!1;t.shift()}return!0}function Da(e,t,n){Ns(e)&&n.delete(t)}function mm(){kl=!1,It!==null&&Ns(It)&&(It=null),At!==null&&Ns(At)&&(At=null),Ot!==null&&Ns(Ot)&&(Ot=null),Er.forEach(Da),Tr.forEach(Da)}function er(e,t){e.blockedOn===t&&(e.blockedOn=null,kl||(kl=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,mm)))}function _r(e){function t(s){return er(s,e)}if(0<ls.length){er(ls[0],e);for(var n=1;n<ls.length;n++){var r=ls[n];r.blockedOn===e&&(r.blockedOn=null)}}for(It!==null&&er(It,e),At!==null&&er(At,e),Ot!==null&&er(Ot,e),Er.forEach(t),Tr.forEach(t),n=0;n<Rt.length;n++)r=Rt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&(n=Rt[0],n.blockedOn===null);)$u(n),n.blockedOn===null&&Rt.shift()}var Ln=Nt.ReactCurrentBatchConfig,Fs=!0;function hm(e,t,n,r){var s=Z,o=Ln.transition;Ln.transition=null;try{Z=1,Ni(e,t,n,r)}finally{Z=s,Ln.transition=o}}function xm(e,t,n,r){var s=Z,o=Ln.transition;Ln.transition=null;try{Z=4,Ni(e,t,n,r)}finally{Z=s,Ln.transition=o}}function Ni(e,t,n,r){if(Fs){var s=Sl(e,t,n,r);if(s===null)Uo(e,t,r,$s,n),La(e,r);else if(pm(s,e,t,n,r))r.stopPropagation();else if(La(e,r),t&4&&-1<fm.indexOf(e)){for(;s!==null;){var o=Qr(s);if(o!==null&&Au(o),o=Sl(e,t,n,r),o===null&&Uo(e,t,r,$s,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Uo(e,t,r,null,n)}}var $s=null;function Sl(e,t,n,r){if($s=null,e=vi(r),e=Jt(e),e!==null)if(t=pn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Tu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $s=e,null}function Vu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rm()){case wi:return 1;case Lu:return 4;case Os:case sm:return 16;case Du:return 536870912;default:return 16}default:return 16}}var Dt=null,ki=null,ks=null;function Uu(){if(ks)return ks;var e,t=ki,n=t.length,r,s="value"in Dt?Dt.value:Dt.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return ks=s.slice(e,1<r?1-r:void 0)}function Ss(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function is(){return!0}function Ma(){return!1}function Be(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?is:Ma,this.isPropagationStopped=Ma,this}return ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),t}var Bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Be(Bn),Kr=ae({},Bn,{view:0,detail:0}),gm=Be(Kr),Do,Mo,tr,io=ae({},Kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ci,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tr&&(tr&&e.type==="mousemove"?(Do=e.screenX-tr.screenX,Mo=e.screenY-tr.screenY):Mo=Do=0,tr=e),Do)},movementY:function(e){return"movementY"in e?e.movementY:Mo}}),Ia=Be(io),ym=ae({},io,{dataTransfer:0}),vm=Be(ym),wm=ae({},Kr,{relatedTarget:0}),Io=Be(wm),bm=ae({},Bn,{animationName:0,elapsedTime:0,pseudoElement:0}),jm=Be(bm),Nm=ae({},Bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),km=Be(Nm),Sm=ae({},Bn,{data:0}),Aa=Be(Sm),Cm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Em={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _m(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Tm[e])?!!t[e]:!1}function Ci(){return _m}var Pm=ae({},Kr,{key:function(e){if(e.key){var t=Cm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ss(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Em[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ci,charCode:function(e){return e.type==="keypress"?Ss(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ss(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rm=Be(Pm),Lm=ae({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oa=Be(Lm),Dm=ae({},Kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ci}),Mm=Be(Dm),Im=ae({},Bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Am=Be(Im),Om=ae({},io,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zm=Be(Om),Fm=[9,13,27,32],Ei=vt&&"CompositionEvent"in window,xr=null;vt&&"documentMode"in document&&(xr=document.documentMode);var $m=vt&&"TextEvent"in window&&!xr,Wu=vt&&(!Ei||xr&&8<xr&&11>=xr),za=" ",Fa=!1;function Hu(e,t){switch(e){case"keyup":return Fm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vn=!1;function Vm(e,t){switch(e){case"compositionend":return Bu(t);case"keypress":return t.which!==32?null:(Fa=!0,za);case"textInput":return e=t.data,e===za&&Fa?null:e;default:return null}}function Um(e,t){if(vn)return e==="compositionend"||!Ei&&Hu(e,t)?(e=Uu(),ks=ki=Dt=null,vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wu&&t.locale!=="ko"?null:t.data;default:return null}}var Wm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $a(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Wm[e.type]:t==="textarea"}function Ku(e,t,n,r){Nu(r),t=Vs(t,"onChange"),0<t.length&&(n=new Si("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var gr=null,Pr=null;function Hm(e){rd(e,0)}function ao(e){var t=jn(e);if(xu(t))return e}function Bm(e,t){if(e==="change")return t}var Qu=!1;if(vt){var Ao;if(vt){var Oo="oninput"in document;if(!Oo){var Va=document.createElement("div");Va.setAttribute("oninput","return;"),Oo=typeof Va.oninput=="function"}Ao=Oo}else Ao=!1;Qu=Ao&&(!document.documentMode||9<document.documentMode)}function Ua(){gr&&(gr.detachEvent("onpropertychange",Gu),Pr=gr=null)}function Gu(e){if(e.propertyName==="value"&&ao(Pr)){var t=[];Ku(t,Pr,e,vi(e)),Eu(Hm,t)}}function Km(e,t,n){e==="focusin"?(Ua(),gr=t,Pr=n,gr.attachEvent("onpropertychange",Gu)):e==="focusout"&&Ua()}function Qm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ao(Pr)}function Gm(e,t){if(e==="click")return ao(t)}function Ym(e,t){if(e==="input"||e==="change")return ao(t)}function Xm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ot=typeof Object.is=="function"?Object.is:Xm;function Rr(e,t){if(ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!il.call(t,s)||!ot(e[s],t[s]))return!1}return!0}function Wa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ha(e,t){var n=Wa(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wa(n)}}function Yu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xu(){for(var e=window,t=Ms();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ms(e.document)}return t}function Ti(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Zm(e){var t=Xu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Yu(n.ownerDocument.documentElement,n)){if(r!==null&&Ti(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Ha(n,o);var i=Ha(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Jm=vt&&"documentMode"in document&&11>=document.documentMode,wn=null,Cl=null,yr=null,El=!1;function Ba(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;El||wn==null||wn!==Ms(r)||(r=wn,"selectionStart"in r&&Ti(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yr&&Rr(yr,r)||(yr=r,r=Vs(Cl,"onSelect"),0<r.length&&(t=new Si("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wn)))}function as(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var bn={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionend:as("Transition","TransitionEnd")},zo={},Zu={};vt&&(Zu=document.createElement("div").style,"AnimationEvent"in window||(delete bn.animationend.animation,delete bn.animationiteration.animation,delete bn.animationstart.animation),"TransitionEvent"in window||delete bn.transitionend.transition);function co(e){if(zo[e])return zo[e];if(!bn[e])return e;var t=bn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Zu)return zo[e]=t[n];return e}var Ju=co("animationend"),qu=co("animationiteration"),ed=co("animationstart"),td=co("transitionend"),nd=new Map,Ka="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bt(e,t){nd.set(e,t),fn(t,[e])}for(var Fo=0;Fo<Ka.length;Fo++){var $o=Ka[Fo],qm=$o.toLowerCase(),eh=$o[0].toUpperCase()+$o.slice(1);Bt(qm,"on"+eh)}Bt(Ju,"onAnimationEnd");Bt(qu,"onAnimationIteration");Bt(ed,"onAnimationStart");Bt("dblclick","onDoubleClick");Bt("focusin","onFocus");Bt("focusout","onBlur");Bt(td,"onTransitionEnd");An("onMouseEnter",["mouseout","mouseover"]);An("onMouseLeave",["mouseout","mouseover"]);An("onPointerEnter",["pointerout","pointerover"]);An("onPointerLeave",["pointerout","pointerover"]);fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fn("onBeforeInput",["compositionend","keypress","textInput","paste"]);fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),th=new Set("cancel close invalid load scroll toggle".split(" ").concat(fr));function Qa(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,qp(r,t,void 0,e),e.currentTarget=null}function rd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;Qa(s,a,u),o=c}else for(i=0;i<r.length;i++){if(a=r[i],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;Qa(s,a,u),o=c}}}if(As)throw e=jl,As=!1,jl=null,e}function ne(e,t){var n=t[Ll];n===void 0&&(n=t[Ll]=new Set);var r=e+"__bubble";n.has(r)||(sd(t,e,2,!1),n.add(r))}function Vo(e,t,n){var r=0;t&&(r|=4),sd(n,e,r,t)}var cs="_reactListening"+Math.random().toString(36).slice(2);function Lr(e){if(!e[cs]){e[cs]=!0,du.forEach(function(n){n!=="selectionchange"&&(th.has(n)||Vo(n,!1,e),Vo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cs]||(t[cs]=!0,Vo("selectionchange",!1,t))}}function sd(e,t,n,r){switch(Vu(t)){case 1:var s=hm;break;case 4:s=xm;break;default:s=Ni}n=s.bind(null,t,n,e),s=void 0,!bl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Uo(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;a!==null;){if(i=Jt(a),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}a=a.parentNode}}r=r.return}Eu(function(){var u=o,m=vi(n),x=[];e:{var d=nd.get(e);if(d!==void 0){var w=Si,b=e;switch(e){case"keypress":if(Ss(n)===0)break e;case"keydown":case"keyup":w=Rm;break;case"focusin":b="focus",w=Io;break;case"focusout":b="blur",w=Io;break;case"beforeblur":case"afterblur":w=Io;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Ia;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=vm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Mm;break;case Ju:case qu:case ed:w=jm;break;case td:w=Am;break;case"scroll":w=gm;break;case"wheel":w=zm;break;case"copy":case"cut":case"paste":w=km;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Oa}var v=(t&4)!==0,N=!v&&e==="scroll",h=v?d!==null?d+"Capture":null:d;v=[];for(var f=u,g;f!==null;){g=f;var y=g.stateNode;if(g.tag===5&&y!==null&&(g=y,h!==null&&(y=Cr(f,h),y!=null&&v.push(Dr(f,y,g)))),N)break;f=f.return}0<v.length&&(d=new w(d,b,null,n,m),x.push({event:d,listeners:v}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",d&&n!==vl&&(b=n.relatedTarget||n.fromElement)&&(Jt(b)||b[wt]))break e;if((w||d)&&(d=m.window===m?m:(d=m.ownerDocument)?d.defaultView||d.parentWindow:window,w?(b=n.relatedTarget||n.toElement,w=u,b=b?Jt(b):null,b!==null&&(N=pn(b),b!==N||b.tag!==5&&b.tag!==6)&&(b=null)):(w=null,b=u),w!==b)){if(v=Ia,y="onMouseLeave",h="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(v=Oa,y="onPointerLeave",h="onPointerEnter",f="pointer"),N=w==null?d:jn(w),g=b==null?d:jn(b),d=new v(y,f+"leave",w,n,m),d.target=N,d.relatedTarget=g,y=null,Jt(m)===u&&(v=new v(h,f+"enter",b,n,m),v.target=g,v.relatedTarget=N,y=v),N=y,w&&b)t:{for(v=w,h=b,f=0,g=v;g;g=mn(g))f++;for(g=0,y=h;y;y=mn(y))g++;for(;0<f-g;)v=mn(v),f--;for(;0<g-f;)h=mn(h),g--;for(;f--;){if(v===h||h!==null&&v===h.alternate)break t;v=mn(v),h=mn(h)}v=null}else v=null;w!==null&&Ga(x,d,w,v,!1),b!==null&&N!==null&&Ga(x,N,b,v,!0)}}e:{if(d=u?jn(u):window,w=d.nodeName&&d.nodeName.toLowerCase(),w==="select"||w==="input"&&d.type==="file")var j=Bm;else if($a(d))if(Qu)j=Ym;else{j=Qm;var k=Km}else(w=d.nodeName)&&w.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(j=Gm);if(j&&(j=j(e,u))){Ku(x,j,n,m);break e}k&&k(e,d,u),e==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&ml(d,"number",d.value)}switch(k=u?jn(u):window,e){case"focusin":($a(k)||k.contentEditable==="true")&&(wn=k,Cl=u,yr=null);break;case"focusout":yr=Cl=wn=null;break;case"mousedown":El=!0;break;case"contextmenu":case"mouseup":case"dragend":El=!1,Ba(x,n,m);break;case"selectionchange":if(Jm)break;case"keydown":case"keyup":Ba(x,n,m)}var S;if(Ei)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else vn?Hu(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Wu&&n.locale!=="ko"&&(vn||E!=="onCompositionStart"?E==="onCompositionEnd"&&vn&&(S=Uu()):(Dt=m,ki="value"in Dt?Dt.value:Dt.textContent,vn=!0)),k=Vs(u,E),0<k.length&&(E=new Aa(E,e,null,n,m),x.push({event:E,listeners:k}),S?E.data=S:(S=Bu(n),S!==null&&(E.data=S)))),(S=$m?Vm(e,n):Um(e,n))&&(u=Vs(u,"onBeforeInput"),0<u.length&&(m=new Aa("onBeforeInput","beforeinput",null,n,m),x.push({event:m,listeners:u}),m.data=S))}rd(x,t)})}function Dr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vs(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Cr(e,n),o!=null&&r.unshift(Dr(e,o,s)),o=Cr(e,t),o!=null&&r.push(Dr(e,o,s))),e=e.return}return r}function mn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ga(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=Cr(n,o),c!=null&&i.unshift(Dr(n,c,a))):s||(c=Cr(n,o),c!=null&&i.push(Dr(n,c,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var nh=/\r\n?/g,rh=/\u0000|\uFFFD/g;function Ya(e){return(typeof e=="string"?e:""+e).replace(nh,`
`).replace(rh,"")}function us(e,t,n){if(t=Ya(t),Ya(e)!==t&&n)throw Error(T(425))}function Us(){}var Tl=null,_l=null;function Pl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rl=typeof setTimeout=="function"?setTimeout:void 0,sh=typeof clearTimeout=="function"?clearTimeout:void 0,Xa=typeof Promise=="function"?Promise:void 0,oh=typeof queueMicrotask=="function"?queueMicrotask:typeof Xa<"u"?function(e){return Xa.resolve(null).then(e).catch(lh)}:Rl;function lh(e){setTimeout(function(){throw e})}function Wo(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),_r(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);_r(t)}function zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Za(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Kn=Math.random().toString(36).slice(2),ct="__reactFiber$"+Kn,Mr="__reactProps$"+Kn,wt="__reactContainer$"+Kn,Ll="__reactEvents$"+Kn,ih="__reactListeners$"+Kn,ah="__reactHandles$"+Kn;function Jt(e){var t=e[ct];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wt]||n[ct]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Za(e);e!==null;){if(n=e[ct])return n;e=Za(e)}return t}e=n,n=e.parentNode}return null}function Qr(e){return e=e[ct]||e[wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function jn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function uo(e){return e[Mr]||null}var Dl=[],Nn=-1;function Kt(e){return{current:e}}function re(e){0>Nn||(e.current=Dl[Nn],Dl[Nn]=null,Nn--)}function q(e,t){Nn++,Dl[Nn]=e.current,e.current=t}var Ht={},Se=Kt(Ht),Me=Kt(!1),sn=Ht;function On(e,t){var n=e.type.contextTypes;if(!n)return Ht;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ie(e){return e=e.childContextTypes,e!=null}function Ws(){re(Me),re(Se)}function Ja(e,t,n){if(Se.current!==Ht)throw Error(T(168));q(Se,t),q(Me,n)}function od(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(T(108,Kp(e)||"Unknown",s));return ae({},n,r)}function Hs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ht,sn=Se.current,q(Se,e),q(Me,Me.current),!0}function qa(e,t,n){var r=e.stateNode;if(!r)throw Error(T(169));n?(e=od(e,t,sn),r.__reactInternalMemoizedMergedChildContext=e,re(Me),re(Se),q(Se,e)):re(Me),q(Me,n)}var ht=null,fo=!1,Ho=!1;function ld(e){ht===null?ht=[e]:ht.push(e)}function ch(e){fo=!0,ld(e)}function Qt(){if(!Ho&&ht!==null){Ho=!0;var e=0,t=Z;try{var n=ht;for(Z=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ht=null,fo=!1}catch(s){throw ht!==null&&(ht=ht.slice(e+1)),Ru(wi,Qt),s}finally{Z=t,Ho=!1}}return null}var kn=[],Sn=0,Bs=null,Ks=0,Qe=[],Ge=0,on=null,xt=1,gt="";function Xt(e,t){kn[Sn++]=Ks,kn[Sn++]=Bs,Bs=e,Ks=t}function id(e,t,n){Qe[Ge++]=xt,Qe[Ge++]=gt,Qe[Ge++]=on,on=e;var r=xt;e=gt;var s=32-rt(r)-1;r&=~(1<<s),n+=1;var o=32-rt(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,xt=1<<32-rt(t)+s|n<<s|r,gt=o+e}else xt=1<<o|n<<s|r,gt=e}function _i(e){e.return!==null&&(Xt(e,1),id(e,1,0))}function Pi(e){for(;e===Bs;)Bs=kn[--Sn],kn[Sn]=null,Ks=kn[--Sn],kn[Sn]=null;for(;e===on;)on=Qe[--Ge],Qe[Ge]=null,gt=Qe[--Ge],Qe[Ge]=null,xt=Qe[--Ge],Qe[Ge]=null}var Ue=null,Ve=null,oe=!1,nt=null;function ad(e,t){var n=Ye(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ec(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ue=e,Ve=zt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ue=e,Ve=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=on!==null?{id:xt,overflow:gt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ye(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ue=e,Ve=null,!0):!1;default:return!1}}function Ml(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Il(e){if(oe){var t=Ve;if(t){var n=t;if(!ec(e,t)){if(Ml(e))throw Error(T(418));t=zt(n.nextSibling);var r=Ue;t&&ec(e,t)?ad(r,n):(e.flags=e.flags&-4097|2,oe=!1,Ue=e)}}else{if(Ml(e))throw Error(T(418));e.flags=e.flags&-4097|2,oe=!1,Ue=e}}}function tc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ue=e}function ds(e){if(e!==Ue)return!1;if(!oe)return tc(e),oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Pl(e.type,e.memoizedProps)),t&&(t=Ve)){if(Ml(e))throw cd(),Error(T(418));for(;t;)ad(e,t),t=zt(t.nextSibling)}if(tc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ve=zt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ve=null}}else Ve=Ue?zt(e.stateNode.nextSibling):null;return!0}function cd(){for(var e=Ve;e;)e=zt(e.nextSibling)}function zn(){Ve=Ue=null,oe=!1}function Ri(e){nt===null?nt=[e]:nt.push(e)}var uh=Nt.ReactCurrentBatchConfig;function nr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,e))}return e}function fs(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nc(e){var t=e._init;return t(e._payload)}function ud(e){function t(h,f){if(e){var g=h.deletions;g===null?(h.deletions=[f],h.flags|=16):g.push(f)}}function n(h,f){if(!e)return null;for(;f!==null;)t(h,f),f=f.sibling;return null}function r(h,f){for(h=new Map;f!==null;)f.key!==null?h.set(f.key,f):h.set(f.index,f),f=f.sibling;return h}function s(h,f){return h=Ut(h,f),h.index=0,h.sibling=null,h}function o(h,f,g){return h.index=g,e?(g=h.alternate,g!==null?(g=g.index,g<f?(h.flags|=2,f):g):(h.flags|=2,f)):(h.flags|=1048576,f)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,f,g,y){return f===null||f.tag!==6?(f=Zo(g,h.mode,y),f.return=h,f):(f=s(f,g),f.return=h,f)}function c(h,f,g,y){var j=g.type;return j===yn?m(h,f,g.props.children,y,g.key):f!==null&&(f.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Tt&&nc(j)===f.type)?(y=s(f,g.props),y.ref=nr(h,f,g),y.return=h,y):(y=Ls(g.type,g.key,g.props,null,h.mode,y),y.ref=nr(h,f,g),y.return=h,y)}function u(h,f,g,y){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=Jo(g,h.mode,y),f.return=h,f):(f=s(f,g.children||[]),f.return=h,f)}function m(h,f,g,y,j){return f===null||f.tag!==7?(f=nn(g,h.mode,y,j),f.return=h,f):(f=s(f,g),f.return=h,f)}function x(h,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Zo(""+f,h.mode,g),f.return=h,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ts:return g=Ls(f.type,f.key,f.props,null,h.mode,g),g.ref=nr(h,null,f),g.return=h,g;case gn:return f=Jo(f,h.mode,g),f.return=h,f;case Tt:var y=f._init;return x(h,y(f._payload),g)}if(ur(f)||Zn(f))return f=nn(f,h.mode,g,null),f.return=h,f;fs(h,f)}return null}function d(h,f,g,y){var j=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return j!==null?null:a(h,f,""+g,y);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ts:return g.key===j?c(h,f,g,y):null;case gn:return g.key===j?u(h,f,g,y):null;case Tt:return j=g._init,d(h,f,j(g._payload),y)}if(ur(g)||Zn(g))return j!==null?null:m(h,f,g,y,null);fs(h,g)}return null}function w(h,f,g,y,j){if(typeof y=="string"&&y!==""||typeof y=="number")return h=h.get(g)||null,a(f,h,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ts:return h=h.get(y.key===null?g:y.key)||null,c(f,h,y,j);case gn:return h=h.get(y.key===null?g:y.key)||null,u(f,h,y,j);case Tt:var k=y._init;return w(h,f,g,k(y._payload),j)}if(ur(y)||Zn(y))return h=h.get(g)||null,m(f,h,y,j,null);fs(f,y)}return null}function b(h,f,g,y){for(var j=null,k=null,S=f,E=f=0,A=null;S!==null&&E<g.length;E++){S.index>E?(A=S,S=null):A=S.sibling;var D=d(h,S,g[E],y);if(D===null){S===null&&(S=A);break}e&&S&&D.alternate===null&&t(h,S),f=o(D,f,E),k===null?j=D:k.sibling=D,k=D,S=A}if(E===g.length)return n(h,S),oe&&Xt(h,E),j;if(S===null){for(;E<g.length;E++)S=x(h,g[E],y),S!==null&&(f=o(S,f,E),k===null?j=S:k.sibling=S,k=S);return oe&&Xt(h,E),j}for(S=r(h,S);E<g.length;E++)A=w(S,h,E,g[E],y),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?E:A.key),f=o(A,f,E),k===null?j=A:k.sibling=A,k=A);return e&&S.forEach(function(H){return t(h,H)}),oe&&Xt(h,E),j}function v(h,f,g,y){var j=Zn(g);if(typeof j!="function")throw Error(T(150));if(g=j.call(g),g==null)throw Error(T(151));for(var k=j=null,S=f,E=f=0,A=null,D=g.next();S!==null&&!D.done;E++,D=g.next()){S.index>E?(A=S,S=null):A=S.sibling;var H=d(h,S,D.value,y);if(H===null){S===null&&(S=A);break}e&&S&&H.alternate===null&&t(h,S),f=o(H,f,E),k===null?j=H:k.sibling=H,k=H,S=A}if(D.done)return n(h,S),oe&&Xt(h,E),j;if(S===null){for(;!D.done;E++,D=g.next())D=x(h,D.value,y),D!==null&&(f=o(D,f,E),k===null?j=D:k.sibling=D,k=D);return oe&&Xt(h,E),j}for(S=r(h,S);!D.done;E++,D=g.next())D=w(S,h,E,D.value,y),D!==null&&(e&&D.alternate!==null&&S.delete(D.key===null?E:D.key),f=o(D,f,E),k===null?j=D:k.sibling=D,k=D);return e&&S.forEach(function(R){return t(h,R)}),oe&&Xt(h,E),j}function N(h,f,g,y){if(typeof g=="object"&&g!==null&&g.type===yn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ts:e:{for(var j=g.key,k=f;k!==null;){if(k.key===j){if(j=g.type,j===yn){if(k.tag===7){n(h,k.sibling),f=s(k,g.props.children),f.return=h,h=f;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Tt&&nc(j)===k.type){n(h,k.sibling),f=s(k,g.props),f.ref=nr(h,k,g),f.return=h,h=f;break e}n(h,k);break}else t(h,k);k=k.sibling}g.type===yn?(f=nn(g.props.children,h.mode,y,g.key),f.return=h,h=f):(y=Ls(g.type,g.key,g.props,null,h.mode,y),y.ref=nr(h,f,g),y.return=h,h=y)}return i(h);case gn:e:{for(k=g.key;f!==null;){if(f.key===k)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(h,f.sibling),f=s(f,g.children||[]),f.return=h,h=f;break e}else{n(h,f);break}else t(h,f);f=f.sibling}f=Jo(g,h.mode,y),f.return=h,h=f}return i(h);case Tt:return k=g._init,N(h,f,k(g._payload),y)}if(ur(g))return b(h,f,g,y);if(Zn(g))return v(h,f,g,y);fs(h,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(h,f.sibling),f=s(f,g),f.return=h,h=f):(n(h,f),f=Zo(g,h.mode,y),f.return=h,h=f),i(h)):n(h,f)}return N}var Fn=ud(!0),dd=ud(!1),Qs=Kt(null),Gs=null,Cn=null,Li=null;function Di(){Li=Cn=Gs=null}function Mi(e){var t=Qs.current;re(Qs),e._currentValue=t}function Al(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Dn(e,t){Gs=e,Li=Cn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(De=!0),e.firstContext=null)}function Ze(e){var t=e._currentValue;if(Li!==e)if(e={context:e,memoizedValue:t,next:null},Cn===null){if(Gs===null)throw Error(T(308));Cn=e,Gs.dependencies={lanes:0,firstContext:e}}else Cn=Cn.next=e;return t}var qt=null;function Ii(e){qt===null?qt=[e]:qt.push(e)}function fd(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Ii(t)):(n.next=s.next,s.next=n),t.interleaved=n,bt(e,r)}function bt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var _t=!1;function Ai(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function yt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ft(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Q&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,bt(e,n)}return s=r.interleaved,s===null?(t.next=t,Ii(r)):(t.next=s.next,s.next=t),r.interleaved=t,bt(e,n)}function Cs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bi(e,n)}}function rc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ys(e,t,n,r){var s=e.updateQueue;_t=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var m=e.alternate;m!==null&&(m=m.updateQueue,a=m.lastBaseUpdate,a!==i&&(a===null?m.firstBaseUpdate=u:a.next=u,m.lastBaseUpdate=c))}if(o!==null){var x=s.baseState;i=0,m=u=c=null,a=o;do{var d=a.lane,w=a.eventTime;if((r&d)===d){m!==null&&(m=m.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=e,v=a;switch(d=t,w=n,v.tag){case 1:if(b=v.payload,typeof b=="function"){x=b.call(w,x,d);break e}x=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,d=typeof b=="function"?b.call(w,x,d):b,d==null)break e;x=ae({},x,d);break e;case 2:_t=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=s.effects,d===null?s.effects=[a]:d.push(a))}else w={eventTime:w,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},m===null?(u=m=w,c=x):m=m.next=w,i|=d;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;d=a,a=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(m===null&&(c=x),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=m,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);an|=i,e.lanes=i,e.memoizedState=x}}function sc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(T(191,s));s.call(r)}}}var Gr={},dt=Kt(Gr),Ir=Kt(Gr),Ar=Kt(Gr);function en(e){if(e===Gr)throw Error(T(174));return e}function Oi(e,t){switch(q(Ar,t),q(Ir,e),q(dt,Gr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xl(t,e)}re(dt),q(dt,t)}function $n(){re(dt),re(Ir),re(Ar)}function md(e){en(Ar.current);var t=en(dt.current),n=xl(t,e.type);t!==n&&(q(Ir,e),q(dt,n))}function zi(e){Ir.current===e&&(re(dt),re(Ir))}var le=Kt(0);function Xs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bo=[];function Fi(){for(var e=0;e<Bo.length;e++)Bo[e]._workInProgressVersionPrimary=null;Bo.length=0}var Es=Nt.ReactCurrentDispatcher,Ko=Nt.ReactCurrentBatchConfig,ln=0,ie=null,fe=null,he=null,Zs=!1,vr=!1,Or=0,dh=0;function je(){throw Error(T(321))}function $i(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ot(e[n],t[n]))return!1;return!0}function Vi(e,t,n,r,s,o){if(ln=o,ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Es.current=e===null||e.memoizedState===null?hh:xh,e=n(r,s),vr){o=0;do{if(vr=!1,Or=0,25<=o)throw Error(T(301));o+=1,he=fe=null,t.updateQueue=null,Es.current=gh,e=n(r,s)}while(vr)}if(Es.current=Js,t=fe!==null&&fe.next!==null,ln=0,he=fe=ie=null,Zs=!1,t)throw Error(T(300));return e}function Ui(){var e=Or!==0;return Or=0,e}function it(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?ie.memoizedState=he=e:he=he.next=e,he}function Je(){if(fe===null){var e=ie.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var t=he===null?ie.memoizedState:he.next;if(t!==null)he=t,fe=e;else{if(e===null)throw Error(T(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},he===null?ie.memoizedState=he=e:he=he.next=e}return he}function zr(e,t){return typeof t=="function"?t(e):t}function Qo(e){var t=Je(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=fe,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,c=null,u=o;do{var m=u.lane;if((ln&m)===m)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var x={lane:m,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=x,i=r):c=c.next=x,ie.lanes|=m,an|=m}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=a,ot(r,t.memoizedState)||(De=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,ie.lanes|=o,an|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Go(e){var t=Je(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);ot(o,t.memoizedState)||(De=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function hd(){}function xd(e,t){var n=ie,r=Je(),s=t(),o=!ot(r.memoizedState,s);if(o&&(r.memoizedState=s,De=!0),r=r.queue,Wi(vd.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||he!==null&&he.memoizedState.tag&1){if(n.flags|=2048,Fr(9,yd.bind(null,n,r,s,t),void 0,null),xe===null)throw Error(T(349));ln&30||gd(n,t,s)}return s}function gd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function yd(e,t,n,r){t.value=n,t.getSnapshot=r,wd(t)&&bd(e)}function vd(e,t,n){return n(function(){wd(t)&&bd(e)})}function wd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ot(e,n)}catch{return!0}}function bd(e){var t=bt(e,1);t!==null&&st(t,e,1,-1)}function oc(e){var t=it();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:e},t.queue=e,e=e.dispatch=mh.bind(null,ie,e),[t.memoizedState,e]}function Fr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function jd(){return Je().memoizedState}function Ts(e,t,n,r){var s=it();ie.flags|=e,s.memoizedState=Fr(1|t,n,void 0,r===void 0?null:r)}function po(e,t,n,r){var s=Je();r=r===void 0?null:r;var o=void 0;if(fe!==null){var i=fe.memoizedState;if(o=i.destroy,r!==null&&$i(r,i.deps)){s.memoizedState=Fr(t,n,o,r);return}}ie.flags|=e,s.memoizedState=Fr(1|t,n,o,r)}function lc(e,t){return Ts(8390656,8,e,t)}function Wi(e,t){return po(2048,8,e,t)}function Nd(e,t){return po(4,2,e,t)}function kd(e,t){return po(4,4,e,t)}function Sd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Cd(e,t,n){return n=n!=null?n.concat([e]):null,po(4,4,Sd.bind(null,t,e),n)}function Hi(){}function Ed(e,t){var n=Je();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$i(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Td(e,t){var n=Je();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$i(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function _d(e,t,n){return ln&21?(ot(n,t)||(n=Mu(),ie.lanes|=n,an|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,De=!0),e.memoizedState=n)}function fh(e,t){var n=Z;Z=n!==0&&4>n?n:4,e(!0);var r=Ko.transition;Ko.transition={};try{e(!1),t()}finally{Z=n,Ko.transition=r}}function Pd(){return Je().memoizedState}function ph(e,t,n){var r=Vt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Rd(e))Ld(t,n);else if(n=fd(e,t,n,r),n!==null){var s=Te();st(n,e,r,s),Dd(n,t,r)}}function mh(e,t,n){var r=Vt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rd(e))Ld(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,ot(a,i)){var c=t.interleaved;c===null?(s.next=s,Ii(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=fd(e,t,s,r),n!==null&&(s=Te(),st(n,e,r,s),Dd(n,t,r))}}function Rd(e){var t=e.alternate;return e===ie||t!==null&&t===ie}function Ld(e,t){vr=Zs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Dd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bi(e,n)}}var Js={readContext:Ze,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useInsertionEffect:je,useLayoutEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useMutableSource:je,useSyncExternalStore:je,useId:je,unstable_isNewReconciler:!1},hh={readContext:Ze,useCallback:function(e,t){return it().memoizedState=[e,t===void 0?null:t],e},useContext:Ze,useEffect:lc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ts(4194308,4,Sd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ts(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ts(4,2,e,t)},useMemo:function(e,t){var n=it();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=it();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ph.bind(null,ie,e),[r.memoizedState,e]},useRef:function(e){var t=it();return e={current:e},t.memoizedState=e},useState:oc,useDebugValue:Hi,useDeferredValue:function(e){return it().memoizedState=e},useTransition:function(){var e=oc(!1),t=e[0];return e=fh.bind(null,e[1]),it().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ie,s=it();if(oe){if(n===void 0)throw Error(T(407));n=n()}else{if(n=t(),xe===null)throw Error(T(349));ln&30||gd(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,lc(vd.bind(null,r,o,e),[e]),r.flags|=2048,Fr(9,yd.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=it(),t=xe.identifierPrefix;if(oe){var n=gt,r=xt;n=(r&~(1<<32-rt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Or++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xh={readContext:Ze,useCallback:Ed,useContext:Ze,useEffect:Wi,useImperativeHandle:Cd,useInsertionEffect:Nd,useLayoutEffect:kd,useMemo:Td,useReducer:Qo,useRef:jd,useState:function(){return Qo(zr)},useDebugValue:Hi,useDeferredValue:function(e){var t=Je();return _d(t,fe.memoizedState,e)},useTransition:function(){var e=Qo(zr)[0],t=Je().memoizedState;return[e,t]},useMutableSource:hd,useSyncExternalStore:xd,useId:Pd,unstable_isNewReconciler:!1},gh={readContext:Ze,useCallback:Ed,useContext:Ze,useEffect:Wi,useImperativeHandle:Cd,useInsertionEffect:Nd,useLayoutEffect:kd,useMemo:Td,useReducer:Go,useRef:jd,useState:function(){return Go(zr)},useDebugValue:Hi,useDeferredValue:function(e){var t=Je();return fe===null?t.memoizedState=e:_d(t,fe.memoizedState,e)},useTransition:function(){var e=Go(zr)[0],t=Je().memoizedState;return[e,t]},useMutableSource:hd,useSyncExternalStore:xd,useId:Pd,unstable_isNewReconciler:!1};function et(e,t){if(e&&e.defaultProps){t=ae({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ol(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ae({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var mo={isMounted:function(e){return(e=e._reactInternals)?pn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Te(),s=Vt(e),o=yt(r,s);o.payload=t,n!=null&&(o.callback=n),t=Ft(e,o,s),t!==null&&(st(t,e,s,r),Cs(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Te(),s=Vt(e),o=yt(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ft(e,o,s),t!==null&&(st(t,e,s,r),Cs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Te(),r=Vt(e),s=yt(n,r);s.tag=2,t!=null&&(s.callback=t),t=Ft(e,s,r),t!==null&&(st(t,e,r,n),Cs(t,e,r))}};function ic(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Rr(n,r)||!Rr(s,o):!0}function Md(e,t,n){var r=!1,s=Ht,o=t.contextType;return typeof o=="object"&&o!==null?o=Ze(o):(s=Ie(t)?sn:Se.current,r=t.contextTypes,o=(r=r!=null)?On(e,s):Ht),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=mo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function ac(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function zl(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ai(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Ze(o):(o=Ie(t)?sn:Se.current,s.context=On(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ol(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&mo.enqueueReplaceState(s,s.state,null),Ys(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Vn(e,t){try{var n="",r=t;do n+=Bp(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Yo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Fl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var yh=typeof WeakMap=="function"?WeakMap:Map;function Id(e,t,n){n=yt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){eo||(eo=!0,Yl=r),Fl(e,t)},n}function Ad(e,t,n){n=yt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Fl(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Fl(e,t),typeof r!="function"&&($t===null?$t=new Set([this]):$t.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function cc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new yh;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Lh.bind(null,e,t,n),t.then(e,e))}function uc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dc(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=yt(-1,1),t.tag=2,Ft(n,t,1))),n.lanes|=1),e)}var vh=Nt.ReactCurrentOwner,De=!1;function Ce(e,t,n,r){t.child=e===null?dd(t,null,n,r):Fn(t,e.child,n,r)}function fc(e,t,n,r,s){n=n.render;var o=t.ref;return Dn(t,s),r=Vi(e,t,n,r,o,s),n=Ui(),e!==null&&!De?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,jt(e,t,s)):(oe&&n&&_i(t),t.flags|=1,Ce(e,t,r,s),t.child)}function pc(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Ji(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Od(e,t,o,r,s)):(e=Ls(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Rr,n(i,r)&&e.ref===t.ref)return jt(e,t,s)}return t.flags|=1,e=Ut(o,r),e.ref=t.ref,e.return=t,t.child=e}function Od(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Rr(o,r)&&e.ref===t.ref)if(De=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(De=!0);else return t.lanes=e.lanes,jt(e,t,s)}return $l(e,t,n,r,s)}function zd(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(Tn,ze),ze|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,q(Tn,ze),ze|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,q(Tn,ze),ze|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,q(Tn,ze),ze|=r;return Ce(e,t,s,n),t.child}function Fd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $l(e,t,n,r,s){var o=Ie(n)?sn:Se.current;return o=On(t,o),Dn(t,s),n=Vi(e,t,n,r,o,s),r=Ui(),e!==null&&!De?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,jt(e,t,s)):(oe&&r&&_i(t),t.flags|=1,Ce(e,t,n,s),t.child)}function mc(e,t,n,r,s){if(Ie(n)){var o=!0;Hs(t)}else o=!1;if(Dn(t,s),t.stateNode===null)_s(e,t),Md(t,n,r),zl(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ze(u):(u=Ie(n)?sn:Se.current,u=On(t,u));var m=n.getDerivedStateFromProps,x=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function";x||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||c!==u)&&ac(t,i,r,u),_t=!1;var d=t.memoizedState;i.state=d,Ys(t,r,i,s),c=t.memoizedState,a!==r||d!==c||Me.current||_t?(typeof m=="function"&&(Ol(t,n,m,r),c=t.memoizedState),(a=_t||ic(t,n,a,r,d,c,u))?(x||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,pd(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:et(t.type,a),i.props=u,x=t.pendingProps,d=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ze(c):(c=Ie(n)?sn:Se.current,c=On(t,c));var w=n.getDerivedStateFromProps;(m=typeof w=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==x||d!==c)&&ac(t,i,r,c),_t=!1,d=t.memoizedState,i.state=d,Ys(t,r,i,s);var b=t.memoizedState;a!==x||d!==b||Me.current||_t?(typeof w=="function"&&(Ol(t,n,w,r),b=t.memoizedState),(u=_t||ic(t,n,u,r,d,b,c)||!1)?(m||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,b,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,b,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),i.props=r,i.state=b,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Vl(e,t,n,r,o,s)}function Vl(e,t,n,r,s,o){Fd(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&qa(t,n,!1),jt(e,t,o);r=t.stateNode,vh.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Fn(t,e.child,null,o),t.child=Fn(t,null,a,o)):Ce(e,t,a,o),t.memoizedState=r.state,s&&qa(t,n,!0),t.child}function $d(e){var t=e.stateNode;t.pendingContext?Ja(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ja(e,t.context,!1),Oi(e,t.containerInfo)}function hc(e,t,n,r,s){return zn(),Ri(s),t.flags|=256,Ce(e,t,n,r),t.child}var Ul={dehydrated:null,treeContext:null,retryLane:0};function Wl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vd(e,t,n){var r=t.pendingProps,s=le.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),q(le,s&1),e===null)return Il(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=go(i,r,0,null),e=nn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Wl(n),t.memoizedState=Ul,e):Bi(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return wh(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ut(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Ut(a,o):(o=nn(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Wl(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Ul,r}return o=e.child,e=o.sibling,r=Ut(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Bi(e,t){return t=go({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ps(e,t,n,r){return r!==null&&Ri(r),Fn(t,e.child,null,n),e=Bi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wh(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=Yo(Error(T(422))),ps(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=go({mode:"visible",children:r.children},s,0,null),o=nn(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Fn(t,e.child,null,i),t.child.memoizedState=Wl(i),t.memoizedState=Ul,o);if(!(t.mode&1))return ps(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(T(419)),r=Yo(o,r,void 0),ps(e,t,i,r)}if(a=(i&e.childLanes)!==0,De||a){if(r=xe,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,bt(e,s),st(r,e,s,-1))}return Zi(),r=Yo(Error(T(421))),ps(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Dh.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Ve=zt(s.nextSibling),Ue=t,oe=!0,nt=null,e!==null&&(Qe[Ge++]=xt,Qe[Ge++]=gt,Qe[Ge++]=on,xt=e.id,gt=e.overflow,on=t),t=Bi(t,r.children),t.flags|=4096,t)}function xc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Al(e.return,t,n)}function Xo(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function Ud(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Ce(e,t,r.children,n),r=le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xc(e,n,t);else if(e.tag===19)xc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(q(le,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Xs(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Xo(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Xs(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Xo(t,!0,n,null,o);break;case"together":Xo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _s(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),an|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,n=Ut(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ut(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function bh(e,t,n){switch(t.tag){case 3:$d(t),zn();break;case 5:md(t);break;case 1:Ie(t.type)&&Hs(t);break;case 4:Oi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;q(Qs,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(q(le,le.current&1),t.flags|=128,null):n&t.child.childLanes?Vd(e,t,n):(q(le,le.current&1),e=jt(e,t,n),e!==null?e.sibling:null);q(le,le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ud(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),q(le,le.current),r)break;return null;case 22:case 23:return t.lanes=0,zd(e,t,n)}return jt(e,t,n)}var Wd,Hl,Hd,Bd;Wd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hl=function(){};Hd=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,en(dt.current);var o=null;switch(n){case"input":s=fl(e,s),r=fl(e,r),o=[];break;case"select":s=ae({},s,{value:void 0}),r=ae({},r,{value:void 0}),o=[];break;case"textarea":s=hl(e,s),r=hl(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Us)}gl(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(kr.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(kr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ne("scroll",e),o||a===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Bd=function(e,t,n,r){n!==r&&(t.flags|=4)};function rr(e,t){if(!oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ne(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function jh(e,t,n){var r=t.pendingProps;switch(Pi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(t),null;case 1:return Ie(t.type)&&Ws(),Ne(t),null;case 3:return r=t.stateNode,$n(),re(Me),re(Se),Fi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ds(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nt!==null&&(Jl(nt),nt=null))),Hl(e,t),Ne(t),null;case 5:zi(t);var s=en(Ar.current);if(n=t.type,e!==null&&t.stateNode!=null)Hd(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(T(166));return Ne(t),null}if(e=en(dt.current),ds(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ct]=t,r[Mr]=o,e=(t.mode&1)!==0,n){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(s=0;s<fr.length;s++)ne(fr[s],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":Sa(r,o),ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ne("invalid",r);break;case"textarea":Ea(r,o),ne("invalid",r)}gl(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&us(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&us(r.textContent,a,e),s=["children",""+a]):kr.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&ne("scroll",r)}switch(n){case"input":ns(r),Ca(r,o,!0);break;case"textarea":ns(r),Ta(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Us)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[ct]=t,e[Mr]=r,Wd(e,t,!1,!1),t.stateNode=e;e:{switch(i=yl(n,r),n){case"dialog":ne("cancel",e),ne("close",e),s=r;break;case"iframe":case"object":case"embed":ne("load",e),s=r;break;case"video":case"audio":for(s=0;s<fr.length;s++)ne(fr[s],e);s=r;break;case"source":ne("error",e),s=r;break;case"img":case"image":case"link":ne("error",e),ne("load",e),s=r;break;case"details":ne("toggle",e),s=r;break;case"input":Sa(e,r),s=fl(e,r),ne("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ae({},r,{value:void 0}),ne("invalid",e);break;case"textarea":Ea(e,r),s=hl(e,r),ne("invalid",e);break;default:s=r}gl(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?ju(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&wu(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Sr(e,c):typeof c=="number"&&Sr(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(kr.hasOwnProperty(o)?c!=null&&o==="onScroll"&&ne("scroll",e):c!=null&&hi(e,o,c,i))}switch(n){case"input":ns(e),Ca(e,r,!1);break;case"textarea":ns(e),Ta(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Wt(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?_n(e,!!r.multiple,o,!1):r.defaultValue!=null&&_n(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Us)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ne(t),null;case 6:if(e&&t.stateNode!=null)Bd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(T(166));if(n=en(Ar.current),en(dt.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[ct]=t,(o=r.nodeValue!==n)&&(e=Ue,e!==null))switch(e.tag){case 3:us(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&us(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ct]=t,t.stateNode=r}return Ne(t),null;case 13:if(re(le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(oe&&Ve!==null&&t.mode&1&&!(t.flags&128))cd(),zn(),t.flags|=98560,o=!1;else if(o=ds(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(T(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(T(317));o[ct]=t}else zn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ne(t),o=!1}else nt!==null&&(Jl(nt),nt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||le.current&1?me===0&&(me=3):Zi())),t.updateQueue!==null&&(t.flags|=4),Ne(t),null);case 4:return $n(),Hl(e,t),e===null&&Lr(t.stateNode.containerInfo),Ne(t),null;case 10:return Mi(t.type._context),Ne(t),null;case 17:return Ie(t.type)&&Ws(),Ne(t),null;case 19:if(re(le),o=t.memoizedState,o===null)return Ne(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)rr(o,!1);else{if(me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Xs(e),i!==null){for(t.flags|=128,rr(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return q(le,le.current&1|2),t.child}e=e.sibling}o.tail!==null&&ue()>Un&&(t.flags|=128,r=!0,rr(o,!1),t.lanes=4194304)}else{if(!r)if(e=Xs(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),rr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!oe)return Ne(t),null}else 2*ue()-o.renderingStartTime>Un&&n!==1073741824&&(t.flags|=128,r=!0,rr(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ue(),t.sibling=null,n=le.current,q(le,r?n&1|2:n&1),t):(Ne(t),null);case 22:case 23:return Xi(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ze&1073741824&&(Ne(t),t.subtreeFlags&6&&(t.flags|=8192)):Ne(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function Nh(e,t){switch(Pi(t),t.tag){case 1:return Ie(t.type)&&Ws(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $n(),re(Me),re(Se),Fi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zi(t),null;case 13:if(re(le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));zn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(le),null;case 4:return $n(),null;case 10:return Mi(t.type._context),null;case 22:case 23:return Xi(),null;case 24:return null;default:return null}}var ms=!1,ke=!1,kh=typeof WeakSet=="function"?WeakSet:Set,L=null;function En(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ce(e,t,r)}else n.current=null}function Bl(e,t,n){try{n()}catch(r){ce(e,t,r)}}var gc=!1;function Sh(e,t){if(Tl=Fs,e=Xu(),Ti(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,c=-1,u=0,m=0,x=e,d=null;t:for(;;){for(var w;x!==n||s!==0&&x.nodeType!==3||(a=i+s),x!==o||r!==0&&x.nodeType!==3||(c=i+r),x.nodeType===3&&(i+=x.nodeValue.length),(w=x.firstChild)!==null;)d=x,x=w;for(;;){if(x===e)break t;if(d===n&&++u===s&&(a=i),d===o&&++m===r&&(c=i),(w=x.nextSibling)!==null)break;x=d,d=x.parentNode}x=w}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(_l={focusedElem:e,selectionRange:n},Fs=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,N=b.memoizedState,h=t.stateNode,f=h.getSnapshotBeforeUpdate(t.elementType===t.type?v:et(t.type,v),N);h.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(y){ce(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return b=gc,gc=!1,b}function wr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Bl(t,n,o)}s=s.next}while(s!==r)}}function ho(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Kl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Kd(e){var t=e.alternate;t!==null&&(e.alternate=null,Kd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ct],delete t[Mr],delete t[Ll],delete t[ih],delete t[ah])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qd(e){return e.tag===5||e.tag===3||e.tag===4}function yc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ql(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Us));else if(r!==4&&(e=e.child,e!==null))for(Ql(e,t,n),e=e.sibling;e!==null;)Ql(e,t,n),e=e.sibling}function Gl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Gl(e,t,n),e=e.sibling;e!==null;)Gl(e,t,n),e=e.sibling}var ve=null,tt=!1;function St(e,t,n){for(n=n.child;n!==null;)Gd(e,t,n),n=n.sibling}function Gd(e,t,n){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(lo,n)}catch{}switch(n.tag){case 5:ke||En(n,t);case 6:var r=ve,s=tt;ve=null,St(e,t,n),ve=r,tt=s,ve!==null&&(tt?(e=ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ve.removeChild(n.stateNode));break;case 18:ve!==null&&(tt?(e=ve,n=n.stateNode,e.nodeType===8?Wo(e.parentNode,n):e.nodeType===1&&Wo(e,n),_r(e)):Wo(ve,n.stateNode));break;case 4:r=ve,s=tt,ve=n.stateNode.containerInfo,tt=!0,St(e,t,n),ve=r,tt=s;break;case 0:case 11:case 14:case 15:if(!ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Bl(n,t,i),s=s.next}while(s!==r)}St(e,t,n);break;case 1:if(!ke&&(En(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ce(n,t,a)}St(e,t,n);break;case 21:St(e,t,n);break;case 22:n.mode&1?(ke=(r=ke)||n.memoizedState!==null,St(e,t,n),ke=r):St(e,t,n);break;default:St(e,t,n)}}function vc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new kh),t.forEach(function(r){var s=Mh.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function qe(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:ve=a.stateNode,tt=!1;break e;case 3:ve=a.stateNode.containerInfo,tt=!0;break e;case 4:ve=a.stateNode.containerInfo,tt=!0;break e}a=a.return}if(ve===null)throw Error(T(160));Gd(o,i,s),ve=null,tt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ce(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Yd(t,e),t=t.sibling}function Yd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qe(t,e),lt(e),r&4){try{wr(3,e,e.return),ho(3,e)}catch(v){ce(e,e.return,v)}try{wr(5,e,e.return)}catch(v){ce(e,e.return,v)}}break;case 1:qe(t,e),lt(e),r&512&&n!==null&&En(n,n.return);break;case 5:if(qe(t,e),lt(e),r&512&&n!==null&&En(n,n.return),e.flags&32){var s=e.stateNode;try{Sr(s,"")}catch(v){ce(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&gu(s,o),yl(a,i);var u=yl(a,o);for(i=0;i<c.length;i+=2){var m=c[i],x=c[i+1];m==="style"?ju(s,x):m==="dangerouslySetInnerHTML"?wu(s,x):m==="children"?Sr(s,x):hi(s,m,x,u)}switch(a){case"input":pl(s,o);break;case"textarea":yu(s,o);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var w=o.value;w!=null?_n(s,!!o.multiple,w,!1):d!==!!o.multiple&&(o.defaultValue!=null?_n(s,!!o.multiple,o.defaultValue,!0):_n(s,!!o.multiple,o.multiple?[]:"",!1))}s[Mr]=o}catch(v){ce(e,e.return,v)}}break;case 6:if(qe(t,e),lt(e),r&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(v){ce(e,e.return,v)}}break;case 3:if(qe(t,e),lt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_r(t.containerInfo)}catch(v){ce(e,e.return,v)}break;case 4:qe(t,e),lt(e);break;case 13:qe(t,e),lt(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Gi=ue())),r&4&&vc(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(ke=(u=ke)||m,qe(t,e),ke=u):qe(t,e),lt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!m&&e.mode&1)for(L=e,m=e.child;m!==null;){for(x=L=m;L!==null;){switch(d=L,w=d.child,d.tag){case 0:case 11:case 14:case 15:wr(4,d,d.return);break;case 1:En(d,d.return);var b=d.stateNode;if(typeof b.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(v){ce(r,n,v)}}break;case 5:En(d,d.return);break;case 22:if(d.memoizedState!==null){bc(x);continue}}w!==null?(w.return=d,L=w):bc(x)}m=m.sibling}e:for(m=null,x=e;;){if(x.tag===5){if(m===null){m=x;try{s=x.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=x.stateNode,c=x.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=bu("display",i))}catch(v){ce(e,e.return,v)}}}else if(x.tag===6){if(m===null)try{x.stateNode.nodeValue=u?"":x.memoizedProps}catch(v){ce(e,e.return,v)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;m===x&&(m=null),x=x.return}m===x&&(m=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:qe(t,e),lt(e),r&4&&vc(e);break;case 21:break;default:qe(t,e),lt(e)}}function lt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Qd(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Sr(s,""),r.flags&=-33);var o=yc(e);Gl(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=yc(e);Ql(e,a,i);break;default:throw Error(T(161))}}catch(c){ce(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ch(e,t,n){L=e,Xd(e)}function Xd(e,t,n){for(var r=(e.mode&1)!==0;L!==null;){var s=L,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||ms;if(!i){var a=s.alternate,c=a!==null&&a.memoizedState!==null||ke;a=ms;var u=ke;if(ms=i,(ke=c)&&!u)for(L=s;L!==null;)i=L,c=i.child,i.tag===22&&i.memoizedState!==null?jc(s):c!==null?(c.return=i,L=c):jc(s);for(;o!==null;)L=o,Xd(o),o=o.sibling;L=s,ms=a,ke=u}wc(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,L=o):wc(e)}}function wc(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ke||ho(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ke)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:et(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&sc(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}sc(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var m=u.memoizedState;if(m!==null){var x=m.dehydrated;x!==null&&_r(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}ke||t.flags&512&&Kl(t)}catch(d){ce(t,t.return,d)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function bc(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function jc(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ho(4,t)}catch(c){ce(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){ce(t,s,c)}}var o=t.return;try{Kl(t)}catch(c){ce(t,o,c)}break;case 5:var i=t.return;try{Kl(t)}catch(c){ce(t,i,c)}}}catch(c){ce(t,t.return,c)}if(t===e){L=null;break}var a=t.sibling;if(a!==null){a.return=t.return,L=a;break}L=t.return}}var Eh=Math.ceil,qs=Nt.ReactCurrentDispatcher,Ki=Nt.ReactCurrentOwner,Xe=Nt.ReactCurrentBatchConfig,Q=0,xe=null,de=null,we=0,ze=0,Tn=Kt(0),me=0,$r=null,an=0,xo=0,Qi=0,br=null,Le=null,Gi=0,Un=1/0,mt=null,eo=!1,Yl=null,$t=null,hs=!1,Mt=null,to=0,jr=0,Xl=null,Ps=-1,Rs=0;function Te(){return Q&6?ue():Ps!==-1?Ps:Ps=ue()}function Vt(e){return e.mode&1?Q&2&&we!==0?we&-we:uh.transition!==null?(Rs===0&&(Rs=Mu()),Rs):(e=Z,e!==0||(e=window.event,e=e===void 0?16:Vu(e.type)),e):1}function st(e,t,n,r){if(50<jr)throw jr=0,Xl=null,Error(T(185));Br(e,n,r),(!(Q&2)||e!==xe)&&(e===xe&&(!(Q&2)&&(xo|=n),me===4&&Lt(e,we)),Ae(e,r),n===1&&Q===0&&!(t.mode&1)&&(Un=ue()+500,fo&&Qt()))}function Ae(e,t){var n=e.callbackNode;um(e,t);var r=zs(e,e===xe?we:0);if(r===0)n!==null&&Ra(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ra(n),t===1)e.tag===0?ch(Nc.bind(null,e)):ld(Nc.bind(null,e)),oh(function(){!(Q&6)&&Qt()}),n=null;else{switch(Iu(r)){case 1:n=wi;break;case 4:n=Lu;break;case 16:n=Os;break;case 536870912:n=Du;break;default:n=Os}n=sf(n,Zd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Zd(e,t){if(Ps=-1,Rs=0,Q&6)throw Error(T(327));var n=e.callbackNode;if(Mn()&&e.callbackNode!==n)return null;var r=zs(e,e===xe?we:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=no(e,r);else{t=r;var s=Q;Q|=2;var o=qd();(xe!==e||we!==t)&&(mt=null,Un=ue()+500,tn(e,t));do try{Ph();break}catch(a){Jd(e,a)}while(!0);Di(),qs.current=o,Q=s,de!==null?t=0:(xe=null,we=0,t=me)}if(t!==0){if(t===2&&(s=Nl(e),s!==0&&(r=s,t=Zl(e,s))),t===1)throw n=$r,tn(e,0),Lt(e,r),Ae(e,ue()),n;if(t===6)Lt(e,r);else{if(s=e.current.alternate,!(r&30)&&!Th(s)&&(t=no(e,r),t===2&&(o=Nl(e),o!==0&&(r=o,t=Zl(e,o))),t===1))throw n=$r,tn(e,0),Lt(e,r),Ae(e,ue()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(T(345));case 2:Zt(e,Le,mt);break;case 3:if(Lt(e,r),(r&130023424)===r&&(t=Gi+500-ue(),10<t)){if(zs(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Te(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Rl(Zt.bind(null,e,Le,mt),t);break}Zt(e,Le,mt);break;case 4:if(Lt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-rt(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eh(r/1960))-r,10<r){e.timeoutHandle=Rl(Zt.bind(null,e,Le,mt),r);break}Zt(e,Le,mt);break;case 5:Zt(e,Le,mt);break;default:throw Error(T(329))}}}return Ae(e,ue()),e.callbackNode===n?Zd.bind(null,e):null}function Zl(e,t){var n=br;return e.current.memoizedState.isDehydrated&&(tn(e,t).flags|=256),e=no(e,t),e!==2&&(t=Le,Le=n,t!==null&&Jl(t)),e}function Jl(e){Le===null?Le=e:Le.push.apply(Le,e)}function Th(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!ot(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Lt(e,t){for(t&=~Qi,t&=~xo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rt(t),r=1<<n;e[n]=-1,t&=~r}}function Nc(e){if(Q&6)throw Error(T(327));Mn();var t=zs(e,0);if(!(t&1))return Ae(e,ue()),null;var n=no(e,t);if(e.tag!==0&&n===2){var r=Nl(e);r!==0&&(t=r,n=Zl(e,r))}if(n===1)throw n=$r,tn(e,0),Lt(e,t),Ae(e,ue()),n;if(n===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zt(e,Le,mt),Ae(e,ue()),null}function Yi(e,t){var n=Q;Q|=1;try{return e(t)}finally{Q=n,Q===0&&(Un=ue()+500,fo&&Qt())}}function cn(e){Mt!==null&&Mt.tag===0&&!(Q&6)&&Mn();var t=Q;Q|=1;var n=Xe.transition,r=Z;try{if(Xe.transition=null,Z=1,e)return e()}finally{Z=r,Xe.transition=n,Q=t,!(Q&6)&&Qt()}}function Xi(){ze=Tn.current,re(Tn)}function tn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,sh(n)),de!==null)for(n=de.return;n!==null;){var r=n;switch(Pi(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ws();break;case 3:$n(),re(Me),re(Se),Fi();break;case 5:zi(r);break;case 4:$n();break;case 13:re(le);break;case 19:re(le);break;case 10:Mi(r.type._context);break;case 22:case 23:Xi()}n=n.return}if(xe=e,de=e=Ut(e.current,null),we=ze=t,me=0,$r=null,Qi=xo=an=0,Le=br=null,qt!==null){for(t=0;t<qt.length;t++)if(n=qt[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}qt=null}return e}function Jd(e,t){do{var n=de;try{if(Di(),Es.current=Js,Zs){for(var r=ie.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Zs=!1}if(ln=0,he=fe=ie=null,vr=!1,Or=0,Ki.current=null,n===null||n.return===null){me=1,$r=t,de=null;break}e:{var o=e,i=n.return,a=n,c=t;if(t=we,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,m=a,x=m.tag;if(!(m.mode&1)&&(x===0||x===11||x===15)){var d=m.alternate;d?(m.updateQueue=d.updateQueue,m.memoizedState=d.memoizedState,m.lanes=d.lanes):(m.updateQueue=null,m.memoizedState=null)}var w=uc(i);if(w!==null){w.flags&=-257,dc(w,i,a,o,t),w.mode&1&&cc(o,u,t),t=w,c=u;var b=t.updateQueue;if(b===null){var v=new Set;v.add(c),t.updateQueue=v}else b.add(c);break e}else{if(!(t&1)){cc(o,u,t),Zi();break e}c=Error(T(426))}}else if(oe&&a.mode&1){var N=uc(i);if(N!==null){!(N.flags&65536)&&(N.flags|=256),dc(N,i,a,o,t),Ri(Vn(c,a));break e}}o=c=Vn(c,a),me!==4&&(me=2),br===null?br=[o]:br.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var h=Id(o,c,t);rc(o,h);break e;case 1:a=c;var f=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&($t===null||!$t.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var y=Ad(o,a,t);rc(o,y);break e}}o=o.return}while(o!==null)}tf(n)}catch(j){t=j,de===n&&n!==null&&(de=n=n.return);continue}break}while(!0)}function qd(){var e=qs.current;return qs.current=Js,e===null?Js:e}function Zi(){(me===0||me===3||me===2)&&(me=4),xe===null||!(an&268435455)&&!(xo&268435455)||Lt(xe,we)}function no(e,t){var n=Q;Q|=2;var r=qd();(xe!==e||we!==t)&&(mt=null,tn(e,t));do try{_h();break}catch(s){Jd(e,s)}while(!0);if(Di(),Q=n,qs.current=r,de!==null)throw Error(T(261));return xe=null,we=0,me}function _h(){for(;de!==null;)ef(de)}function Ph(){for(;de!==null&&!tm();)ef(de)}function ef(e){var t=rf(e.alternate,e,ze);e.memoizedProps=e.pendingProps,t===null?tf(e):de=t,Ki.current=null}function tf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Nh(n,t),n!==null){n.flags&=32767,de=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{me=6,de=null;return}}else if(n=jh(n,t,ze),n!==null){de=n;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);me===0&&(me=5)}function Zt(e,t,n){var r=Z,s=Xe.transition;try{Xe.transition=null,Z=1,Rh(e,t,n,r)}finally{Xe.transition=s,Z=r}return null}function Rh(e,t,n,r){do Mn();while(Mt!==null);if(Q&6)throw Error(T(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(dm(e,o),e===xe&&(de=xe=null,we=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hs||(hs=!0,sf(Os,function(){return Mn(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Xe.transition,Xe.transition=null;var i=Z;Z=1;var a=Q;Q|=4,Ki.current=null,Sh(e,n),Yd(n,e),Zm(_l),Fs=!!Tl,_l=Tl=null,e.current=n,Ch(n),nm(),Q=a,Z=i,Xe.transition=o}else e.current=n;if(hs&&(hs=!1,Mt=e,to=s),o=e.pendingLanes,o===0&&($t=null),om(n.stateNode),Ae(e,ue()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(eo)throw eo=!1,e=Yl,Yl=null,e;return to&1&&e.tag!==0&&Mn(),o=e.pendingLanes,o&1?e===Xl?jr++:(jr=0,Xl=e):jr=0,Qt(),null}function Mn(){if(Mt!==null){var e=Iu(to),t=Xe.transition,n=Z;try{if(Xe.transition=null,Z=16>e?16:e,Mt===null)var r=!1;else{if(e=Mt,Mt=null,to=0,Q&6)throw Error(T(331));var s=Q;for(Q|=4,L=e.current;L!==null;){var o=L,i=o.child;if(L.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(L=u;L!==null;){var m=L;switch(m.tag){case 0:case 11:case 15:wr(8,m,o)}var x=m.child;if(x!==null)x.return=m,L=x;else for(;L!==null;){m=L;var d=m.sibling,w=m.return;if(Kd(m),m===u){L=null;break}if(d!==null){d.return=w,L=d;break}L=w}}}var b=o.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var N=v.sibling;v.sibling=null,v=N}while(v!==null)}}L=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,L=i;else e:for(;L!==null;){if(o=L,o.flags&2048)switch(o.tag){case 0:case 11:case 15:wr(9,o,o.return)}var h=o.sibling;if(h!==null){h.return=o.return,L=h;break e}L=o.return}}var f=e.current;for(L=f;L!==null;){i=L;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,L=g;else e:for(i=f;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ho(9,a)}}catch(j){ce(a,a.return,j)}if(a===i){L=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,L=y;break e}L=a.return}}if(Q=s,Qt(),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(lo,e)}catch{}r=!0}return r}finally{Z=n,Xe.transition=t}}return!1}function kc(e,t,n){t=Vn(n,t),t=Id(e,t,1),e=Ft(e,t,1),t=Te(),e!==null&&(Br(e,1,t),Ae(e,t))}function ce(e,t,n){if(e.tag===3)kc(e,e,n);else for(;t!==null;){if(t.tag===3){kc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($t===null||!$t.has(r))){e=Vn(n,e),e=Ad(t,e,1),t=Ft(t,e,1),e=Te(),t!==null&&(Br(t,1,e),Ae(t,e));break}}t=t.return}}function Lh(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Te(),e.pingedLanes|=e.suspendedLanes&n,xe===e&&(we&n)===n&&(me===4||me===3&&(we&130023424)===we&&500>ue()-Gi?tn(e,0):Qi|=n),Ae(e,t)}function nf(e,t){t===0&&(e.mode&1?(t=os,os<<=1,!(os&130023424)&&(os=4194304)):t=1);var n=Te();e=bt(e,t),e!==null&&(Br(e,t,n),Ae(e,n))}function Dh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),nf(e,n)}function Mh(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(t),nf(e,n)}var rf;rf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Me.current)De=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return De=!1,bh(e,t,n);De=!!(e.flags&131072)}else De=!1,oe&&t.flags&1048576&&id(t,Ks,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;_s(e,t),e=t.pendingProps;var s=On(t,Se.current);Dn(t,n),s=Vi(null,t,r,e,s,n);var o=Ui();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ie(r)?(o=!0,Hs(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ai(t),s.updater=mo,t.stateNode=s,s._reactInternals=t,zl(t,r,e,n),t=Vl(null,t,r,!0,o,n)):(t.tag=0,oe&&o&&_i(t),Ce(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(_s(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Ah(r),e=et(r,e),s){case 0:t=$l(null,t,r,e,n);break e;case 1:t=mc(null,t,r,e,n);break e;case 11:t=fc(null,t,r,e,n);break e;case 14:t=pc(null,t,r,et(r.type,e),n);break e}throw Error(T(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:et(r,s),$l(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:et(r,s),mc(e,t,r,s,n);case 3:e:{if($d(t),e===null)throw Error(T(387));r=t.pendingProps,o=t.memoizedState,s=o.element,pd(e,t),Ys(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Vn(Error(T(423)),t),t=hc(e,t,r,n,s);break e}else if(r!==s){s=Vn(Error(T(424)),t),t=hc(e,t,r,n,s);break e}else for(Ve=zt(t.stateNode.containerInfo.firstChild),Ue=t,oe=!0,nt=null,n=dd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zn(),r===s){t=jt(e,t,n);break e}Ce(e,t,r,n)}t=t.child}return t;case 5:return md(t),e===null&&Il(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Pl(r,s)?i=null:o!==null&&Pl(r,o)&&(t.flags|=32),Fd(e,t),Ce(e,t,i,n),t.child;case 6:return e===null&&Il(t),null;case 13:return Vd(e,t,n);case 4:return Oi(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Fn(t,null,r,n):Ce(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:et(r,s),fc(e,t,r,s,n);case 7:return Ce(e,t,t.pendingProps,n),t.child;case 8:return Ce(e,t,t.pendingProps.children,n),t.child;case 12:return Ce(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,q(Qs,r._currentValue),r._currentValue=i,o!==null)if(ot(o.value,i)){if(o.children===s.children&&!Me.current){t=jt(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=yt(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var m=u.pending;m===null?c.next=c:(c.next=m.next,m.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Al(o.return,n,t),a.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(T(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Al(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Ce(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Dn(t,n),s=Ze(s),r=r(s),t.flags|=1,Ce(e,t,r,n),t.child;case 14:return r=t.type,s=et(r,t.pendingProps),s=et(r.type,s),pc(e,t,r,s,n);case 15:return Od(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:et(r,s),_s(e,t),t.tag=1,Ie(r)?(e=!0,Hs(t)):e=!1,Dn(t,n),Md(t,r,s),zl(t,r,s,n),Vl(null,t,r,!0,e,n);case 19:return Ud(e,t,n);case 22:return zd(e,t,n)}throw Error(T(156,t.tag))};function sf(e,t){return Ru(e,t)}function Ih(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ye(e,t,n,r){return new Ih(e,t,n,r)}function Ji(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ah(e){if(typeof e=="function")return Ji(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gi)return 11;if(e===yi)return 14}return 2}function Ut(e,t){var n=e.alternate;return n===null?(n=Ye(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ls(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")Ji(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case yn:return nn(n.children,s,o,t);case xi:i=8,s|=8;break;case al:return e=Ye(12,n,t,s|2),e.elementType=al,e.lanes=o,e;case cl:return e=Ye(13,n,t,s),e.elementType=cl,e.lanes=o,e;case ul:return e=Ye(19,n,t,s),e.elementType=ul,e.lanes=o,e;case mu:return go(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fu:i=10;break e;case pu:i=9;break e;case gi:i=11;break e;case yi:i=14;break e;case Tt:i=16,r=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=Ye(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function nn(e,t,n,r){return e=Ye(7,e,r,t),e.lanes=n,e}function go(e,t,n,r){return e=Ye(22,e,r,t),e.elementType=mu,e.lanes=n,e.stateNode={isHidden:!1},e}function Zo(e,t,n){return e=Ye(6,e,null,t),e.lanes=n,e}function Jo(e,t,n){return t=Ye(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Oh(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lo(0),this.expirationTimes=Lo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lo(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function qi(e,t,n,r,s,o,i,a,c){return e=new Oh(e,t,n,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ye(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ai(o),e}function zh(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function of(e){if(!e)return Ht;e=e._reactInternals;e:{if(pn(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ie(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var n=e.type;if(Ie(n))return od(e,n,t)}return t}function lf(e,t,n,r,s,o,i,a,c){return e=qi(n,r,!0,e,s,o,i,a,c),e.context=of(null),n=e.current,r=Te(),s=Vt(n),o=yt(r,s),o.callback=t??null,Ft(n,o,s),e.current.lanes=s,Br(e,s,r),Ae(e,r),e}function yo(e,t,n,r){var s=t.current,o=Te(),i=Vt(s);return n=of(n),t.context===null?t.context=n:t.pendingContext=n,t=yt(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ft(s,t,i),e!==null&&(st(e,s,i,o),Cs(e,s,i)),i}function ro(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ea(e,t){Sc(e,t),(e=e.alternate)&&Sc(e,t)}function Fh(){return null}var af=typeof reportError=="function"?reportError:function(e){console.error(e)};function ta(e){this._internalRoot=e}vo.prototype.render=ta.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));yo(e,t,null,null)};vo.prototype.unmount=ta.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cn(function(){yo(null,e,null,null)}),t[wt]=null}};function vo(e){this._internalRoot=e}vo.prototype.unstable_scheduleHydration=function(e){if(e){var t=zu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&t!==0&&t<Rt[n].priority;n++);Rt.splice(n,0,e),n===0&&$u(e)}};function na(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cc(){}function $h(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=ro(i);o.call(u)}}var i=lf(t,r,e,0,null,!1,!1,"",Cc);return e._reactRootContainer=i,e[wt]=i.current,Lr(e.nodeType===8?e.parentNode:e),cn(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=ro(c);a.call(u)}}var c=qi(e,0,!1,null,null,!1,!1,"",Cc);return e._reactRootContainer=c,e[wt]=c.current,Lr(e.nodeType===8?e.parentNode:e),cn(function(){yo(t,c,n,r)}),c}function bo(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var c=ro(i);a.call(c)}}yo(t,i,e,s)}else i=$h(n,t,e,s,r);return ro(i)}Au=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dr(t.pendingLanes);n!==0&&(bi(t,n|1),Ae(t,ue()),!(Q&6)&&(Un=ue()+500,Qt()))}break;case 13:cn(function(){var r=bt(e,1);if(r!==null){var s=Te();st(r,e,1,s)}}),ea(e,1)}};ji=function(e){if(e.tag===13){var t=bt(e,134217728);if(t!==null){var n=Te();st(t,e,134217728,n)}ea(e,134217728)}};Ou=function(e){if(e.tag===13){var t=Vt(e),n=bt(e,t);if(n!==null){var r=Te();st(n,e,t,r)}ea(e,t)}};zu=function(){return Z};Fu=function(e,t){var n=Z;try{return Z=e,t()}finally{Z=n}};wl=function(e,t,n){switch(t){case"input":if(pl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=uo(r);if(!s)throw Error(T(90));xu(r),pl(r,s)}}}break;case"textarea":yu(e,n);break;case"select":t=n.value,t!=null&&_n(e,!!n.multiple,t,!1)}};Su=Yi;Cu=cn;var Vh={usingClientEntryPoint:!1,Events:[Qr,jn,uo,Nu,ku,Yi]},sr={findFiberByHostInstance:Jt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Uh={bundleType:sr.bundleType,version:sr.version,rendererPackageName:sr.rendererPackageName,rendererConfig:sr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_u(e),e===null?null:e.stateNode},findFiberByHostInstance:sr.findFiberByHostInstance||Fh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xs.isDisabled&&xs.supportsFiber)try{lo=xs.inject(Uh),ut=xs}catch{}}He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vh;He.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!na(t))throw Error(T(200));return zh(e,t,null,n)};He.createRoot=function(e,t){if(!na(e))throw Error(T(299));var n=!1,r="",s=af;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=qi(e,1,!1,null,null,n,!1,r,s),e[wt]=t.current,Lr(e.nodeType===8?e.parentNode:e),new ta(t)};He.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=_u(t),e=e===null?null:e.stateNode,e};He.flushSync=function(e){return cn(e)};He.hydrate=function(e,t,n){if(!wo(t))throw Error(T(200));return bo(null,e,t,!0,n)};He.hydrateRoot=function(e,t,n){if(!na(e))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=af;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=lf(t,null,e,1,n??null,s,!1,o,i),e[wt]=t.current,Lr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new vo(t)};He.render=function(e,t,n){if(!wo(t))throw Error(T(200));return bo(null,e,t,!1,n)};He.unmountComponentAtNode=function(e){if(!wo(e))throw Error(T(40));return e._reactRootContainer?(cn(function(){bo(null,null,e,!1,function(){e._reactRootContainer=null,e[wt]=null})}),!0):!1};He.unstable_batchedUpdates=Yi;He.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!wo(n))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return bo(e,t,n,!1,r)};He.version="18.3.1-next-f1338f8080-20240426";function cf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cf)}catch(e){console.error(e)}}cf(),au.exports=He;var jo=au.exports;const Wh=ai(jo);var Ec=jo;ll.createRoot=Ec.createRoot,ll.hydrateRoot=Ec.hydrateRoot;/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Gt=(e,t)=>{const n=p.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:a="",children:c,...u},m)=>p.createElement("svg",{ref:m,...Hh,width:s,height:s,stroke:r,strokeWidth:i?Number(o)*24/Number(s):o,className:["lucide",`lucide-${Bh(e)}`,a].join(" "),...u},[...t.map(([x,d])=>p.createElement(x,d)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=Gt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=Gt("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=Gt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=Gt("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2h0a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"8ur5zv"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=Gt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=Gt("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=Gt("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=Gt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function uf(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=uf(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Zh(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=uf(e))&&(r&&(r+=" "),r+=t);return r}const ra="-",Jh=e=>{const t=ex(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const a=i.split(ra);return a[0]===""&&a.length!==1&&a.shift(),df(a,t)||qh(i)},getConflictingClassGroupIds:(i,a)=>{const c=n[i]||[];return a&&r[i]?[...c,...r[i]]:c}}},df=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?df(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(ra);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},Tc=/^\[(.+)\]$/,qh=e=>{if(Tc.test(e)){const t=Tc.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},ex=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return nx(Object.entries(e.classGroups),n).forEach(([o,i])=>{ql(i,r,o,t)}),r},ql=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:_c(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(tx(s)){ql(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{ql(i,_c(t,o),n,r)})})},_c=(e,t)=>{let n=e;return t.split(ra).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},tx=e=>e.isThemeGetter,nx=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[n,s]}):e,rx=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},ff="!",sx=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,i=a=>{const c=[];let u=0,m=0,x;for(let N=0;N<a.length;N++){let h=a[N];if(u===0){if(h===s&&(r||a.slice(N,N+o)===t)){c.push(a.slice(m,N)),m=N+o;continue}if(h==="/"){x=N;continue}}h==="["?u++:h==="]"&&u--}const d=c.length===0?a:a.substring(m),w=d.startsWith(ff),b=w?d.substring(1):d,v=x&&x>m?x-m:void 0;return{modifiers:c,hasImportantModifier:w,baseClassName:b,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:i}):i},ox=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},lx=e=>({cache:rx(e.cacheSize),parseClassName:sx(e),...Jh(e)}),ix=/\s+/,ax=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(ix);let a="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:m,hasImportantModifier:x,baseClassName:d,maybePostfixModifierPosition:w}=n(u);let b=!!w,v=r(b?d.substring(0,w):d);if(!v){if(!b){a=u+(a.length>0?" "+a:a);continue}if(v=r(d),!v){a=u+(a.length>0?" "+a:a);continue}b=!1}const N=ox(m).join(":"),h=x?N+ff:N,f=h+v;if(o.includes(f))continue;o.push(f);const g=s(v,b);for(let y=0;y<g.length;++y){const j=g[y];o.push(h+j)}a=u+(a.length>0?" "+a:a)}return a};function cx(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=pf(t))&&(r&&(r+=" "),r+=n);return r}const pf=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=pf(e[r]))&&(n&&(n+=" "),n+=t);return n};function ux(e,...t){let n,r,s,o=i;function i(c){const u=t.reduce((m,x)=>x(m),e());return n=lx(u),r=n.cache.get,s=n.cache.set,o=a,a(c)}function a(c){const u=r(c);if(u)return u;const m=ax(c,n);return s(c,m),m}return function(){return o(cx.apply(null,arguments))}}const te=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},mf=/^\[(?:([a-z-]+):)?(.+)\]$/i,dx=/^\d+\/\d+$/,fx=new Set(["px","full","screen"]),px=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mx=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hx=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,xx=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gx=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pt=e=>In(e)||fx.has(e)||dx.test(e),Ct=e=>Qn(e,"length",Sx),In=e=>!!e&&!Number.isNaN(Number(e)),qo=e=>Qn(e,"number",In),or=e=>!!e&&Number.isInteger(Number(e)),yx=e=>e.endsWith("%")&&In(e.slice(0,-1)),W=e=>mf.test(e),Et=e=>px.test(e),vx=new Set(["length","size","percentage"]),wx=e=>Qn(e,vx,hf),bx=e=>Qn(e,"position",hf),jx=new Set(["image","url"]),Nx=e=>Qn(e,jx,Ex),kx=e=>Qn(e,"",Cx),lr=()=>!0,Qn=(e,t,n)=>{const r=mf.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},Sx=e=>mx.test(e)&&!hx.test(e),hf=()=>!1,Cx=e=>xx.test(e),Ex=e=>gx.test(e),Tx=()=>{const e=te("colors"),t=te("spacing"),n=te("blur"),r=te("brightness"),s=te("borderColor"),o=te("borderRadius"),i=te("borderSpacing"),a=te("borderWidth"),c=te("contrast"),u=te("grayscale"),m=te("hueRotate"),x=te("invert"),d=te("gap"),w=te("gradientColorStops"),b=te("gradientColorStopPositions"),v=te("inset"),N=te("margin"),h=te("opacity"),f=te("padding"),g=te("saturate"),y=te("scale"),j=te("sepia"),k=te("skew"),S=te("space"),E=te("translate"),A=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",W,t],R=()=>[W,t],Y=()=>["",pt,Ct],I=()=>["auto",In,W],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",W],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[In,W];return{cacheSize:500,separator:":",theme:{colors:[lr],spacing:[pt,Ct],blur:["none","",Et,W],brightness:B(),borderColor:[e],borderRadius:["none","","full",Et,W],borderSpacing:R(),borderWidth:Y(),contrast:B(),grayscale:M(),hueRotate:B(),invert:M(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[yx,Ct],inset:H(),margin:H(),opacity:B(),padding:R(),saturate:B(),scale:B(),sepia:M(),skew:B(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",W]}],container:["container"],columns:[{columns:[Et]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),W]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",or,W]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",W]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",or,W]}],"grid-cols":[{"grid-cols":[lr]}],"col-start-end":[{col:["auto",{span:["full",or,W]},W]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[lr]}],"row-start-end":[{row:["auto",{span:[or,W]},W]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",W]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",W]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",..._()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",..._(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[..._(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[f]}],px:[{px:[f]}],py:[{py:[f]}],ps:[{ps:[f]}],pe:[{pe:[f]}],pt:[{pt:[f]}],pr:[{pr:[f]}],pb:[{pb:[f]}],pl:[{pl:[f]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",W,t]}],"min-w":[{"min-w":[W,t,"min","max","fit"]}],"max-w":[{"max-w":[W,t,"none","full","min","max","fit","prose",{screen:[Et]},Et]}],h:[{h:[W,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[W,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[W,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[W,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Et,Ct]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qo]}],"font-family":[{font:[lr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",W]}],"line-clamp":[{"line-clamp":["none",In,qo]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pt,W]}],"list-image":[{"list-image":["none",W]}],"list-style-type":[{list:["none","disc","decimal",W]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[h]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[h]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pt,Ct]}],"underline-offset":[{"underline-offset":["auto",pt,W]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",W]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",W]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[h]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),bx]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",wx]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Nx]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[h]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[h]}],"divide-style":[{divide:$()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[pt,W]}],"outline-w":[{outline:[pt,Ct]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[h]}],"ring-offset-w":[{"ring-offset":[pt,Ct]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Et,kx]}],"shadow-color":[{shadow:[lr]}],opacity:[{opacity:[h]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Et,W]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[x]}],saturate:[{saturate:[g]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[h]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",W]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",W]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",W]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[y]}],"scale-x":[{"scale-x":[y]}],"scale-y":[{"scale-y":[y]}],rotate:[{rotate:[or,W]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",W]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",W]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",W]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[pt,Ct,qo]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_x=ux(Tx);function C(...e){return _x(Zh(e))}function ei(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function Gn(e){const t=new Date(e),r=new Date().getTime()-t.getTime(),s=Math.floor(r/1e3),o=Math.floor(s/60),i=Math.floor(o/60),a=Math.floor(i/24);return s<60?"just now":o<60?`${o}m ago`:i<24?`${i}h ago`:a<7?`${a}d ago`:ei(e)}function Fe(e){switch(e){case"open":return"";case"in_progress":return"";case"blocked":return"";case"closed":return"";case"deferred":return"";default:return""}}function Yr(e){return`P${e}`}function ti(e){switch(e){case"idle":return"";case"working":return"";case"stuck":return"";case"paused":return"";default:return""}}function Px(e){switch(e){case"idle":return"text-text-muted";case"working":return"text-status-in-progress";case"stuck":return"text-status-blocked";case"paused":return"text-status-deferred";default:return"text-text-muted"}}function Rx(e){switch(e){case"idle":return"bg-text-muted/20";case"working":return"bg-status-in-progress/20";case"stuck":return"bg-status-blocked/20";case"paused":return"bg-status-deferred/20";default:return"bg-text-muted/20"}}function Vr(e){switch(e){case"witness":return"";case"refinery":return"";case"crew":return"";case"polecat":return"";case"deacon":return"";case"mayor":return"";default:return""}}function Xr(e){switch(e){case 0:return"badge-priority-p0";case 1:return"badge-priority-p1";case 2:return"badge-priority-p2";case 3:return"badge-priority-p3";case 4:return"badge-priority-p4";default:return"badge-priority-p2"}}function Zr(e){switch(e){case"open":return"bg-status-open/20 text-status-open border-status-open/30";case"in_progress":return"bg-status-in-progress/20 text-status-in-progress border-status-in-progress/30";case"blocked":return"bg-status-blocked/20 text-status-blocked border-status-blocked/30";case"closed":return"bg-status-closed/20 text-status-closed border-status-closed/30";case"deferred":return"bg-status-deferred/20 text-status-deferred border-status-deferred/30";case"tombstone":return"bg-bg-tertiary text-text-muted border-border";default:return"bg-status-open/20 text-status-open border-status-open/30"}}function Pc(e){return e==null?"(none)":Array.isArray(e)?e.length>0?e.join(", "):"(none)":typeof e=="boolean"?e?"Yes":"No":String(e)}function Lx(e){return{status:"Status",priority:"Priority",title:"Title",description:"Description",assignee:"Assignee",labels:"Labels"}[e]||e}function Rc(e){return e===void 0?"(none)":`P${e}`}function Dx(e,t){var r;const n=[];if(t.status!==void 0&&t.status!==e.status&&n.push({field:"status",oldValue:e.status,newValue:t.status}),t.priority!==void 0&&t.priority!==e.priority&&n.push({field:"priority",oldValue:Rc(e.priority),newValue:Rc(t.priority)}),t.title!==void 0&&t.title!==e.title&&n.push({field:"title",oldValue:e.title,newValue:t.title}),t.description!==void 0&&t.description!==e.description&&n.push({field:"description",oldValue:e.description||"(empty)",newValue:t.description||"(empty)"}),t.assignee!==void 0&&t.assignee!==e.assignee&&n.push({field:"assignee",oldValue:e.assignee||"(unassigned)",newValue:t.assignee||"(unassigned)"}),t.labels!==void 0){const s=((r=e.labels)==null?void 0:r.slice().sort().join(", "))||"(none)",o=t.labels.slice().sort().join(", ")||"(none)";s!==o&&n.push({field:"labels",oldValue:s,newValue:o})}return n}function Mx({issue:e,changes:t,isOpen:n,onConfirm:r,onCancel:s,isSaving:o=!1}){const i=Dx(e,t),a=p.useCallback(c=>{c.key==="Escape"&&!o&&s()},[s,o]);return p.useEffect(()=>{if(n)return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[n,a]),p.useEffect(()=>{if(n)return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[n]),n?i.length===0?l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:o?void 0:s}),l.jsxs("div",{className:"relative bg-bg-secondary border border-border rounded-xl shadow-lg max-w-md w-full mx-4 animate-fade-in",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Nr,{className:"w-5 h-5 text-accent-warning"}),l.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"No Changes"})]}),l.jsx("button",{onClick:s,className:"p-1 rounded hover:bg-bg-tertiary text-text-secondary",disabled:o,children:l.jsx(so,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"p-4",children:l.jsxs("p",{className:"text-text-secondary",children:["No changes detected for ",l.jsx("span",{className:"font-mono text-text-primary",children:e.id}),"."]})}),l.jsx("div",{className:"flex justify-end p-4 border-t border-border",children:l.jsx("button",{onClick:s,className:"btn-secondary",children:"Close"})})]})]}):l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:o?void 0:s}),l.jsxs("div",{className:"relative bg-bg-secondary border border-border rounded-xl shadow-lg max-w-lg w-full mx-4 animate-fade-in",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Nr,{className:"w-5 h-5 text-accent-warning"}),l.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"Confirm Changes"})]}),l.jsx("button",{onClick:s,className:"p-1 rounded hover:bg-bg-tertiary text-text-secondary",disabled:o,children:l.jsx(so,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"p-4",children:[l.jsxs("p",{className:"text-text-secondary mb-4",children:["You are about to update"," ",l.jsx("span",{className:"font-mono text-text-primary",children:e.id}),":"]}),l.jsx("div",{className:"bg-bg-primary border border-border rounded-lg overflow-hidden",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-border",children:[l.jsx("th",{className:"text-left px-3 py-2 text-text-muted font-medium",children:"Field"}),l.jsx("th",{className:"text-left px-3 py-2 text-text-muted font-medium",children:"Old"}),l.jsx("th",{className:"text-left px-3 py-2 text-text-muted font-medium",children:"New"})]})}),l.jsx("tbody",{children:i.map(c=>l.jsxs("tr",{className:"border-b border-border last:border-b-0",children:[l.jsx("td",{className:"px-3 py-2 text-text-secondary font-medium",children:Lx(c.field)}),l.jsx("td",{className:"px-3 py-2",children:l.jsx("span",{className:"text-status-blocked line-through",children:Pc(c.oldValue)})}),l.jsx("td",{className:"px-3 py-2",children:l.jsx("span",{className:"text-status-closed",children:Pc(c.newValue)})})]},c.field))})]})})]}),l.jsxs("div",{className:"flex justify-end gap-3 p-4 border-t border-border",children:[l.jsx("button",{onClick:s,className:"btn-secondary",disabled:o,children:"Cancel"}),l.jsx("button",{onClick:r,className:"btn-primary",disabled:o,children:o?"Saving...":"Confirm Update"})]})]})]}):null}class Ix extends p.Component{constructor(n){super(n);ya(this,"handleRetry",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){var s,o;console.error("[ErrorBoundary] Caught error:",n),console.error("[ErrorBoundary] Component stack:",r.componentStack),(o=(s=this.props).onError)==null||o.call(s,n,r)}render(){const{children:n,fallback:r,title:s="Something went wrong",description:o="An unexpected error occurred in this section.",showRetry:i=!0,className:a,variant:c="full"}=this.props;return this.state.hasError?r||(c==="minimal"?l.jsxs("div",{className:C("flex items-center gap-2 text-status-blocked text-sm p-2",a),children:[l.jsx(Nr,{className:"w-4 h-4 flex-shrink-0"}),l.jsx("span",{children:s}),i&&l.jsx("button",{onClick:this.handleRetry,className:"text-text-secondary hover:text-text-primary ml-auto","aria-label":"Retry",children:l.jsx(rn,{className:"w-4 h-4"})})]}):c==="inline"?l.jsx("div",{className:C("rounded-md border border-status-blocked/30 bg-status-blocked/10 p-4",a),children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Nr,{className:"w-5 h-5 text-status-blocked flex-shrink-0 mt-0.5"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-medium text-status-blocked",children:s}),l.jsx("p",{className:"text-sm text-text-secondary mt-1",children:o}),i&&l.jsxs("button",{onClick:this.handleRetry,className:"mt-3 inline-flex items-center gap-2 text-sm text-text-secondary hover:text-text-primary transition-colors",children:[l.jsx(rn,{className:"w-4 h-4"}),"Try again"]})]})]})}):l.jsxs("div",{className:C("flex flex-col items-center justify-center p-8 text-center",a),children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-status-blocked/10 flex items-center justify-center mb-4",children:l.jsx(Nr,{className:"w-8 h-8 text-status-blocked"})}),l.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:s}),l.jsx("p",{className:"text-text-secondary max-w-md mb-4",children:o}),i&&l.jsxs("button",{onClick:this.handleRetry,className:"inline-flex items-center gap-2 px-4 py-2 rounded-md bg-bg-tertiary border border-border text-text-primary hover:bg-border transition-colors",children:[l.jsx(rn,{className:"w-4 h-4"}),"Try again"]}),this.state.error&&l.jsxs("details",{className:"mt-4 text-left max-w-md w-full",children:[l.jsx("summary",{className:"text-xs text-text-muted cursor-pointer hover:text-text-secondary",children:"Technical details"}),l.jsx("pre",{className:"mt-2 p-3 bg-bg-tertiary rounded-md text-xs text-text-muted overflow-auto max-h-32 mono",children:this.state.error.message})]})]})):n}}function ir(e){return e.toISOString().split("T")[0]}function xf(e){const t=new Date(e),n=t.getDay(),r=t.getDate()-n+(n===0?-6:1);return t.setDate(r),t.setHours(0,0,0,0),t}function Ax(e){const t=xf(e),n=new Date(t);return n.setDate(n.getDate()+6),n.setHours(23,59,59,999),n}function Ox(e){return new Date(e.getFullYear(),e.getMonth(),1)}function zx(e){return new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999)}const Lc=[{key:"today",label:"Today",getRange:()=>{const t=ir(new Date);return{startDate:t,endDate:t}}},{key:"this_week",label:"This Week",getRange:()=>{const e=new Date;return{startDate:ir(xf(e)),endDate:ir(Ax(e))}}},{key:"this_month",label:"This Month",getRange:()=>{const e=new Date;return{startDate:ir(Ox(e)),endDate:ir(zx(e))}}}];function Fx({value:e,onChange:t,className:n}){const r=p.useCallback(x=>{const d=x.target.value||null;t({...e,startDate:d,endDate:d&&e.endDate&&d>e.endDate?d:e.endDate})},[e,t]),s=p.useCallback(x=>{const d=x.target.value||null;t({...e,endDate:d,startDate:d&&e.startDate&&d<e.startDate?d:e.startDate})},[e,t]),o=p.useCallback(x=>{t(x.getRange())},[t]),i=p.useCallback(()=>{t({startDate:null,endDate:null})},[t]),a=p.useMemo(()=>{for(const x of Lc){const d=x.getRange();if(d.startDate===e.startDate&&d.endDate===e.endDate)return x.key}return null},[e]),c=e.startDate||e.endDate,u=C("bg-bg-tertiary border border-border rounded-md px-3 py-1.5 text-sm text-text-primary","focus:outline-none focus:ring-2 focus:ring-accent-chrome focus:ring-offset-1 focus:ring-offset-bg-primary","hover:border-border-accent transition-colors","[color-scheme:dark]"),m=x=>C("px-3 py-1.5 text-sm rounded-md transition-colors",x?"bg-accent-rust text-text-primary":"bg-bg-tertiary text-text-secondary hover:bg-bg-tertiary/80 hover:text-text-primary border border-border");return l.jsxs("div",{className:C("flex flex-wrap items-center gap-4",n),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("label",{htmlFor:"date-range-start",className:"text-sm text-text-secondary",children:"From:"}),l.jsx("input",{id:"date-range-start",type:"date",value:e.startDate||"",onChange:r,className:u,"aria-label":"Start date"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("label",{htmlFor:"date-range-end",className:"text-sm text-text-secondary",children:"To:"}),l.jsx("input",{id:"date-range-end",type:"date",value:e.endDate||"",onChange:s,min:e.startDate||void 0,className:u,"aria-label":"End date"})]}),l.jsx("div",{className:"flex items-center gap-2",children:Lc.map(x=>l.jsx("button",{type:"button",onClick:()=>o(x),className:m(a===x.key),"aria-pressed":a===x.key,children:x.label},x.key))}),c&&l.jsx("button",{type:"button",onClick:i,className:"text-sm text-accent-rust hover:text-accent-rust/80 transition-colors underline underline-offset-2",children:"Clear"})]})}const gf=p.forwardRef(({className:e,error:t,type:n="text",...r},s)=>l.jsx("input",{type:n,className:C("flex h-9 w-full rounded-md border bg-bg-secondary px-3 py-2 text-sm","placeholder:text-text-muted","focus:outline-none focus:ring-2 focus:ring-accent-chrome focus:ring-offset-2 focus:ring-offset-bg-primary","disabled:cursor-not-allowed disabled:opacity-50","transition-colors",t?"border-status-blocked focus:ring-status-blocked":"border-border hover:border-border-accent",e),ref:s,...r}));gf.displayName="Input";const yf=p.forwardRef(({className:e,error:t,...n},r)=>l.jsx("textarea",{className:C("flex min-h-[80px] w-full rounded-md border bg-bg-secondary px-3 py-2 text-sm","placeholder:text-text-muted","focus:outline-none focus:ring-2 focus:ring-accent-chrome focus:ring-offset-2 focus:ring-offset-bg-primary","disabled:cursor-not-allowed disabled:opacity-50","resize-y transition-colors",t?"border-status-blocked focus:ring-status-blocked":"border-border hover:border-border-accent",e),ref:r,...n}));yf.displayName="Textarea";const No=p.forwardRef(({className:e,options:t,placeholder:n,error:r,...s},o)=>l.jsxs("select",{className:C("flex h-9 w-full rounded-md border bg-bg-secondary px-3 py-2 text-sm","focus:outline-none focus:ring-2 focus:ring-accent-chrome focus:ring-offset-2 focus:ring-offset-bg-primary","disabled:cursor-not-allowed disabled:opacity-50","transition-colors cursor-pointer","appearance-none bg-no-repeat bg-right",`bg-[url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23A3A3A3' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E")] bg-[length:16px_16px] bg-[right_8px_center]`,r?"border-status-blocked focus:ring-status-blocked":"border-border hover:border-border-accent",e),ref:o,...s,children:[n&&l.jsx("option",{value:"",disabled:!0,children:n}),t.map(i=>l.jsx("option",{value:i.value,disabled:i.disabled,children:i.label},i.value))]}));No.displayName="Select";function $x({options:e,value:t,onChange:n,placeholder:r="Select...",error:s,disabled:o,allowCreate:i=!1,className:a}){const[c,u]=p.useState(!1),[m,x]=p.useState(""),d=p.useRef(null),w=p.useRef(null);p.useEffect(()=>{function j(k){d.current&&!d.current.contains(k.target)&&u(!1)}return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]);const b=e.filter(j=>!t.includes(j.value)&&j.label.toLowerCase().includes(m.toLowerCase())),v=i&&m.trim()&&!e.some(j=>j.label.toLowerCase()===m.toLowerCase())&&!t.includes(m.trim()),N=j=>{var k;n([...t,j]),x(""),(k=w.current)==null||k.focus()},h=j=>{n(t.filter(k=>k!==j))},f=()=>{const j=m.trim();j&&!t.includes(j)&&(n([...t,j]),x(""))},g=j=>{j.key==="Enter"&&m.trim()?(j.preventDefault(),b.length>0?N(b[0].value):v&&f()):j.key==="Backspace"&&!m&&t.length>0?h(t[t.length-1]):j.key==="Escape"&&u(!1)},y=j=>{const k=e.find(S=>S.value===j);return(k==null?void 0:k.label)??j};return l.jsxs("div",{ref:d,className:C("relative",a),children:[l.jsxs("div",{className:C("flex flex-wrap gap-1 min-h-[36px] w-full rounded-md border bg-bg-secondary px-2 py-1.5","focus-within:ring-2 focus-within:ring-accent-chrome focus-within:ring-offset-2 focus-within:ring-offset-bg-primary","transition-colors",s?"border-status-blocked":"border-border hover:border-border-accent",o&&"cursor-not-allowed opacity-50"),onClick:()=>{var j;return!o&&((j=w.current)==null?void 0:j.focus())},children:[t.map(j=>l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded bg-bg-tertiary text-sm",children:[y(j),!o&&l.jsx("button",{type:"button",onClick:k=>{k.stopPropagation(),h(j)},className:"text-text-muted hover:text-text-primary transition-colors","aria-label":`Remove ${y(j)}`,children:l.jsx("span",{"aria-hidden":"true",children:""})})]},j)),l.jsx("input",{ref:w,type:"text",className:"flex-1 min-w-[60px] bg-transparent text-sm outline-none placeholder:text-text-muted",placeholder:t.length===0?r:"",value:m,onChange:j=>{x(j.target.value),u(!0)},onFocus:()=>u(!0),onKeyDown:g,disabled:o})]}),c&&(b.length>0||v)&&l.jsxs("div",{className:"absolute z-50 mt-1 w-full rounded-md border border-border bg-bg-secondary shadow-lg max-h-60 overflow-auto",children:[b.map(j=>l.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 text-sm hover:bg-bg-tertiary transition-colors",onClick:()=>N(j.value),children:j.label},j.value)),v&&l.jsxs("button",{type:"button",className:"w-full text-left px-3 py-2 text-sm hover:bg-bg-tertiary transition-colors text-accent-chrome",onClick:f,children:['Create "',m.trim(),'"']})]})]})}function Yn({label:e,htmlFor:t,error:n,required:r,hint:s,children:o,className:i}){return l.jsxs("div",{className:C("space-y-1.5",i),children:[l.jsxs("label",{htmlFor:t,className:"flex items-center gap-1 text-sm font-medium text-text-secondary",children:[e,r&&l.jsx("span",{className:"text-status-blocked","aria-hidden":"true",children:"*"})]}),o,n&&l.jsxs("p",{className:"text-xs text-status-blocked flex items-center gap-1",role:"alert",children:[l.jsx("span",{"aria-hidden":"true",children:"!"}),n]}),s&&!n&&l.jsx("p",{className:"text-xs text-text-muted",children:s})]})}function Vx({items:e,itemHeight:t,renderItem:n,className:r,overscan:s=3,getKey:o,onScroll:i,initialScrollTop:a=0}){const c=p.useRef(null),[u,m]=p.useState(a),[x,d]=p.useState(0),w=e.length*t,b=p.useMemo(()=>{const f=Math.max(0,Math.floor(u/t)-s),g=Math.ceil(x/t),y=Math.min(e.length-1,f+g+s*2);return{startIndex:f,endIndex:y}},[u,x,t,e.length,s]),v=p.useMemo(()=>{const f=[];for(let g=b.startIndex;g<=b.endIndex;g++)e[g]!==void 0&&f.push({item:e[g],index:g,top:g*t});return f},[e,b,t]),N=p.useCallback(f=>{const g=f.currentTarget.scrollTop;m(g),i==null||i(g)},[i]);p.useEffect(()=>{const f=c.current;if(!f)return;const g=()=>{d(f.clientHeight)};g();const y=new ResizeObserver(g);return y.observe(f),()=>{y.disconnect()}},[]),p.useEffect(()=>{const f=c.current;f&&a!==void 0&&(f.scrollTop=a)},[a]);const h=o||((f,g)=>g);return e.length===0?l.jsx("div",{className:C("flex items-center justify-center py-12 text-text-muted",r),children:"No items to display"}):l.jsx("div",{ref:c,className:C("overflow-y-auto",r),onScroll:N,style:{willChange:"scroll-position"},children:l.jsx("div",{style:{height:w,position:"relative"},children:v.map(({item:f,index:g,top:y})=>l.jsx("div",{style:{position:"absolute",top:y,left:0,right:0,height:t},children:n(f,g)},h(f,g)))})})}function sa({message:e,title:t="Something went wrong",onRetry:n,className:r}){return l.jsxs("div",{className:C("flex flex-col items-center justify-center py-12 px-4",r),children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-status-blocked/10 flex items-center justify-center mb-4",children:l.jsx("svg",{className:"w-6 h-6 text-status-blocked",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),l.jsx("h3",{className:"text-text-primary font-medium mb-1",children:t}),l.jsx("p",{className:"text-text-muted text-sm text-center max-w-md mb-4",children:e}),n&&l.jsxs("button",{onClick:n,className:C("px-4 py-2 rounded-md text-sm font-medium","bg-bg-tertiary text-text-primary","hover:bg-bg-tertiary/80 transition-colors","flex items-center gap-2"),children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Try again"]})]})}function pe({className:e}){return l.jsx("div",{className:C("animate-pulse rounded-md bg-bg-tertiary",e)})}function Ux({depth:e=0}){return l.jsxs("div",{className:"flex items-center gap-2 py-2",style:{paddingLeft:`${e*24+8}px`},children:[l.jsx(pe,{className:"w-4 h-4 flex-shrink-0"}),l.jsx(pe,{className:"w-5 h-5 rounded-full flex-shrink-0"}),l.jsx(pe,{className:"w-20 h-4 flex-shrink-0"}),l.jsx(pe,{className:"h-4 flex-1 max-w-xs"}),l.jsx(pe,{className:"w-12 h-5 flex-shrink-0"})]})}function Wx({count:e=5}){const t=[{depth:0},{depth:1},{depth:1},{depth:2},{depth:2},{depth:1},{depth:0},{depth:1}].slice(0,e);return l.jsx("div",{className:"space-y-1",children:t.map((n,r)=>l.jsx(Ux,{depth:n.depth},r))})}function Hx(){return l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(pe,{className:"w-6 h-6 rounded flex-shrink-0"}),l.jsx(pe,{className:"h-4 w-24"})]}),l.jsx(pe,{className:"h-3 w-16 mb-2"}),l.jsx(pe,{className:"h-8 w-full mt-3"})]})}function ni({count:e=4}){return l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Array.from({length:e}).map((t,n)=>l.jsx(Hx,{},n))})}function Bx(){return l.jsxs("div",{className:"flex items-center gap-3 py-3 px-4",children:[l.jsx(pe,{className:"w-24 h-4 flex-shrink-0"}),l.jsx(pe,{className:"h-4 flex-1"}),l.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[l.jsx(pe,{className:"w-5 h-5 rounded flex-shrink-0"}),l.jsx(pe,{className:"w-16 h-4"})]}),l.jsx(pe,{className:"w-12 h-5 flex-shrink-0"})]})}function Dc({count:e=3}){return l.jsx("div",{className:"divide-y divide-border",children:Array.from({length:e}).map((t,n)=>l.jsx(Bx,{},n))})}function Kx(){return l.jsx("div",{className:"border border-border rounded-md",children:l.jsxs("div",{className:"px-4 py-3 flex items-center gap-4",children:[l.jsx(pe,{className:"w-5 h-5 rounded-full flex-shrink-0"}),l.jsx(pe,{className:"w-20 h-4 flex-shrink-0"}),l.jsx(pe,{className:"h-4 flex-1"}),l.jsx(pe,{className:"w-20 h-4 flex-shrink-0"}),l.jsx(pe,{className:"w-4 h-4 flex-shrink-0"})]})})}function Qx({count:e=3}){return l.jsx("div",{className:"flex flex-col gap-2",children:Array.from({length:e}).map((t,n)=>l.jsx(Kx,{},n))})}const Gx={},Mc=e=>{let t;const n=new Set,r=(m,x)=>{const d=typeof m=="function"?m(t):m;if(!Object.is(d,t)){const w=t;t=x??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(b=>b(t,w))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>u,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(Gx?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,c);return c},Yx=e=>e?Mc(e):Mc;var vf={exports:{}},wf={},bf={exports:{}},jf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wn=p;function Xx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zx=typeof Object.is=="function"?Object.is:Xx,Jx=Wn.useState,qx=Wn.useEffect,eg=Wn.useLayoutEffect,tg=Wn.useDebugValue;function ng(e,t){var n=t(),r=Jx({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return eg(function(){s.value=n,s.getSnapshot=t,el(s)&&o({inst:s})},[e,n,t]),qx(function(){return el(s)&&o({inst:s}),e(function(){el(s)&&o({inst:s})})},[e]),tg(n),n}function el(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zx(e,n)}catch{return!0}}function rg(e,t){return t()}var sg=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?rg:ng;jf.useSyncExternalStore=Wn.useSyncExternalStore!==void 0?Wn.useSyncExternalStore:sg;bf.exports=jf;var og=bf.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ko=p,lg=og;function ig(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ag=typeof Object.is=="function"?Object.is:ig,cg=lg.useSyncExternalStore,ug=ko.useRef,dg=ko.useEffect,fg=ko.useMemo,pg=ko.useDebugValue;wf.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var o=ug(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=fg(function(){function c(w){if(!u){if(u=!0,m=w,w=r(w),s!==void 0&&i.hasValue){var b=i.value;if(s(b,w))return x=b}return x=w}if(b=x,ag(m,w))return b;var v=r(w);return s!==void 0&&s(b,v)?(m=w,b):(m=w,x=v)}var u=!1,m,x,d=n===void 0?null:n;return[function(){return c(t())},d===null?void 0:function(){return c(d())}]},[t,n,r,s]);var a=cg(e,o[0],o[1]);return dg(function(){i.hasValue=!0,i.value=a},[a]),pg(a),a};vf.exports=wf;var mg=vf.exports;const hg=ai(mg),Nf={},{useDebugValue:xg}=at,{useSyncExternalStoreWithSelector:gg}=hg;let Ic=!1;const yg=e=>e;function vg(e,t=yg,n){(Nf?"production":void 0)!=="production"&&n&&!Ic&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Ic=!0);const r=gg(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return xg(r),r}const Ac=e=>{(Nf?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Yx(e):e,n=(r,s)=>vg(t,r,s);return Object.assign(n,t),n},Jr=e=>e?Ac(e):Ac,oa=Jr(e=>({viewMode:"planning",setViewMode:t=>e({viewMode:t})})),wg=[{id:"planning",label:"Planning"},{id:"monitoring",label:"Monitoring"},{id:"audit",label:"Audit"}];function bg({className:e}){const{viewMode:t,setViewMode:n}=oa();return l.jsx("div",{className:C("inline-flex items-center gap-1 p-1 bg-bg-tertiary rounded-lg",e),role:"tablist","aria-label":"View switcher",children:wg.map(r=>{const s=t===r.id;return l.jsx("button",{role:"tab","aria-selected":s,"aria-controls":`${r.id}-view`,onClick:()=>n(r.id),className:C("px-4 py-1.5 text-sm font-medium rounded-md transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-chrome",s?"bg-bg-secondary text-text-primary shadow-sm":"text-text-secondary hover:text-text-primary hover:bg-bg-secondary/50"),children:r.label},r.id)})})}const jg={default:"bg-bg-tertiary text-text-secondary border-border",success:"bg-status-closed/20 text-status-closed border-status-closed/30",warning:"bg-status-in-progress/20 text-status-in-progress border-status-in-progress/30",error:"bg-status-blocked/20 text-status-blocked border-status-blocked/30",info:"bg-status-open/20 text-status-open border-status-open/30"},Ng={idle:"bg-status-closed",working:"bg-status-open",stuck:"bg-status-blocked",paused:"bg-status-in-progress",none:"bg-status-deferred"};function kg(e){if(e.variant==="health-dot"){const{state:s,title:o,className:i}=e,a=Ng[s??"none"];return l.jsx("span",{className:C("inline-block w-2 h-2 rounded-full flex-shrink-0",a,i),title:o,"aria-label":o})}if(e.variant==="progress"){const{completed:s,total:o,className:i}=e,a=o>0?s/o:0,c=a===1?"bg-status-closed/10 text-status-closed":a>0?"bg-status-in-progress/10 text-status-in-progress":"bg-bg-tertiary text-text-muted";return l.jsxs("span",{className:C("inline-flex items-center px-2 py-0.5 rounded text-xs font-medium",c,i),children:[s,"/",o]})}const{status:t,color:n="default",className:r}=e;return l.jsx("span",{className:C("inline-flex items-center px-2 py-0.5 rounded-sm text-xs font-medium border",jg[n],r),children:t})}function Sg(e){const[t,n]=p.useState([]),[r,s]=p.useState(!1),[o,i]=p.useState(null),a=p.useCallback(async()=>{if(!e){n([]);return}s(!0),i(null);try{const m=await fetch(`/api/rigs/${e}/agents`);if(!m.ok)throw new Error(`Failed to fetch agents: ${m.statusText}`);const x=await m.json();n(x)}catch(m){const x=m instanceof Error?m.message:"Failed to fetch agents";i(x),n([])}finally{s(!1)}},[e]);p.useEffect(()=>{a()},[a]);const c=p.useCallback(m=>t.find(x=>x.role_type===m),[t]),u=p.useCallback(m=>{const x=c(m);return x==null?void 0:x.state},[c]);return{agents:t,loading:r,error:o,refetch:a,getAgentByRole:c,getRoleHealth:u}}const Cg={witness:"Witness",refinery:"Refinery",crew:"Crew",polecat:"Polecat",deacon:"Deacon",mayor:"Mayor"},Eg=["witness","refinery","crew"];function Tg({rigs:e,selectedRig:t,onSelectRig:n,loading:r,connected:s,httpConnected:o=!0}){const i=s&&o,a=s&&!o||!s&&o;return l.jsxs("aside",{className:"w-64 bg-bg-secondary border-r border-border flex flex-col",children:[l.jsx("div",{className:"p-4 border-b border-border bg-gradient-to-r from-accent-rust/20 to-transparent",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Gh,{className:"w-6 h-6 text-accent-rust"}),l.jsx("h1",{className:"font-display text-xl font-bold tracking-wide",children:"TOWN VIEW"})]})}),l.jsxs("div",{className:"flex-1 overflow-auto p-2",children:[l.jsx("h2",{className:"section-header px-2 py-2",children:"RIGS"}),r?l.jsx("div",{className:"px-2 py-4",children:l.jsx("div",{className:"animate-pulse space-y-2",children:[1,2,3].map(c=>l.jsx("div",{className:"h-10 bg-bg-tertiary rounded-md"},c))})}):e.length===0?l.jsx("div",{className:"px-2 py-4 text-text-muted text-sm",children:"No rigs discovered"}):l.jsx("nav",{className:"space-y-1",children:e.map(c=>l.jsx(Pg,{rig:c,selected:(t==null?void 0:t.id)===c.id,onClick:()=>n(c)},c.id))})]}),l.jsxs("div",{className:"p-4 border-t border-border text-xs text-text-muted flex items-center justify-between",children:[l.jsx("span",{children:"Gas Town"}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:C("w-2 h-2 rounded-full",i?"bg-status-closed animate-pulse":a?"bg-yellow-500 animate-pulse":"bg-status-blocked")}),l.jsx("span",{children:i?"Live":a?"Degraded":"Offline"})]})]})]})}function kf({count:e}){return l.jsxs("div",{className:"flex items-center gap-1 text-sm text-text-secondary",children:[l.jsx("span",{children:e}),l.jsx("span",{className:"w-2 h-2 rounded-full bg-status-open"})]})}function _g({rigId:e,fallbackCount:t}){const{getRoleHealth:n,loading:r,error:s}=Sg(e);return r||s?l.jsx(kf,{count:t}):l.jsx("div",{className:"flex items-center gap-1",title:"Witness | Refinery | Crew",children:Eg.map(o=>{const i=n(o);return l.jsx(kg,{variant:"health-dot",state:i,title:`${Cg[o]}: ${i??"not present"}`},o)})})}function Pg({rig:e,selected:t,onClick:n,variant:r="default"}){return l.jsxs("button",{onClick:n,className:C("w-full flex items-center gap-3 px-3 py-2 rounded-md text-left transition-colors",t?"bg-bg-tertiary border-l-2 border-l-accent-rust":"hover:bg-bg-tertiary"),children:[l.jsx(Kh,{className:"w-4 h-4 text-text-muted flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium truncate",children:e.name}),l.jsx("div",{className:"text-xs text-text-muted",children:e.prefix})]}),r==="health"?l.jsx(_g,{rigId:e.id,fallbackCount:e.open_count}):l.jsx(kf,{count:e.open_count})]})}const Pt={status:"open",type:"all",assignee:"all",priorityMin:0,priorityMax:4},Sf=["event","molecule","merge-request","agent","convoy","gate","rig"],Rg=[{value:"all",label:"All Statuses"},{value:"open",label:"Open"},{value:"in_progress",label:"In Progress"},{value:"blocked",label:"Blocked"},{value:"closed",label:"Closed"},{value:"deferred",label:"Deferred"}],Lg=[{value:"all",label:"All Types"},{value:"epic",label:"Epic"},{value:"feature",label:"Feature"},{value:"task",label:"Task"},{value:"bug",label:"Bug"},{value:"chore",label:"Chore"}],Oc={0:"P0 (Critical)",1:"P1 (High)",2:"P2 (Medium)",3:"P3 (Low)",4:"P4 (Minimal)"};function Dg({filters:e,onFiltersChange:t,assignees:n=[],className:r}){const s=p.useCallback(d=>{t({...e,status:d})},[e,t]),o=p.useCallback(d=>{t({...e,type:d})},[e,t]),i=p.useCallback(d=>{t({...e,assignee:d})},[e,t]),a=p.useCallback(d=>{t({...e,priorityMin:d,priorityMax:Math.max(d,e.priorityMax)})},[e,t]),c=p.useCallback(d=>{t({...e,priorityMax:d,priorityMin:Math.min(d,e.priorityMin)})},[e,t]),u=p.useCallback(()=>{t(Pt)},[t]),m=e.status!==Pt.status||e.type!==Pt.type||e.assignee!==Pt.assignee||e.priorityMin!==Pt.priorityMin||e.priorityMax!==Pt.priorityMax,x="bg-bg-tertiary border border-border rounded-md px-3 py-1.5 text-sm text-text-primary focus:outline-none focus:ring-2 focus:ring-accent-rust";return l.jsxs("div",{className:C("flex flex-wrap items-center gap-4",r),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("label",{htmlFor:"filter-status",className:"text-sm text-text-secondary",children:"Status:"}),l.jsx("select",{id:"filter-status",value:e.status,onChange:d=>s(d.target.value),className:x,children:Rg.map(d=>l.jsx("option",{value:d.value,children:d.label},d.value))})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("label",{htmlFor:"filter-type",className:"text-sm text-text-secondary",children:"Type:"}),l.jsx("select",{id:"filter-type",value:e.type,onChange:d=>o(d.target.value),className:x,children:Lg.map(d=>l.jsx("option",{value:d.value,children:d.label},d.value))})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("label",{htmlFor:"filter-assignee",className:"text-sm text-text-secondary",children:"Assignee:"}),l.jsxs("select",{id:"filter-assignee",value:e.assignee,onChange:d=>i(d.target.value),className:x,children:[l.jsx("option",{value:"all",children:"All Assignees"}),n.map(d=>l.jsx("option",{value:d,children:d},d))]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("label",{className:"text-sm text-text-secondary",children:"Priority:"}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("select",{id:"filter-priority-min",value:e.priorityMin,onChange:d=>a(Number(d.target.value)),className:C(x,"w-28"),"aria-label":"Minimum priority",children:[0,1,2,3,4].map(d=>l.jsx("option",{value:d,children:Oc[d]},d))}),l.jsx("span",{className:"text-text-muted",children:"to"}),l.jsx("select",{id:"filter-priority-max",value:e.priorityMax,onChange:d=>c(Number(d.target.value)),className:C(x,"w-28"),"aria-label":"Maximum priority",children:[0,1,2,3,4].map(d=>l.jsx("option",{value:d,children:Oc[d]},d))})]})]}),m&&l.jsx("button",{type:"button",onClick:u,className:"text-sm text-accent-rust hover:text-accent-rust/80 transition-colors underline underline-offset-2",children:"Clear All"})]})}function Mg(e,t){if(t.status!=="all"&&e.status!==t.status)return!1;if(t.type==="all"){if(Sf.includes(e.issue_type))return!1}else if(e.issue_type!==t.type)return!1;return!(t.assignee!=="all"&&e.assignee!==t.assignee||e.priority<t.priorityMin||e.priority>t.priorityMax)}function Ig(e,t){const n=new Set;for(const r of e){let s=t.get(r);for(;s;)n.add(s),s=t.get(s)}return n}function Ag(e,t,n){const r=new Set;for(const o of e)Mg(o,t)&&r.add(o.id);const s=Ig(r,n);return new Set([...r,...s])}const zc={status:"all"},Ur=Jr(e=>({selectedRig:null,setSelectedRig:t=>e({selectedRig:t}),filters:zc,setFilters:t=>e(n=>({filters:{...n.filters,...t}})),resetFilters:()=>e({filters:zc}),treeFilters:Pt,setTreeFilters:t=>e({treeFilters:t}),resetTreeFilters:()=>e({treeFilters:Pt})})),Cf=Jr(e=>({toast:{title:"",description:void 0,variant:"info",open:!1},showToast:(t,n,r="info")=>e({toast:{title:t,description:n,variant:r,open:!0}}),hideToast:()=>e(t=>({toast:{...t.toast,open:!1}}))}));function Og(e,t){const n=[];function r(s){var o;for(const i of s)n.push(i),(o=i.children)!=null&&o.length&&t.has(i.id)&&r(i.children)}return r(e),n}function zg(e){const{nodes:t,onSelect:n,onExpand:r,onCollapse:s,initialFocusedId:o=null,initialExpandedIds:i=[]}=e,[a,c]=p.useState(o),[u,m]=p.useState(new Set(i)),x=p.useRef(t);x.current=t;const d=p.useCallback(h=>u.has(h),[u]),w=p.useCallback(h=>{m(f=>{const g=new Set(f);return g.has(h)?(g.delete(h),s==null||s(h)):(g.add(h),r==null||r(h)),g})},[s,r]),b=p.useCallback(h=>{const f=Og(x.current,u);if(f.length===0)return;const g=a?f.findIndex(j=>j.id===a):-1,y=g>=0?f[g]:null;switch(h.key){case"ArrowDown":{h.preventDefault();const j=Math.min(g+1,f.length-1);c(f[j>=0?j:0].id);break}case"ArrowUp":{h.preventDefault();const j=Math.max(g-1,0);c(f[j].id);break}case"ArrowRight":{if(h.preventDefault(),!y)break;const j=y.children&&y.children.length>0;j&&!u.has(y.id)?w(y.id):j&&u.has(y.id)&&c(y.children[0].id);break}case"ArrowLeft":{if(h.preventDefault(),!y)break;y.children&&y.children.length>0&&u.has(y.id)?w(y.id):y.parentId&&c(y.parentId);break}case"Enter":case" ":{h.preventDefault(),a&&(n==null||n(a));break}case"Home":{h.preventDefault(),f.length>0&&c(f[0].id);break}case"End":{h.preventDefault(),f.length>0&&c(f[f.length-1].id);break}}},[u,a,n,w]);p.useEffect(()=>{a===null&&t.length>0&&c(t[0].id)},[a,t]);const v=p.useCallback(()=>({role:"tree","aria-activedescendant":a??void 0,tabIndex:0,onKeyDown:b}),[a,b]),N=p.useCallback(h=>{const f=h.children&&h.children.length>0,g=h.id===a;return{id:`tree-node-${h.id}`,role:"treeitem","aria-expanded":f?u.has(h.id):void 0,"aria-level":h.depth+1,"aria-selected":g,tabIndex:g?0:-1,onClick:()=>{c(h.id),f?w(h.id):n==null||n(h.id)},onDoubleClick:()=>{n==null||n(h.id)}}},[u,a,n,w]);return{focusedId:a,expandedIds:u,setFocusedId:c,toggleExpanded:w,isExpanded:d,getTreeProps:v,getNodeProps:N}}function Ef(e,t=0,n){return e.map(r=>({id:r.issue.id,parentId:n,depth:t,children:r.children?Ef(r.children,t+1,r.issue.id):void 0}))}function la(e){if(!e.children||e.children.length===0)return{completed:0,total:0};let t=0,n=0;for(const r of e.children){n+=1,r.issue.status==="closed"&&(t+=1);const s=la(r);t+=s.completed,n+=s.total}return{completed:t,total:n}}function Tf({data:e,depth:t=0,defaultExpanded:n=!1,onNodeClick:r,onBlockerClick:s,showDescriptionPreview:o=!1,updatedIssueIds:i,focusedId:a,onFocus:c,expandedIds:u,onToggleExpand:m,selectedId:x}){const[d,w]=p.useState(n),b=u!==void 0?u.has(e.issue.id):d,v=a===e.issue.id,N=x===e.issue.id,[h,f]=p.useState(!1),[g,y]=p.useState(void 0),j=p.useRef(null),k=e.children&&e.children.length>0,S=(i==null?void 0:i.has(e.issue.id))??!1;p.useEffect(()=>{j.current&&y(j.current.scrollHeight)},[e.children,b]);const E=F=>{F.stopPropagation(),k&&(u!==void 0&&m?m(e.issue.id):w(!b))},A=()=>{c==null||c(e.issue.id),r==null||r(e.issue)},D=F=>{F.stopPropagation(),f(!h)},H=e.issue.description&&e.issue.description.trim().length>0,R=p.useMemo(()=>la(e),[e]),Y=k&&R.total>0,I={open:"bg-status-open/20 text-status-open border-status-open/30",in_progress:"bg-status-in-progress/20 text-status-in-progress border-status-in-progress/30",blocked:"bg-status-blocked/20 text-status-blocked border-status-blocked/30",closed:"bg-status-closed/20 text-status-closed border-status-closed/30",deferred:"bg-status-deferred/20 text-status-deferred border-status-deferred/30",tombstone:"bg-bg-tertiary text-text-muted border-border"}[e.issue.status]||"bg-status-open/20 text-status-open border-status-open/30";return l.jsxs("div",{className:"select-none",children:[l.jsxs("div",{id:`tree-node-${e.issue.id}`,className:C("flex items-center gap-2 py-2 px-2 -mx-2 rounded-md","transition-colors duration-100","hover:bg-bg-tertiary cursor-pointer","group",S&&"animate-flash-update bg-accent-rust/10",(N||v)&&"ring-2 ring-accent-rust ring-offset-1 ring-offset-bg-primary bg-bg-tertiary"),style:{paddingLeft:`${t*20+8}px`},onClick:A,role:"treeitem","aria-expanded":k?b:void 0,"aria-level":t+1,"aria-selected":v,tabIndex:v?0:-1,children:[l.jsx("button",{onClick:E,className:C("w-5 h-5 flex items-center justify-center","text-text-muted hover:text-text-primary","transition-transform duration-200",!k&&"invisible"),"aria-label":b?"Collapse":"Expand","aria-expanded":k?b:void 0,children:l.jsx("svg",{className:C("w-4 h-4 transition-transform duration-200",b&&"rotate-90"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})}),l.jsx("span",{className:C("inline-flex items-center justify-center","w-6 h-6 rounded-full border","text-sm flex-shrink-0",I),children:Fe(e.issue.status)}),l.jsx("span",{className:C("w-7 flex-shrink-0 text-xs",Xr(e.issue.priority)),children:Yr(e.issue.priority)}),l.jsx("span",{className:"mono text-text-muted text-xs w-20 flex-shrink-0 truncate",children:e.issue.id}),l.jsx("span",{className:"flex-1 truncate text-text-primary",children:e.issue.title}),Y&&l.jsxs("span",{className:C("flex-shrink-0 text-xs px-1.5 py-0.5 rounded",R.completed===R.total?"bg-status-closed/10 text-status-closed":"bg-bg-tertiary text-text-secondary"),title:`${R.completed} of ${R.total} completed`,children:[R.completed,"/",R.total]}),e.blockers&&e.blockers.length>0&&l.jsxs("span",{className:"flex items-center gap-1 flex-shrink-0",children:[e.blockers.slice(0,2).map(F=>l.jsxs("button",{onClick:$=>{$.stopPropagation(),s==null||s(F.id)},className:C("inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-xs","bg-status-blocked/10 text-status-blocked border border-status-blocked/20","hover:bg-status-blocked/20 transition-colors","cursor-pointer"),title:`Blocked by: ${F.title||F.id}`,children:[l.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),l.jsx("span",{className:"mono",children:F.id})]},F.id)),e.blockers.length>2&&l.jsxs("span",{className:"text-xs text-status-blocked",children:["+",e.blockers.length-2]})]}),l.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-bg-tertiary text-text-secondary flex-shrink-0 opacity-60 group-hover:opacity-100 transition-opacity",children:e.issue.issue_type}),o&&H&&l.jsx("button",{onClick:D,className:C("w-5 h-5 flex items-center justify-center flex-shrink-0","text-text-muted hover:text-text-primary","transition-colors duration-100"),"aria-label":h?"Hide description":"Show description","aria-expanded":h,children:l.jsx("svg",{className:C("w-4 h-4 transition-transform duration-200",h&&"rotate-180"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})})]}),o&&H&&l.jsx("div",{className:C("overflow-hidden transition-[max-height,opacity] duration-200 ease-out",h?"max-h-96 opacity-100":"max-h-0 opacity-0"),style:{paddingLeft:`${t*20+52}px`},children:l.jsx("div",{className:"py-2 pr-4 text-sm text-text-secondary whitespace-pre-wrap",children:e.issue.description})}),k&&l.jsx("div",{ref:j,className:C("overflow-hidden transition-[max-height,opacity] duration-300 ease-out",b?"opacity-100":"opacity-0"),style:{maxHeight:b?g:0},children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute left-0 top-0 bottom-4 border-l border-dotted border-border",style:{marginLeft:`${t*20+17}px`}}),e.children.map(F=>l.jsx(Tf,{data:F,depth:t+1,defaultExpanded:n,onNodeClick:r,onBlockerClick:s,showDescriptionPreview:o,updatedIssueIds:i,focusedId:a,onFocus:c,expandedIds:u,onToggleExpand:m,selectedId:x},F.issue.id))]})})]})}function Fg({nodes:e,defaultExpanded:t=!1,onNodeClick:n,onBlockerClick:r,showDescriptionPreview:s=!1,className:o,updatedIssueIds:i,enableKeyboardNavigation:a=!0,selectedId:c}){const u=p.useMemo(()=>Ef(e),[e]),m=p.useMemo(()=>{if(!t)return[];const g=y=>{const j=[];for(const k of y)j.push(k.issue.id),k.children&&j.push(...g(k.children));return j};return g(e)},[e,t]),x=p.useCallback(g=>{const y=k=>{for(const S of k){if(S.issue.id===g)return S.issue;if(S.children){const E=y(S.children);if(E)return E}}return null},j=y(e);j&&(n==null||n(j))},[e,n]),{focusedId:d,expandedIds:w,setFocusedId:b,toggleExpanded:v,getTreeProps:N}=zg({nodes:u,onSelect:x,initialExpandedIds:m}),h=p.useRef(null);p.useEffect(()=>{if(d&&h.current){const g=document.getElementById(`tree-node-${d}`);g&&g.scrollIntoView({block:"nearest",behavior:"smooth"})}},[d]);const f=a?N():{};return l.jsx("div",{ref:h,className:C("py-2",o),...f,children:e.map(g=>l.jsx(Tf,{data:g,depth:0,defaultExpanded:t,onNodeClick:n,onBlockerClick:r,showDescriptionPreview:s,updatedIssueIds:i,focusedId:a?d:void 0,onFocus:a?b:void 0,expandedIds:a?w:void 0,onToggleExpand:a?v:void 0,selectedId:c},g.issue.id))})}function _f(e){let t=0;for(const n of e)t+=1,n.children&&(t+=_f(n.children));return t}function Pf(e,t,n=0,r=""){var o;const s=[];for(const i of e){const a=r?`${r}/${i.issue.id}`:i.issue.id,c=(((o=i.children)==null?void 0:o.length)??0)>0,u=t.has(a);s.push({data:i,depth:n,hasChildren:c,isExpanded:u,path:a}),c&&u&&i.children&&s.push(...Pf(i.children,t,n+1,a))}return s}function Rf(e,t=""){const n=[];for(const r of e){const s=t?`${t}/${r.issue.id}`:r.issue.id;n.push(s),r.children&&n.push(...Rf(r.children,s))}return n}function $g({nodes:e,defaultExpanded:t=!1,onNodeClick:n,onBlockerClick:r,className:s,height:o="100%",selectedId:i}){const[a,c]=p.useState(()=>t?new Set(Rf(e)):new Set),u=p.useMemo(()=>Pf(e,a),[e,a]),m=d=>{c(w=>{const b=new Set(w);return b.has(d)?b.delete(d):b.add(d),b})},x=d=>{const{data:w,depth:b,hasChildren:v,isExpanded:N,path:h}=d,f=la(w),g=v&&f.total>0,y=i===w.issue.id,j={open:"bg-status-open/20 text-status-open border-status-open/30",in_progress:"bg-status-in-progress/20 text-status-in-progress border-status-in-progress/30",blocked:"bg-status-blocked/20 text-status-blocked border-status-blocked/30",closed:"bg-status-closed/20 text-status-closed border-status-closed/30",deferred:"bg-status-deferred/20 text-status-deferred border-status-deferred/30",tombstone:"bg-bg-tertiary text-text-muted border-border"}[w.issue.status]||"bg-status-open/20 text-status-open border-status-open/30";return l.jsxs("div",{className:C("flex items-center gap-2 py-2 px-2 rounded-md h-full","transition-colors duration-100","hover:bg-bg-tertiary cursor-pointer","group",y&&"ring-2 ring-accent-rust ring-offset-1 ring-offset-bg-primary bg-bg-tertiary"),style:{paddingLeft:`${b*20+8}px`},onClick:()=>n==null?void 0:n(w.issue),children:[l.jsx("button",{onClick:k=>{k.stopPropagation(),m(h)},className:C("w-5 h-5 flex items-center justify-center","text-text-muted hover:text-text-primary","transition-transform duration-200",!v&&"invisible"),"aria-label":N?"Collapse":"Expand",children:l.jsx("svg",{className:C("w-4 h-4 transition-transform duration-200",N&&"rotate-90"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})}),l.jsx("span",{className:C("inline-flex items-center justify-center","w-6 h-6 rounded-full border","text-sm flex-shrink-0",j),children:Fe(w.issue.status)}),l.jsx("span",{className:C("w-7 flex-shrink-0 text-xs",Xr(w.issue.priority)),children:Yr(w.issue.priority)}),l.jsx("span",{className:"mono text-text-muted text-xs w-20 flex-shrink-0 truncate",children:w.issue.id}),l.jsx("span",{className:"flex-1 truncate text-text-primary",children:w.issue.title}),g&&l.jsxs("span",{className:C("flex-shrink-0 text-xs px-1.5 py-0.5 rounded",f.completed===f.total?"bg-status-closed/10 text-status-closed":"bg-bg-tertiary text-text-secondary"),title:`${f.completed} of ${f.total} completed`,children:[f.completed,"/",f.total]}),w.blockers&&w.blockers.length>0&&l.jsxs("span",{className:"flex items-center gap-1 flex-shrink-0",children:[w.blockers.slice(0,2).map(k=>l.jsxs("button",{onClick:S=>{S.stopPropagation(),r==null||r(k.id)},className:C("inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-xs","bg-status-blocked/10 text-status-blocked border border-status-blocked/20","hover:bg-status-blocked/20 transition-colors","cursor-pointer"),title:`Blocked by: ${k.title||k.id}`,children:[l.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),l.jsx("span",{className:"mono",children:k.id})]},k.id)),w.blockers.length>2&&l.jsxs("span",{className:"text-xs text-status-blocked",children:["+",w.blockers.length-2]})]}),l.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-bg-tertiary text-text-secondary flex-shrink-0 opacity-60 group-hover:opacity-100 transition-opacity",children:w.issue.issue_type})]})};return l.jsx("div",{className:C("py-2",s),style:{height:o},children:l.jsx(Vx,{items:u,itemHeight:40,renderItem:x,getKey:d=>d.path,className:"h-full"})})}const Fc={open:"Open",in_progress:"In Progress",blocked:"Blocked",deferred:"Deferred",closed:"Closed",tombstone:"Tombstone"},$c={bug:"Bug",feature:"Feature",task:"Task",epic:"Epic",chore:"Chore","merge-request":"MR",molecule:"Molecule",gate:"Gate",convoy:"Convoy",agent:"Agent",event:"Event",rig:"Rig"},Vg=["blocked","in_progress","open","deferred","closed","tombstone"],Ug=["epic","feature","task","bug","chore"];function Wg({issues:e,activeFilter:t,onFilterChange:n,className:r}){const s=p.useMemo(()=>e.filter(u=>!Sf.includes(u.issue_type)),[e]),o=p.useMemo(()=>{const u=new Map;for(const m of s)u.set(m.status,(u.get(m.status)||0)+1);return u},[s]),i=p.useMemo(()=>{const u=new Map;for(const m of s)u.set(m.issue_type,(u.get(m.issue_type)||0)+1);return u},[s]),a=u=>{(t==null?void 0:t.status)===u?n==null||n(null):n==null||n({status:u})},c=u=>{(t==null?void 0:t.type)===u?n==null||n(null):n==null||n({type:u})};return l.jsxs("div",{className:C("flex flex-col gap-3",r),children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wide mr-1",children:"Status"}),Vg.map(u=>{const m=o.get(u)||0;if(m===0)return null;const x=(t==null?void 0:t.status)===u;return l.jsx(Hg,{status:u,count:m,isActive:x,onClick:()=>a(u)},u)})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wide mr-1",children:"Type"}),Ug.map(u=>{const m=i.get(u)||0;if(m===0)return null;const x=(t==null?void 0:t.type)===u;return l.jsx(Bg,{type:u,count:m,isActive:x,onClick:()=>c(u)},u)})]})]})}function Hg({status:e,count:t,isActive:n,onClick:r}){return l.jsxs("button",{onClick:r,className:C("inline-flex items-center gap-1.5 px-2 py-1 rounded-full border text-xs","transition-all duration-150","hover:scale-105 active:scale-95",Zr(e),n&&"ring-2 ring-offset-1 ring-offset-bg-primary ring-current"),title:`Filter by ${Fc[e]}`,children:[l.jsx("span",{children:Fe(e)}),l.jsx("span",{children:Fc[e]}),l.jsx("span",{className:"mono font-semibold",children:t})]})}function Bg({type:e,count:t,isActive:n,onClick:r}){return l.jsxs("button",{onClick:r,className:C("inline-flex items-center gap-1.5 px-2 py-1 rounded-full border text-xs","transition-all duration-150","hover:scale-105 active:scale-95","bg-bg-tertiary text-text-secondary border-border","hover:bg-bg-secondary hover:text-text-primary",n&&"ring-2 ring-offset-1 ring-offset-bg-primary ring-accent-rust bg-accent-rust/10 text-text-primary border-accent-rust/30"),title:`Filter by ${$c[e]}`,children:[l.jsx("span",{children:$c[e]}),l.jsx("span",{className:"mono font-semibold",children:t})]})}function Kg(e,t,n){new Date().toISOString(),t.name,t.message,t.stack,n==null||n.componentStack,console.group(`[ErrorLog] ${e}`),console.error("Error:",t),n!=null&&n.componentStack&&console.error("Component Stack:",n.componentStack),console.groupEnd()}function Lf({isOpen:e,onClose:t,title:n,children:r,className:s}){const o=p.useCallback(i=>{i.key==="Escape"&&t()},[t]);return p.useEffect(()=>(e&&(document.addEventListener("keydown",o),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",o),document.body.style.overflow=""}),[e,o]),l.jsxs(l.Fragment,{children:[l.jsx("div",{className:C("fixed inset-0 z-40 bg-black/50 transition-opacity duration-200",e?"opacity-100":"opacity-0 pointer-events-none"),onClick:t,"aria-hidden":"true"}),l.jsxs("div",{className:C("fixed top-0 right-0 z-50 h-full w-[400px] bg-bg-secondary border-l border-border shadow-lg","transform transition-transform duration-200 ease-out",e?"translate-x-0":"translate-x-full",s),role:"dialog","aria-modal":"true","aria-labelledby":n?"panel-title":void 0,children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border bg-gradient-to-r from-accent-rust/10 to-transparent",children:[n&&l.jsx("h2",{id:"panel-title",className:"font-display text-lg font-semibold tracking-wide",children:n}),l.jsx("button",{onClick:t,className:C("p-1.5 rounded-md text-text-secondary hover:text-text-primary hover:bg-bg-tertiary transition-colors","focus:outline-none focus:ring-2 focus:ring-accent-chrome",!n&&"ml-auto"),"aria-label":"Close panel",children:l.jsx(so,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"flex-1 overflow-auto h-[calc(100%-57px)]",children:l.jsx(Ix,{variant:"inline",title:"Panel Error",description:"Something went wrong loading this content.",onError:(i,a)=>Kg("SlideOutPanel",i,a),className:"m-4",children:r})})]})]})}const Qg=[{value:"open",label:`${Fe("open")} Open`},{value:"in_progress",label:`${Fe("in_progress")} In Progress`},{value:"blocked",label:`${Fe("blocked")} Blocked`},{value:"deferred",label:`${Fe("deferred")} Deferred`},{value:"closed",label:`${Fe("closed")} Closed`}];function Gg({value:e,onChange:t,error:n,disabled:r}){return l.jsx(Yn,{label:"Status",htmlFor:"status",error:n,required:!0,children:l.jsx(No,{id:"status",options:Qg,value:e,onChange:s=>t(s.target.value),error:!!n,disabled:r})})}const Yg=[{value:"0",label:"P0 - Critical"},{value:"1",label:"P1 - High"},{value:"2",label:"P2 - Medium"},{value:"3",label:"P3 - Low"},{value:"4",label:"P4 - Minimal"}];function Xg({value:e,onChange:t,error:n,disabled:r}){return l.jsx(Yn,{label:"Priority",htmlFor:"priority",error:n,required:!0,children:l.jsx(No,{id:"priority",options:Yg,value:String(e),onChange:s=>t(parseInt(s.target.value,10)),error:!!n,disabled:r})})}function Zg({value:e,onChange:t,error:n,disabled:r}){return l.jsx(Yn,{label:"Title",htmlFor:"title",error:n,required:!0,hint:"A clear, concise summary of the issue",children:l.jsx(gf,{id:"title",type:"text",value:e,onChange:s=>t(s.target.value),placeholder:"Enter issue title...",error:!!n,disabled:r,maxLength:200})})}function Jg({value:e,onChange:t,error:n,disabled:r}){return l.jsx(Yn,{label:"Description",htmlFor:"description",error:n,hint:"Detailed description, acceptance criteria, or context",children:l.jsx(yf,{id:"description",value:e,onChange:s=>t(s.target.value),placeholder:"Enter issue description...",error:!!n,disabled:r,rows:5})})}const qg=[{value:"bug",label:"bug"},{value:"feature",label:"feature"},{value:"enhancement",label:"enhancement"},{value:"documentation",label:"documentation"},{value:"refactor",label:"refactor"},{value:"test",label:"test"},{value:"performance",label:"performance"},{value:"security",label:"security"},{value:"ux",label:"ux"},{value:"tech-debt",label:"tech-debt"}];function ey({value:e,onChange:t,availableLabels:n=qg,error:r,disabled:s}){return l.jsx(Yn,{label:"Labels",htmlFor:"labels",error:r,hint:"Add labels to categorize this issue",children:l.jsx($x,{options:n,value:e,onChange:t,placeholder:"Add labels...",error:!!r,disabled:s,allowCreate:!0})})}function ty({value:e,onChange:t,availableAssignees:n=[],error:r,disabled:s}){const o=[{value:"",label:"Unassigned"},...n];return l.jsx(Yn,{label:"Assignee",htmlFor:"assignee",error:r,hint:"Who is responsible for this issue",children:l.jsx(No,{id:"assignee",options:o,value:e,onChange:i=>t(i.target.value),error:!!r,disabled:s})})}function ny(e){const t=e.trim();if(!t)return"Title is required";if(t.length<3)return"Title must be at least 3 characters";if(t.length>200)return"Title must be less than 200 characters"}function ry(e){if(!["open","in_progress","blocked","deferred","closed","tombstone"].includes(e))return"Invalid status"}function sy(e){if(e<0||e>4||!Number.isInteger(e))return"Priority must be P0-P4"}function oy(e){if(e.length>1e4)return"Description must be less than 10000 characters"}function ly(e){if(e.length>20)return"Maximum 20 labels allowed";if(e.find(n=>n.length>50))return"Labels must be less than 50 characters"}function iy(e){if(e&&e.length>100)return"Assignee name is too long"}function ay(e){const t={},n=ny(e.title);n&&(t.title=n);const r=ry(e.status);r&&(t.status=r);const s=sy(e.priority);s&&(t.priority=s);const o=oy(e.description);o&&(t.description=o);const i=ly(e.labels);i&&(t.labels=i);const a=iy(e.assignee);return a&&(t.assignee=a),{isValid:Object.keys(t).length===0,errors:t}}function hn(e,t,n){if(n.has(e)&&t[e])return t[e]}function cy({issue:e,availableAssignees:t=[],onChange:n,disabled:r=!1}){const[s,o]=p.useState({title:e.title,description:e.description,status:e.status,priority:e.priority,labels:e.labels??[],assignee:e.assignee??""}),[i,a]=p.useState(new Set),[c,u]=p.useState({});p.useEffect(()=>{const d=ay(s);u(d.errors),n==null||n(s,d.isValid)},[s,n]),p.useEffect(()=>{o({title:e.title,description:e.description,status:e.status,priority:e.priority,labels:e.labels??[],assignee:e.assignee??""}),a(new Set)},[e.id,e.title,e.description,e.status,e.priority,e.labels,e.assignee]);const m=p.useCallback((d,w)=>{o(b=>({...b,[d]:w})),a(b=>new Set(b).add(d))},[]),x=p.useCallback(d=>{a(w=>new Set(w).add(d))},[]);return l.jsxs("form",{className:"space-y-4",onSubmit:d=>d.preventDefault(),children:[l.jsx("div",{onBlur:()=>x("title"),children:l.jsx(Zg,{value:s.title,onChange:d=>m("title",d),error:hn("title",c,i),disabled:r})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx("div",{onBlur:()=>x("status"),children:l.jsx(Gg,{value:s.status,onChange:d=>m("status",d),error:hn("status",c,i),disabled:r})}),l.jsx("div",{onBlur:()=>x("priority"),children:l.jsx(Xg,{value:s.priority,onChange:d=>m("priority",d),error:hn("priority",c,i),disabled:r})})]}),l.jsx("div",{onBlur:()=>x("description"),children:l.jsx(Jg,{value:s.description,onChange:d=>m("description",d),error:hn("description",c,i),disabled:r})}),l.jsx("div",{onBlur:()=>x("labels"),children:l.jsx(ey,{value:s.labels,onChange:d=>m("labels",d),error:hn("labels",c,i),disabled:r})}),l.jsx("div",{onBlur:()=>x("assignee"),children:l.jsx(ty,{value:s.assignee,onChange:d=>m("assignee",d),availableAssignees:t,error:hn("assignee",c,i),disabled:r})})]})}const Re=Jr(e=>({status:"online",hasCachedData:!1,lastOnline:Date.now(),failureCount:0,setOnline:()=>e({status:"online",lastOnline:Date.now(),failureCount:0}),setOffline:()=>e({status:"offline"}),setReconnecting:()=>e({status:"reconnecting"}),setHasCachedData:t=>e({hasCachedData:t}),incrementFailure:()=>e(t=>({failureCount:t.failureCount+1})),resetFailures:()=>e({failureCount:0})})),uy="townview_cache_",ia="townview_cache_meta",Df=5*60*1e3;function aa(){try{const e=localStorage.getItem(ia);if(e)return JSON.parse(e)}catch{}return{keys:[],lastCleanup:Date.now()}}function Mf(e){try{localStorage.setItem(ia,JSON.stringify(e))}catch{If()}}function ri(e){return uy+btoa(e).replace(/[=+/]/g,"_")}function gs(e){try{const t=ri(e),n=localStorage.getItem(t);if(!n)return null;const r=JSON.parse(n),o=Date.now()-r.timestamp>r.ttl,{status:i}=Re.getState();return i==="offline"||!o?r.data:null}catch{return null}}function dy(e,t,n=Df){try{const r=ri(e),s={data:t,timestamp:Date.now(),ttl:n};localStorage.setItem(r,JSON.stringify(s));const o=aa();o.keys.includes(r)||(o.keys.push(r),Mf(o)),Re.getState().setHasCachedData(!0)}catch(r){if(r instanceof DOMException&&r.name==="QuotaExceededError"){If();try{const s=ri(e),o={data:t,timestamp:Date.now(),ttl:n};localStorage.setItem(s,JSON.stringify(o))}catch{console.warn("[Cache] Failed to save cache even after cleanup")}}}}function fy(){try{const e=aa();for(const t of e.keys)localStorage.removeItem(t);localStorage.removeItem(ia),Re.getState().setHasCachedData(!1)}catch{}}function If(){try{const e=aa(),t=Date.now(),n=[];for(const r of e.keys){const s=localStorage.getItem(r);if(s)try{const o=JSON.parse(s);t-o.timestamp<=o.ttl?n.push(r):localStorage.removeItem(r)}catch{localStorage.removeItem(r)}}e.keys=n,e.lastCleanup=t,Mf(e),Re.getState().setHasCachedData(n.length>0)}catch{}}typeof window<"u"&&(window.clearTownViewCache=fy);async function Ee(e,t={}){const{cacheTTL:n=Df,skipCache:r=!1,returnStaleOnError:s=!0,...o}=t,{status:i}=Re.getState();if(i==="offline"){const a=gs(e);return a!==null?{data:a,fromCache:!0,error:null}:{data:null,fromCache:!1,error:"Offline and no cached data available"}}if(!r){const a=gs(e);if(a!==null)return{data:a,fromCache:!0,error:null}}try{const a=await fetch(e,o);if(!a.ok){if(s){const u=gs(e);if(u!==null)return{data:u,fromCache:!0,error:`Fetch failed (${a.status}), using cached data`}}return{data:null,fromCache:!1,error:`Fetch failed: ${a.statusText}`}}const c=await a.json();return dy(e,c,n),{data:c,fromCache:!1,error:null}}catch(a){if(s){const c=gs(e);if(c!==null)return{data:c,fromCache:!0,error:a instanceof Error?a.message:"Network error"}}return{data:null,fromCache:!1,error:a instanceof Error?a.message:"Network error"}}}function Vc({issue:e,onRemove:t,onClick:n}){const r=Zr(e.status);return l.jsxs("div",{className:C("flex items-center gap-3 py-2 px-2 -mx-2 rounded-md transition-colors group",n&&"cursor-pointer hover:bg-bg-tertiary"),onClick:n,children:[l.jsx("span",{className:C("w-8 flex-shrink-0 text-xs",Xr(e.priority)),children:Yr(e.priority)}),l.jsx("span",{className:C("inline-flex items-center justify-center","w-5 h-5 rounded-full border","text-xs","flex-shrink-0",r),children:Fe(e.status)}),l.jsx("span",{className:"mono text-text-muted w-20 flex-shrink-0 truncate text-sm",children:e.id}),l.jsx("span",{className:"flex-1 min-w-0 truncate text-sm",children:e.title}),t&&l.jsx("button",{onClick:s=>{s.stopPropagation(),t()},className:"opacity-0 group-hover:opacity-100 text-text-muted hover:text-status-blocked transition-opacity text-xs px-2 py-1",title:"Remove dependency",children:"Remove"})]})}function py({rigId:e,issueId:t,existingBlockerIds:n,onAdd:r,onClose:s}){const[o,i]=p.useState(""),[a,c]=p.useState([]),[u,m]=p.useState(!0);p.useEffect(()=>{(async()=>{const w=`/api/rigs/${e}/issues?all=true`,b=await Ee(w,{cacheTTL:2*60*1e3,returnStaleOnError:!0});if(b.data){const v=b.data.filter(N=>N.id!==t&&!n.includes(N.id));c(v)}m(!1)})()},[e,t,n]);const x=a.filter(d=>d.id.toLowerCase().includes(o.toLowerCase())||d.title.toLowerCase().includes(o.toLowerCase()));return l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:s}),l.jsxs("div",{className:"relative bg-bg-secondary border border-border rounded-lg shadow-lg w-full max-w-lg max-h-[80vh] flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[l.jsx("h3",{className:"font-semibold",children:"Add Dependency"}),l.jsx("button",{onClick:s,className:"text-text-muted hover:text-text-primary",children:""})]}),l.jsx("div",{className:"p-4 border-b border-border",children:l.jsx("input",{type:"text",placeholder:"Search issues...",value:o,onChange:d=>i(d.target.value),className:"w-full bg-bg-tertiary border border-border rounded-md px-3 py-2 text-sm text-text-primary placeholder:text-text-muted focus:outline-none focus:ring-2 focus:ring-accent-rust",autoFocus:!0})}),l.jsx("div",{className:"flex-1 overflow-auto p-2",children:u?l.jsx("div",{className:"text-center text-text-muted py-4",children:"Loading..."}):x.length===0?l.jsx("div",{className:"text-center text-text-muted py-4",children:"No issues found"}):l.jsx("div",{className:"divide-y divide-border",children:x.map(d=>l.jsxs("div",{className:"flex items-center gap-3 py-2 px-2 rounded-md cursor-pointer hover:bg-bg-tertiary transition-colors",onClick:()=>r(d.id),children:[l.jsx("span",{className:C("w-6 flex-shrink-0 text-xs",Xr(d.priority)),children:Yr(d.priority)}),l.jsx("span",{className:C("inline-flex items-center justify-center","w-5 h-5 rounded-full border","text-xs","flex-shrink-0",Zr(d.status)),children:Fe(d.status)}),l.jsx("span",{className:"mono text-text-muted w-20 flex-shrink-0 truncate text-sm",children:d.id}),l.jsx("span",{className:"flex-1 min-w-0 truncate text-sm",children:d.title})]},d.id))})})]})]})}function my({issue:e,onConfirm:t,onCancel:n}){return l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:n}),l.jsxs("div",{className:"relative bg-bg-secondary border border-border rounded-lg shadow-lg w-full max-w-md p-6",children:[l.jsx("h3",{className:"font-semibold mb-4",children:"Remove Dependency"}),l.jsxs("p",{className:"text-text-secondary mb-4",children:["Are you sure you want to remove the dependency on"," ",l.jsx("span",{className:"mono text-text-primary",children:e.id}),"?"]}),l.jsx("p",{className:"text-sm text-text-muted mb-6",children:e.title}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx("button",{onClick:n,className:"px-4 py-2 text-sm rounded-md border border-border hover:bg-bg-tertiary transition-colors",children:"Cancel"}),l.jsx("button",{onClick:t,className:"px-4 py-2 text-sm rounded-md bg-status-blocked text-white hover:bg-status-blocked/80 transition-colors",children:"Remove"})]})]})]})}function hy({rigId:e,issueId:t,onIssueClick:n}){const[r,s]=p.useState(null),[o,i]=p.useState(!0),[a,c]=p.useState(null),[u,m]=p.useState(!1),[x,d]=p.useState(null),[w,b]=p.useState(!1),v=p.useCallback(async()=>{i(!0),c(null);const y=`/api/rigs/${e}/issues/${t}/dependencies`,j=await Ee(y,{cacheTTL:2*60*1e3,returnStaleOnError:!0});j.data?(s(j.data),i(!1),j.fromCache&&j.error?console.warn("[IssueDeps] Using cached data:",j.error):c(null)):j.error&&(c(j.error),i(!1))},[e,t]);p.useEffect(()=>{v()},[v]);const N=async y=>{b(!0);try{if(!(await fetch(`/api/rigs/${e}/issues/${t}/dependencies`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({blocker_id:y})})).ok)throw new Error("Failed to add dependency");m(!1),v()}catch(j){console.error("Failed to add dependency:",j)}finally{b(!1)}},h=async y=>{b(!0);try{if(!(await fetch(`/api/rigs/${e}/issues/${t}/dependencies/${y}`,{method:"DELETE"})).ok)throw new Error("Failed to remove dependency");d(null),v()}catch(j){console.error("Failed to remove dependency:",j)}finally{b(!1)}};if(o)return l.jsx("div",{className:"p-4 text-text-muted",children:"Loading dependencies..."});if(a)return l.jsx("div",{className:"p-4 text-status-blocked",children:a});const f=(r==null?void 0:r.blockers)||[],g=(r==null?void 0:r.blocked_by)||[];return l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("h4",{className:"text-sm font-semibold text-text-secondary uppercase tracking-wide",children:["Blocked By (",f.length,")"]}),l.jsx("button",{onClick:()=>m(!0),className:"text-xs px-3 py-1.5 rounded-md bg-accent-rust text-white hover:bg-accent-rust/80 transition-colors",disabled:w,children:"+ Add Blocker"})]}),f.length===0?l.jsx("p",{className:"text-sm text-text-muted",children:"No blockers"}):l.jsx("div",{className:"card",children:f.map(y=>l.jsx(Vc,{issue:y,onClick:()=>n==null?void 0:n(y.id),onRemove:()=>d(y)},y.id))})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"text-sm font-semibold text-text-secondary uppercase tracking-wide mb-3",children:["Blocks (",g.length,")"]}),g.length===0?l.jsx("p",{className:"text-sm text-text-muted",children:"Not blocking any issues"}):l.jsx("div",{className:"card",children:g.map(y=>l.jsx(Vc,{issue:y,onClick:()=>n==null?void 0:n(y.id)},y.id))})]}),u&&l.jsx(py,{rigId:e,issueId:t,existingBlockerIds:f.map(y=>y.id),onAdd:N,onClose:()=>m(!1)}),x&&l.jsx(my,{issue:x,onConfirm:()=>h(x.id),onCancel:()=>d(null)})]})}function xy({issueId:e,comments:t,isLoading:n=!1,onAddComment:r,isSubmitting:s=!1,className:o}){const[i,a]=p.useState(""),c=m=>{m.preventDefault(),i.trim()&&r&&(r(i.trim()),a(""))},u=m=>{m.key==="Enter"&&(m.metaKey||m.ctrlKey)&&c(m)};return n?l.jsx("div",{className:C("flex flex-col h-full",o),children:l.jsx("div",{className:"flex-1 flex items-center justify-center",children:l.jsx("div",{className:"text-text-muted text-sm",children:"Loading comments..."})})}):l.jsxs("div",{className:C("flex flex-col h-full",o),children:[l.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-3 space-y-4",children:t.length===0?l.jsx("div",{className:"text-text-muted text-sm text-center py-8",children:"No comments yet"}):t.map(m=>l.jsx(gy,{comment:m},m.id))}),l.jsxs("form",{onSubmit:c,className:"border-t border-border px-4 py-3 bg-bg-secondary",children:[l.jsx("textarea",{value:i,onChange:m=>a(m.target.value),onKeyDown:u,placeholder:"Add a comment...",disabled:s,rows:3,className:C("w-full px-3 py-2 rounded-md","bg-bg-primary border border-border","text-text-primary placeholder:text-text-muted","focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent","resize-none text-sm","disabled:opacity-50 disabled:cursor-not-allowed")}),l.jsxs("div",{className:"flex items-center justify-between mt-2",children:[l.jsxs("span",{className:"text-xs text-text-muted",children:[navigator.platform.includes("Mac")?"":"Ctrl","+Enter to submit"]}),l.jsx("button",{type:"submit",disabled:!i.trim()||s,className:C("px-3 py-1.5 rounded-md text-sm font-medium","bg-accent text-white","hover:bg-accent/90 transition-colors","disabled:opacity-50 disabled:cursor-not-allowed"),children:s?"Adding...":"Add Comment"})]})]})]})}function gy({comment:e}){return l.jsxs("div",{className:"group",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"text-sm font-medium text-text-primary",children:yy(e.author)}),l.jsx("span",{className:"text-xs text-text-muted",children:Gn(e.created_at)})]}),l.jsx("div",{className:"text-sm text-text-secondary whitespace-pre-wrap break-words",children:e.text})]})}function yy(e){const t=e.split("/");return t[t.length-1]||e}function vy({entries:e,className:t}){const n=[...e].sort((r,s)=>new Date(s.timestamp).getTime()-new Date(r.timestamp).getTime());return n.length===0?l.jsx("div",{className:C("flex items-center justify-center py-12 text-text-muted",t),children:"No history available"}):l.jsx("div",{className:C("overflow-y-auto",t),children:l.jsx("div",{className:"space-y-1",children:n.map(r=>l.jsx(wy,{entry:r},r.id))})})}function wy({entry:e}){return l.jsxs("div",{className:C("px-3 py-2 rounded-md","bg-bg-secondary border border-border","transition-colors duration-100","hover:bg-bg-tertiary"),children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"text-xs text-text-muted mono",title:e.timestamp,children:Gn(e.timestamp)}),l.jsx("span",{className:"text-text-muted",children:""}),l.jsx("span",{className:"text-sm text-text-secondary truncate",children:e.actor})]}),l.jsxs("div",{className:"flex items-baseline gap-2 text-sm",children:[l.jsx("span",{className:"text-text-secondary font-medium",children:e.field}),l.jsx("span",{className:"text-text-muted",children:":"}),l.jsxs("span",{className:"flex items-center gap-1.5 min-w-0",children:[e.old_value!==null?l.jsx("span",{className:"text-status-blocked/80 line-through truncate max-w-[120px]",title:e.old_value,children:e.old_value}):l.jsx("span",{className:"text-text-muted italic",children:"none"}),l.jsx("span",{className:"text-text-muted flex-shrink-0",children:""}),e.new_value!==null?l.jsx("span",{className:"text-status-closed truncate max-w-[120px]",title:e.new_value,children:e.new_value}):l.jsx("span",{className:"text-text-muted italic",children:"none"})]})]})]})}async function by(e,t,n){try{const r=await fetch(`/api/rigs/${e}/issues/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});return r.ok?{success:!0,issue:await r.json()}:{success:!1,error:{message:await r.text()||`Failed to update issue: ${r.statusText}`,status:r.status}}}catch(r){return{success:!1,error:{message:r instanceof Error?r.message:"Unknown error occurred",status:0}}}}function Af(e){const t=e.lastIndexOf(".");return t===-1?null:e.substring(0,t)}function jy(e){const t=new Map,n=new Map;for(const o of e)t.set(o.id,o);const r=[],s=[...e].sort((o,i)=>o.id.localeCompare(i.id));for(const o of s){const i=Af(o.id),a=o.id.split(".").length-1,c={issue:o,children:[],depth:a,isExpanded:a===0};if(n.set(o.id,c),i===null)r.push(c);else{const u=n.get(i);u?u.children.push(c):r.push(c)}}return r}function Ny(e,t){const n=t+".";return e.filter(r=>r.id.startsWith(n))}function ky({refreshKey:e=0,updatedIssueIds:t}){const{selectedRig:n,treeFilters:r,setTreeFilters:s}=Ur(),{showToast:o}=Cf(),[i,a]=p.useState([]),[c,u]=p.useState(!0),[m,x]=p.useState(null),[d,w]=p.useState(null),[b,v]=p.useState(!1),[N,h]=p.useState("edit"),[f,g]=p.useState(null),[y,j]=p.useState(!0),[k,S]=p.useState(!1),[E,A]=p.useState(!1),[D,H]=p.useState([]),[R,Y]=p.useState(!1),[I,F]=p.useState(!1),[$,G]=p.useState([]),[_,M]=p.useState(!1),[z,B]=p.useState([]),[J,Oe]=p.useState(0),ge=p.useRef(!1);p.useEffect(()=>{ge.current=!1},[n==null?void 0:n.id]),p.useEffect(()=>{if(!n)return;(async()=>{!ge.current&&u(!0),x(null);const ee=`/api/rigs/${n.id}/issues?all=true`,Ke=await Ee(ee,{cacheTTL:2*60*1e3,returnStaleOnError:!0});Ke.data?(a(Ke.data),ge.current=!0,u(!1)):Ke.error&&(x(Ke.error),u(!1))})()},[n,e,J]);const Yt=p.useCallback(()=>{Oe(V=>V+1)},[]);p.useEffect(()=>{if(!n)return;(async()=>{const se=`/api/rigs/${n.id}/dependencies`,ee=await Ee(se,{cacheTTL:2*60*1e3,returnStaleOnError:!0});ee.data&&B(ee.data)})()},[n,e]),p.useEffect(()=>{if(!n||!d||N!=="comments")return;(async()=>{Y(!0);const se=`/api/rigs/${n.id}/issues/${d.id}/comments`,ee=await Ee(se,{cacheTTL:60*1e3,returnStaleOnError:!0});ee.data&&H(ee.data),Y(!1)})()},[n,d,N]),p.useEffect(()=>{if(!n||!d||N!=="history")return;(async()=>{M(!0);const se=`/api/rigs/${n.id}/issues/${d.id}/history`,ee=await Ee(se,{cacheTTL:60*1e3,returnStaleOnError:!0});ee.data&&G(ee.data),M(!1)})()},[n,d,N]);const P=new Map;for(const V of i)P.set(V.id,Af(V.id)??void 0);const O=p.useMemo(()=>{const V=new Map,se=new Map(i.map(ee=>[ee.id,ee]));for(const ee of z)if(ee.type==="blocks"){const Ke=V.get(ee.to_id)||[],Co=se.get(ee.from_id);Ke.push({id:ee.from_id,title:Co==null?void 0:Co.title}),V.set(ee.to_id,Ke)}return V},[z,i]),U=Ag(i,r,P),X=i.filter(V=>U.has(V.id)),ye=jy(X),Xn=V=>V.map(se=>({issue:se.issue,children:se.children.length>0?Xn(se.children):void 0,blockers:O.get(se.issue.id)})),kt=Xn(ye),ma=_f(kt)>100,op=[...new Set(i.map(V=>V.assignee).filter(Boolean))],ha=p.useCallback(V=>{w(V),h("edit"),v(!0),g(null)},[]),lp=p.useCallback(()=>{v(!1),w(null),g(null)},[]),ip=p.useCallback((V,se)=>{g(V),j(se)},[]),ap=p.useCallback(()=>{!y||!f||!d||A(!0)},[y,f,d]),cp=p.useCallback(async()=>{var se;if(!n||!d||!f)return;S(!0),A(!1);const V=await by(n.id,d.id,{title:f.title,description:f.description,status:f.status,priority:f.priority,labels:f.labels,assignee:f.assignee||void 0});S(!1),V.success?(o("Issue Updated",`${d.id} has been updated successfully.`,"success"),a(ee=>ee.map(Ke=>Ke.id===d.id&&V.issue?V.issue:Ke)),V.issue&&w(V.issue)):o("Update Failed",((se=V.error)==null?void 0:se.message)||"Failed to update issue.","error")},[n,d,f,o]),up=p.useCallback(async V=>{if(!(!n||!d)){F(!0);try{const se=await fetch(`/api/rigs/${n.id}/issues/${d.id}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:V})});if(se.ok){const ee=await se.json();H(Ke=>[...Ke,ee]),o("Comment Added","Your comment has been added.","success")}else throw new Error("Failed to add comment")}catch{o("Failed to Add Comment","Please try again.","error")}finally{F(!1)}}},[n,d,o]),xa=p.useCallback(V=>{const se=i.find(ee=>ee.id===V);se&&(w(se),h("edit"),v(!0))},[i]),ga=xa,dp=p.useCallback(V=>{V?V.status?s({...r,status:V.status,type:"all"}):V.type&&s({...r,type:V.type,status:"all"}):s({...r,status:"all",type:"all"})},[r,s]),fp=p.useMemo(()=>{if(r.status!=="all")return{status:r.status};if(r.type!=="all")return{type:r.type}},[r.status,r.type]),pp=d&&f&&(f.title!==d.title||f.description!==d.description||f.status!==d.status||f.priority!==d.priority||f.assignee!==(d.assignee??"")||JSON.stringify(f.labels.sort())!==JSON.stringify((d.labels??[]).sort()));return n?l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsx("div",{className:"px-6 pt-4 pb-2 bg-bg-secondary",children:l.jsx(Wg,{issues:i,activeFilter:fp,onFilterChange:dp})}),l.jsx("div",{className:"px-6 py-3 border-b border-border bg-bg-secondary",children:l.jsx(Dg,{filters:r,onFiltersChange:s,assignees:op})}),l.jsx("div",{className:C("flex-1 px-6 py-4",ma?"":"overflow-auto"),children:c?l.jsx(Wx,{count:8}):m?l.jsx(sa,{title:"Failed to load issues",message:m,onRetry:Yt}):kt.length===0?l.jsx("div",{className:"text-center py-12 text-text-muted",children:i.length===0?"No issues found in this rig":"No issues match the current filters"}):ma?l.jsx($g,{nodes:kt,defaultExpanded:!1,onNodeClick:ha,onBlockerClick:ga,height:"100%",selectedId:d==null?void 0:d.id}):l.jsx(Fg,{nodes:kt,defaultExpanded:!1,onNodeClick:ha,onBlockerClick:ga,updatedIssueIds:t,selectedId:d==null?void 0:d.id})}),l.jsx(Lf,{isOpen:b,onClose:lp,title:d==null?void 0:d.id,className:"w-[500px]",children:d&&l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsx("div",{className:"flex border-b border-border",children:["edit","dependencies","comments","history"].map(V=>l.jsx("button",{onClick:()=>h(V),className:C("flex-1 px-4 py-2 text-sm font-medium transition-colors",N===V?"text-text-primary border-b-2 border-accent-rust":"text-text-secondary hover:text-text-primary"),children:V.charAt(0).toUpperCase()+V.slice(1)},V))}),l.jsxs("div",{className:"flex-1 overflow-auto",children:[N==="edit"&&l.jsxs("div",{className:"p-4",children:[l.jsx(cy,{issue:d,onChange:ip,disabled:k}),l.jsx("div",{className:"mt-6 flex justify-end",children:l.jsx("button",{onClick:ap,disabled:!y||k||!pp||E,className:C("px-4 py-2 rounded-md text-sm font-medium","bg-accent-rust text-white","hover:bg-accent-rust/90 transition-colors","disabled:opacity-50 disabled:cursor-not-allowed"),children:k?"Saving...":"Save Changes"})})]}),N==="dependencies"&&l.jsx(hy,{rigId:n.id,issueId:d.id,onIssueClick:xa}),N==="comments"&&l.jsx(xy,{issueId:d.id,comments:D,isLoading:R,onAddComment:up,isSubmitting:I,className:"h-full"}),N==="history"&&l.jsx("div",{className:"p-4",children:_?l.jsx("div",{className:"text-text-muted text-sm",children:"Loading history..."}):l.jsx(vy,{entries:$})})]})]})}),E&&d&&f&&l.jsx(Mx,{issue:d,changes:{title:f.title,description:f.description,status:f.status,priority:f.priority,labels:f.labels,assignee:f.assignee||void 0},isOpen:E,onConfirm:cp,onCancel:()=>A(!1),isSaving:k})]}):l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("p",{className:"text-text-muted",children:"Select a rig from the sidebar"})})}function Sy(e){return e.state&&e.state!=="idle"?e.state:e.hook_bead?"working":"idle"}function Ds({agent:e,onClick:t,variant:n="default"}){const r=Sy(e),s=Px(r),o=Rx(r);return n==="compact"?l.jsxs("div",{className:C("card p-3 transition-all",t&&"cursor-pointer hover:border-border-accent hover:shadow-md",r==="stuck"&&"border-l-4 border-l-status-blocked"),onClick:t,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l.jsx("span",{className:"text-base flex-shrink-0",title:e.role_type,children:Vr(e.role_type)}),l.jsx("span",{className:"font-medium truncate text-sm",children:e.name})]}),l.jsxs("div",{className:C("badge text-xs",o,s),children:[l.jsx("span",{children:ti(r)}),l.jsx("span",{className:"capitalize",children:r})]})]}),e.hook_bead&&l.jsx("div",{className:"mt-2 mono text-xs text-status-in-progress truncate",children:e.hook_bead})]}):l.jsxs("div",{className:C("card transition-all",t&&"cursor-pointer hover:border-border-accent hover:shadow-md",r==="stuck"&&"border-l-4 border-l-status-blocked"),onClick:t,children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-lg",title:e.role_type,children:Vr(e.role_type)}),l.jsx("span",{className:"font-medium truncate",children:e.name})]}),l.jsxs("div",{className:C("badge",o,s),children:[l.jsx("span",{children:ti(r)}),l.jsx("span",{className:"capitalize",children:r})]})]}),l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-bg-tertiary text-text-secondary capitalize",children:e.role_type}),l.jsx("span",{className:"text-xs text-text-muted",children:e.rig})]}),e.hook_bead?l.jsxs("div",{className:"mt-3 pt-3 border-t border-border",children:[l.jsx("div",{className:"text-xs text-text-muted mb-1",children:"Hooked bead"}),l.jsx("div",{className:"mono text-sm text-status-in-progress truncate",children:e.hook_bead})]}):l.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:l.jsx("div",{className:"text-xs text-text-muted italic",children:"No hooked bead"})}),l.jsxs("div",{className:"mt-3 text-xs text-text-muted text-right",children:["Updated ",Gn(e.updated_at)]})]})}function Of(e={}){const{onMessage:t,onConnect:n,onDisconnect:r,initialReconnectDelay:s=1e3,maxReconnectDelay:o=3e4,maxReconnectAttempts:i=10}=e,a=p.useRef(null),c=p.useRef(null),u=p.useRef(0),m=p.useRef("disconnected"),x=p.useRef(!0),[d,w]=p.useState(!1),b=p.useRef({onMessage:t,onConnect:n,onDisconnect:r});b.current={onMessage:t,onConnect:n,onDisconnect:r};const v=p.useCallback(()=>Math.min(s*Math.pow(2,u.current),o),[s,o]),N=p.useCallback(()=>{if(!x.current)return;if(i>0&&u.current>=i){console.warn(`[WebSocket] Max reconnection attempts (${i}) reached. Giving up.`);return}c.current&&(clearTimeout(c.current),c.current=null);const g=v();console.log(`[WebSocket] Scheduling reconnect in ${g}ms (attempt ${u.current+1}/${i||""})`),c.current=window.setTimeout(()=>{x.current&&(u.current++,h())},g)},[v,i]),h=p.useCallback(()=>{if(m.current==="connecting"||m.current==="connected"){console.log("[WebSocket] Connection already in progress or established, skipping");return}if(!x.current)return;m.current="connecting";const g=window.location.protocol==="https:"?"wss:":"ws:",y=window.location.host,j=`${g}//${y}/ws`;try{const k=new WebSocket(j);k.onopen=()=>{var S,E;if(!x.current){k.close();return}m.current="connected",u.current=0,w(!0),(E=(S=b.current).onConnect)==null||E.call(S),console.log("[WebSocket] Connected successfully")},k.onclose=S=>{var E,A;x.current&&(m.current="disconnected",a.current=null,w(!1),(A=(E=b.current).onDisconnect)==null||A.call(E),S.code!==1e3&&N())},k.onerror=S=>{console.error("[WebSocket] Error:",S)},k.onmessage=S=>{var E,A;try{const D=JSON.parse(S.data);(A=(E=b.current).onMessage)==null||A.call(E,D)}catch(D){console.error("[WebSocket] Failed to parse message:",D)}},a.current=k}catch(k){console.error("[WebSocket] Failed to create connection:",k),m.current="disconnected",N()}},[N]),f=p.useCallback(()=>{a.current&&(a.current.close(1e3,"Manual reconnect"),a.current=null),c.current&&(clearTimeout(c.current),c.current=null),m.current="disconnected",u.current=0,h()},[h]);return p.useEffect(()=>(x.current=!0,h(),()=>{x.current=!1,c.current&&(clearTimeout(c.current),c.current=null),a.current&&(a.current.close(1e3,"Component unmounting"),a.current=null),m.current="disconnected"}),[]),{connected:d,reconnect:f}}const xn=Jr(e=>({progressCache:new Map,setProgress:(t,n)=>e(r=>{const s=new Map(r.progressCache);return s.set(t,n),{progressCache:s}}),clearProgress:t=>e(n=>{const r=new Map(n.progressCache);return r.delete(t),{progressCache:r}}),activityEvents:[],setActivityEvents:t=>e({activityEvents:t}),addActivityEvent:t=>e(n=>({activityEvents:[t,...n.activityEvents].slice(0,50)})),clearActivityEvents:()=>e({activityEvents:[]}),peekState:{agentId:null,output:null,isLoading:!1,error:null},setPeekAgentId:t=>e(n=>({peekState:{...n.peekState,agentId:t,output:null,error:null}})),setPeekOutput:t=>e(n=>({peekState:{...n.peekState,output:t,error:null}})),setPeekLoading:t=>e(n=>({peekState:{...n.peekState,isLoading:t}})),setPeekError:t=>e(n=>({peekState:{...n.peekState,error:t,isLoading:!1}})),clearPeek:()=>e({peekState:{agentId:null,output:null,isLoading:!1,error:null}})})),Cy=50;function Ey(e,t=Cy,n=2e3){const[r,s]=p.useState(!1),[o,i]=p.useState(null),a=p.useRef(null),c=xn(v=>v.peekState),u=xn(v=>v.setPeekAgentId),m=xn(v=>v.setPeekOutput),x=xn(v=>v.setPeekLoading),d=xn(v=>v.setPeekError),w=p.useCallback(async()=>{const v=c.agentId;if(!(!e||!v)){s(!0),x(!0),i(null);try{const N=await fetch(`/api/rigs/${e}/agents/${v}/peek?lines=${t}`);if(!N.ok)throw new Error(`Failed to fetch peek output: ${N.statusText}`);const h=await N.json();m(h)}catch(N){const h=N instanceof Error?N.message:"Failed to fetch peek output";i(h),d(h)}finally{s(!1),x(!1)}}},[e,c.agentId,t,m,x,d]);p.useEffect(()=>{if(!c.agentId){a.current&&(clearInterval(a.current),a.current=null);return}return w(),n>0&&(a.current=setInterval(w,n)),()=>{a.current&&(clearInterval(a.current),a.current=null)}},[c.agentId,w,n]);const b=p.useCallback(v=>{u(v)},[u]);return{output:c.output,loading:r||c.isLoading,error:o||c.error,agentId:c.agentId,selectAgent:b,refetch:w}}const Ty=[50,100,200],_y=5e3;function Py({isOpen:e,onClose:t,rigId:n,agentId:r,agentName:s}){var h;const[o,i]=p.useState(50),[a,c]=p.useState(!0),u=p.useRef(null),m=a?_y:0,{output:x,loading:d,error:w,selectAgent:b,refetch:v}=Ey(n,o,m);p.useEffect(()=>{e&&r?b(r):e||b(null)},[e,r,b]),p.useEffect(()=>{u.current&&(x!=null&&x.lines)&&(u.current.scrollTop=u.current.scrollHeight)},[x==null?void 0:x.lines]);const N=s?`Terminal: ${s}`:"Agent Terminal";return l.jsx(Lf,{isOpen:e,onClose:t,title:N,className:"w-[600px] max-w-[90vw]",children:l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-border bg-bg-tertiary",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs text-text-secondary",children:"Lines:"}),l.jsx("div",{className:"flex rounded-md border border-border overflow-hidden",children:Ty.map(f=>l.jsx("button",{onClick:()=>i(f),className:C("px-2 py-1 text-xs transition-colors",o===f?"bg-accent-chrome text-bg-primary":"bg-bg-secondary text-text-secondary hover:bg-bg-tertiary"),children:f},f))})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:a,onChange:f=>c(f.target.checked),className:"w-4 h-4 rounded border-border bg-bg-secondary accent-accent-chrome"}),l.jsx("span",{className:"text-xs text-text-secondary",children:"Auto-refresh (5s)"})]}),l.jsx("button",{onClick:v,disabled:d,className:C("p-1.5 rounded-md transition-colors","text-text-secondary hover:text-text-primary hover:bg-bg-secondary","disabled:opacity-50 disabled:cursor-not-allowed",d&&"animate-spin"),"aria-label":"Refresh output",children:l.jsx(rn,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{ref:u,className:C("flex-1 overflow-auto","bg-[#1a1a1a] text-[#d4d4d4]","font-mono text-sm","p-4"),children:[d&&!x&&l.jsxs("div",{className:"flex items-center justify-center h-32 text-text-muted",children:[l.jsx(rn,{className:"w-5 h-5 animate-spin mr-2"}),"Loading terminal output..."]}),w&&l.jsxs("div",{className:"text-status-blocked p-4 rounded bg-status-blocked/10",children:[l.jsx("span",{className:"font-semibold",children:"Error:"})," ",w]}),!d&&!w&&!((h=x==null?void 0:x.lines)!=null&&h.length)&&l.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-text-muted",children:[l.jsx(Yh,{className:"w-8 h-8 mb-2 opacity-50"}),l.jsx("span",{children:"No terminal output available"})]}),(x==null?void 0:x.lines)&&x.lines.length>0&&l.jsx("pre",{className:"whitespace-pre-wrap break-words leading-relaxed",children:x.lines.map((f,g)=>l.jsx("div",{className:C("hover:bg-white/5 px-1 -mx-1 rounded",/error|fail|fatal/i.test(f)&&"text-status-blocked",/warn|warning/i.test(f)&&"text-status-deferred",/success|complete|done|pass/i.test(f)&&"text-status-closed"),children:f||""},g))})]}),x&&l.jsxs("div",{className:"px-4 py-2 border-t border-border bg-bg-tertiary text-xs text-text-muted flex justify-between",children:[l.jsxs("span",{children:[x.lines.length," lines"]}),l.jsxs("span",{children:["Last updated: ",new Date(x.timestamp).toLocaleTimeString()]})]})]})})}const Ry=2*60*1e3,Ly=10*60*1e3;function Dy(e){return e>=Ly?"stuck":e>=Ry?"concerning":"normal"}function My(e){const t=Math.floor(e/6e4);if(t<1)return"<1m";if(t<60)return`${t}m`;const n=Math.floor(t/60),r=t%60;return r===0?`${n}h`:`${n}h ${r}m`}const Iy={normal:{bg:"bg-status-closed/20",text:"text-status-closed",dot:"bg-status-closed"},concerning:{bg:"bg-amber-500/20",text:"text-amber-500",dot:"bg-amber-500"},stuck:{bg:"bg-status-blocked/20",text:"text-status-blocked",dot:"bg-status-blocked"}};function Ay({durationMs:e=0,status:t,showDuration:n=!1,className:r}){const s=t??Dy(e),o=Iy[s];return n?l.jsxs("span",{className:C("inline-flex items-center gap-1.5 px-2 py-0.5 rounded-sm text-xs font-medium",o.bg,o.text,r),children:[l.jsx("span",{className:C("w-1.5 h-1.5 rounded-full",o.dot)}),My(e)]}):l.jsx("span",{className:C("inline-block w-2 h-2 rounded-full flex-shrink-0",o.dot,r),title:`Health: ${s}`,"aria-label":`Health status: ${s}`})}function Oy({progress:e,compact:t=!1,className:n}){if(!e)return null;const r=e.total_steps>0?Math.round(e.current_step/e.total_steps*100):0,s=`Step ${e.current_step}/${e.total_steps}`,o=e.step_name?`${s} - ${e.step_name}`:s;return t?l.jsx("span",{className:C("text-xs text-text-secondary font-mono",n),title:o,children:s}):l.jsxs("div",{className:C("space-y-1",n),children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-text-secondary truncate",title:o,children:o}),l.jsxs("span",{className:"text-text-muted font-mono ml-2",children:[r,"%"]})]}),l.jsx("div",{className:"h-1.5 bg-bg-tertiary rounded-full overflow-hidden",children:l.jsx("div",{className:C("h-full rounded-full transition-all duration-300",r===100?"bg-status-closed":"bg-status-in-progress"),style:{width:`${r}%`}})})]})}function zy({issue:e,onClick:t}){const n=Zr(e.status);return l.jsxs("div",{className:C("flex items-center gap-2 py-1.5 px-2 -mx-2 rounded-md transition-colors",t&&"cursor-pointer hover:bg-bg-tertiary"),onClick:t,role:t?"button":void 0,tabIndex:t?0:void 0,onKeyDown:t?r=>r.key==="Enter"&&t():void 0,children:[l.jsx("span",{className:C("inline-flex items-center justify-center","w-5 h-5 rounded-full border","text-xs flex-shrink-0",n),title:e.status,children:Fe(e.status)}),l.jsx("span",{className:"mono text-text-muted text-sm flex-shrink-0",children:e.id}),l.jsx("span",{className:"text-sm text-text-secondary truncate min-w-0",children:e.title})]})}function Fy({blockers:e,compact:t=!1,onBlockerClick:n,className:r}){if(e.length===0)return null;if(t){const s=e.map(o=>o.id);return l.jsxs("div",{className:C("flex items-center gap-1 text-sm",r),children:[l.jsx("span",{className:"text-text-muted",children:"Blocked by:"}),l.jsx("span",{className:"flex items-center gap-1 flex-wrap",children:s.map((o,i)=>l.jsxs("span",{className:"inline-flex items-center",children:[l.jsx("button",{onClick:()=>n==null?void 0:n(o),className:C("mono text-status-blocked hover:underline",n&&"cursor-pointer"),disabled:!n,children:o}),i<s.length-1&&l.jsx("span",{className:"text-text-muted",children:","})]},o))})]})}return l.jsxs("div",{className:C("space-y-1",r),children:[l.jsxs("div",{className:"text-xs font-medium text-text-muted uppercase tracking-wide mb-2",children:["Blocked by (",e.length,")"]}),l.jsx("div",{className:"space-y-0.5",children:e.map(s=>l.jsx(zy,{issue:s,onClick:n?()=>n(s.id):void 0},s.id))})]})}function Uc({issue:e,agent:t,durationMs:n,healthStatus:r,progress:s,blockers:o,isUpdated:i=!1,onClick:a,onBlockerClick:c}){const u=e.assignee?e.assignee.split("/").pop()||e.assignee:null,m=a&&(t==null?void 0:t.state)==="working",x=n!==void 0||r!==void 0;return l.jsxs("div",{className:C("flex items-center gap-3 py-3 px-4 transition-colors",i&&"animate-flash-update",m?"hover:bg-bg-tertiary/50 cursor-pointer":"hover:bg-bg-tertiary/30"),onClick:m?a:void 0,role:m?"button":void 0,tabIndex:m?0:void 0,onKeyDown:m?d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),a==null||a())}:void 0,children:[x&&l.jsx("div",{className:"flex-shrink-0",children:l.jsx(Ay,{durationMs:n,status:r,showDuration:!0})}),l.jsx("span",{className:"mono text-xs text-text-muted w-24 flex-shrink-0 truncate",children:e.id}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("span",{className:"truncate block text-text-primary",children:e.title}),s&&l.jsx("div",{className:"mt-1",children:l.jsx(Oy,{progress:s,compact:!0})})]}),e.status==="blocked"&&o&&o.length>0&&l.jsx("div",{className:"flex-shrink-0",children:l.jsx(Fy,{blockers:o,compact:!0,onBlockerClick:c})}),u?l.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[l.jsx("span",{className:"text-sm",title:t==null?void 0:t.role_type,children:t?Vr(t.role_type):""}),l.jsx("span",{className:C("text-sm font-medium",(t==null?void 0:t.state)==="working"?"text-status-in-progress":(t==null?void 0:t.state)==="stuck"?"text-status-blocked":"text-text-secondary"),children:u}),m&&l.jsx("span",{className:"text-text-muted text-xs",children:""})]}):l.jsx("span",{className:"text-xs text-text-muted italic flex-shrink-0",children:"Unassigned"}),l.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-bg-tertiary text-text-secondary flex-shrink-0",children:e.issue_type})]})}const $y=100;function Vy(e){switch(e){case"status_changed":return"";case"assigned":return"";case"blocked":return"";case"completed":return"";default:return""}}function Uy(e){switch(e){case"status_changed":return"text-status-in-progress";case"assigned":return"text-accent-primary";case"blocked":return"text-status-blocked";case"completed":return"text-status-closed";default:return"text-text-muted"}}function zf({events:e,onEventClick:t,className:n}){const r=[...e].sort((s,o)=>new Date(o.timestamp).getTime()-new Date(s.timestamp).getTime()).slice(0,$y);return r.length===0?l.jsx("div",{className:C("flex items-center justify-center py-12 text-text-muted",n),children:"No recent activity"}):l.jsx("div",{className:C("overflow-y-auto",n),children:l.jsx("div",{className:"space-y-1",children:r.map(s=>l.jsx(Wy,{event:s,onClick:t},s.id))})})}function Wy({event:e,onClick:t}){const n=Vy(e.event_type),r=Uy(e.event_type),s=!!t;return l.jsxs("div",{className:C("px-3 py-2 rounded-md","bg-bg-secondary border border-border","transition-colors duration-100","hover:bg-bg-tertiary",s&&"cursor-pointer"),onClick:()=>t==null?void 0:t(e),role:s?"button":void 0,tabIndex:s?0:void 0,onKeyDown:o=>{s&&(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),t==null||t(e))},children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:C("text-sm font-medium",r),"aria-hidden":"true",children:n}),l.jsx("span",{className:"text-sm text-text-primary truncate flex-1",title:e.title,children:e.title}),l.jsx("span",{className:"text-xs text-text-muted mono flex-shrink-0",title:e.timestamp,children:Gn(e.timestamp)})]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-secondary pl-5",children:[l.jsx("span",{className:"truncate",children:e.actor}),e.old_value!==null||e.new_value!==null?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-text-muted",children:""}),l.jsxs("span",{className:"flex items-center gap-1 min-w-0",children:[e.old_value!==null&&l.jsx("span",{className:"text-text-muted line-through truncate max-w-[80px]",title:e.old_value,children:e.old_value}),e.old_value!==null&&e.new_value!==null&&l.jsx("span",{className:"text-text-muted",children:""}),e.new_value!==null&&l.jsx("span",{className:"truncate max-w-[80px]",title:e.new_value,children:e.new_value})]})]}):null]})]})}const Hy=[{role:"mayor",label:"Mayor"},{role:"deacon",label:"Deacon"},{role:"refinery",label:"Refinery"}];function By({role:e,label:t}){return l.jsx("div",{className:"card p-3 border-dashed border-border/50 bg-bg-secondary/50",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l.jsx("span",{className:"text-base flex-shrink-0 opacity-40",title:e,children:Vr(e)}),l.jsx("span",{className:"font-medium text-sm text-text-muted",children:t})]}),l.jsxs("div",{className:"badge text-xs bg-bg-tertiary text-text-muted",children:[l.jsx("span",{children:""}),l.jsx("span",{children:"Not Running"})]})]})})}function Ky({agents:e,onAgentClick:t,className:n}){const r=new Map;return e.forEach(s=>{(s.role_type==="mayor"||s.role_type==="deacon"||s.role_type==="refinery")&&r.set(s.role_type,s)}),l.jsx("div",{className:C("space-y-3",n),children:Hy.map(({role:s,label:o})=>{const i=r.get(s);return i?l.jsx(Ds,{agent:i,variant:"compact",onClick:t?()=>t(i):void 0},s):l.jsx(By,{role:s,label:o},s)})})}function Qy({convoyId:e,title:t,progress:n,itemCount:r,defaultExpanded:s,onToggle:o,children:i}){const a=s??r<5,[c,u]=p.useState(a),[m,x]=p.useState(void 0),d=p.useRef(null);p.useEffect(()=>{d.current&&x(d.current.scrollHeight)},[i]);const w=()=>{const h=!c;u(h),o==null||o(h)},b=h=>{(h.key==="Enter"||h.key===" ")&&(h.preventDefault(),w())},N=n.completed===n.total?"bg-status-closed/20 text-status-closed border-status-closed/30":"bg-bg-tertiary text-text-secondary border-border";return l.jsxs("div",{className:"rounded-lg border border-border bg-bg-secondary overflow-hidden",children:[l.jsxs("div",{className:C("flex items-center gap-3 px-4 py-3","cursor-pointer select-none","hover:bg-bg-tertiary/50 transition-colors"),onClick:w,onKeyDown:b,role:"button",tabIndex:0,"aria-expanded":c,"aria-controls":`convoy-content-${e}`,children:[l.jsx("button",{className:C("w-5 h-5 flex items-center justify-center flex-shrink-0","text-text-muted hover:text-text-primary","transition-transform duration-200"),"aria-label":c?"Collapse":"Expand",tabIndex:-1,children:l.jsx("svg",{className:C("w-4 h-4 transition-transform duration-200",c&&"rotate-90"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})}),l.jsx("span",{className:"text-base flex-shrink-0","aria-hidden":"true",children:""}),l.jsx("span",{className:"mono text-xs text-text-muted flex-shrink-0",children:e}),l.jsx("span",{className:"flex-1 truncate text-text-primary font-medium",children:t}),l.jsxs("span",{className:C("inline-flex items-center px-2 py-0.5 rounded-sm text-xs font-medium border flex-shrink-0",N),title:`${n.completed} of ${n.total} completed (${n.percentage}%)`,children:[n.completed,"/",n.total]})]}),l.jsx("div",{id:`convoy-content-${e}`,ref:d,className:C("overflow-hidden transition-[max-height,opacity] duration-300 ease-out",c?"opacity-100":"opacity-0"),style:{maxHeight:c?m:0},"aria-hidden":!c,children:l.jsx("div",{className:"border-t border-border",children:i})})]})}const Gy=15*60*1e3;function Yy(e){if(!e.hook_bead)return!1;if(e.state==="stuck")return!0;const t=new Date(e.updated_at).getTime();return Date.now()-t>Gy}function Xy({rig:e,refreshKey:t=0,updatedIssueIds:n=new Set}){const[r,s]=p.useState([]),[o,i]=p.useState([]),[a,c]=p.useState(!0),[u,m]=p.useState(!0),[x,d]=p.useState(null),[w,b]=p.useState(null),[v,N]=p.useState(null),[h,f]=p.useState(0),[g,y]=p.useState(!1),[j,k]=p.useState(null),{progressCache:S,setProgress:E,activityEvents:A,setActivityEvents:D,addActivityEvent:H}=xn(),R=p.useCallback(P=>{if(!(P.rig&&P.rig!==e.id))switch(P.type){case"issue_changed":case"issue_update":break;case"convoy_progress_changed":if(P.payload){const O=P.payload;i(U=>U.map(X=>{var ye;return((ye=X.convoy)==null?void 0:ye.id)===O.convoy_id?{...X,convoy:{...X.convoy,progress:{completed:O.closed,total:O.total,percentage:O.total>0?Math.round(O.closed/O.total*100):0}}}:X}))}break;default:if(P.payload){const O=P.payload.type;if(O==="activity_event"){const U=P.payload;H(U)}else if(O==="molecule_progress"){const U=P.payload;E(U.issue_id,U)}}break}},[e.id,H,E]);Of({onMessage:R}),p.useEffect(()=>{c(!0),b(null),(async()=>{const O=`/api/rigs/${e.id}/agents`,U=await Ee(O,{cacheTTL:2*60*1e3,returnStaleOnError:!0});U.data?(s(U.data),d(new Date),U.fromCache&&U.error&&console.warn("[Agents] Using cached data:",U.error)):(console.error("Failed to fetch agents:",U.error),b(U.error||"Failed to load agents"),s([])),c(!1)})()},[e.id,t,h]),p.useEffect(()=>{m(!0),N(null),(async()=>{const O=`/api/rigs/${e.id}/issues?all=true&include=convoy`,U=await Ee(O,{cacheTTL:2*60*1e3,returnStaleOnError:!0});U.data?i(U.data):(N(U.error||"Failed to load issues"),i([])),m(!1)})()},[e.id,t,h]),p.useEffect(()=>{(async()=>{try{const O=await fetch(`/api/rigs/${e.id}/activity?limit=50`);if(O.ok){const U=await O.json();D(U)}}catch(O){console.error("Failed to fetch activity:",O)}})()},[e.id,D]);const Y=p.useCallback(()=>{f(P=>P+1)},[]),I=r.filter(P=>P.state==="working"||P.hook_bead),F=r.filter(P=>Yy(P)),$=r.filter(P=>!P.hook_bead&&P.state!=="working"),G=p.useMemo(()=>o.filter(P=>P.status==="in_progress").sort((P,O)=>new Date(O.updated_at).getTime()-new Date(P.updated_at).getTime()),[o]),_=p.useMemo(()=>{const P=new Map;G.forEach(U=>{var ye;const X=((ye=U.convoy)==null?void 0:ye.id)??null;P.has(X)||P.set(X,[]),P.get(X).push(U)});const O=Array.from(P.entries()).sort((U,X)=>{if(U[0]===null)return 1;if(X[0]===null)return-1;const ye=Math.max(...U[1].map(kt=>new Date(kt.updated_at).getTime()));return Math.max(...X[1].map(kt=>new Date(kt.updated_at).getTime()))-ye});return new Map(O)},[G]),M=p.useMemo(()=>{const P=Date.now()-864e5;return o.filter(O=>O.status!=="closed"?!1:(O.closed_at?new Date(O.closed_at).getTime():0)>P).sort((O,U)=>{const X=O.closed_at?new Date(O.closed_at).getTime():0;return(U.closed_at?new Date(U.closed_at).getTime():0)-X})},[o]),z=p.useMemo(()=>{const P=new Map;return r.forEach(O=>{P.set(O.name,O),P.set(O.id,O)}),P},[r]),B=p.useCallback(P=>{const O=new Date(P.updated_at).getTime();return Date.now()-O},[]),J=p.useCallback(P=>{P.hook_bead&&(k(P),y(!0))},[]),Oe=p.useCallback(()=>{y(!1),k(null)},[]),ge=p.useCallback(P=>{if(!P.assignee)return;const O=z.get(P.assignee);O&&O.state==="working"&&(k(O),y(!0))},[z]),Yt=p.useCallback(P=>{console.log("Activity clicked:",P.issue_id)},[]);return l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"font-display text-2xl font-bold tracking-wide",children:"MONITORING"}),l.jsx("p",{className:"text-text-muted text-sm mt-1",children:"Real-time agent status and work tracking"})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsxs("span",{className:"flex items-center gap-1.5",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-status-closed animate-pulse"}),l.jsx("span",{className:"text-text-muted",children:"Live"})]}),x&&l.jsxs("span",{className:"text-text-muted",children:[" Updated ",Gn(x.toISOString())]})]})]}),w&&!a&&l.jsx(sa,{title:"Failed to load agents",message:w,onRetry:Y}),!w&&F.length>0&&l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx("span",{className:"text-status-blocked text-lg",children:""}),l.jsxs("h2",{className:"section-header text-status-blocked",children:["STUCK AGENTS (",F.length,")"]})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:F.map(P=>l.jsx(Ds,{agent:{...P,state:"stuck"},onClick:P.hook_bead?()=>J(P):void 0},P.id))})]}),!w&&l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx("span",{className:"text-status-in-progress text-lg",children:""}),l.jsxs("h2",{className:"section-header",children:["IN-FLIGHT WORK (",G.length,")"]})]}),u?l.jsx("div",{className:"card",children:l.jsx(Dc,{count:3})}):v?l.jsx("div",{className:"card",children:l.jsx("div",{className:"py-8 text-center text-status-blocked text-sm",children:v})}):G.length===0?l.jsx("div",{className:"card",children:l.jsx("div",{className:"py-8 text-center text-text-muted",children:"No work currently in progress"})}):l.jsx("div",{className:"space-y-3",children:Array.from(_.entries()).map(([P,O])=>{if(P!==null){const U=O[0].convoy;return l.jsx(Qy,{convoyId:P,title:U.title,progress:U.progress,itemCount:O.length,children:l.jsx("div",{className:"divide-y divide-border",children:O.map(X=>{const ye=X.assignee?z.get(X.assignee):void 0,Xn=S.get(X.id);return l.jsx(Uc,{issue:X,agent:ye,durationMs:B(X),progress:Xn,isUpdated:n.has(X.id),onClick:(ye==null?void 0:ye.state)==="working"?()=>ge(X):void 0},X.id)})})},P)}else return l.jsxs("div",{className:"rounded-lg border border-border bg-bg-secondary",children:[l.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 border-b border-border",children:[l.jsx("span",{className:"text-text-muted text-sm",children:""}),l.jsx("span",{className:"text-text-muted text-sm font-medium",children:"Ungrouped Work"}),l.jsxs("span",{className:"text-text-muted text-xs",children:["(",O.length,")"]})]}),l.jsx("div",{className:"divide-y divide-border",children:O.map(U=>{const X=U.assignee?z.get(U.assignee):void 0,ye=S.get(U.id);return l.jsx(Uc,{issue:U,agent:X,durationMs:B(U),progress:ye,isUpdated:n.has(U.id),onClick:(X==null?void 0:X.state)==="working"?()=>ge(U):void 0},U.id)})})]},"ungrouped")})})]}),!w&&l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx("span",{className:"text-accent-primary text-lg",children:""}),l.jsxs("h2",{className:"section-header",children:["RECENT ACTIVITY (",A.length,")"]})]}),l.jsx("div",{className:"card max-h-[300px] overflow-hidden",children:l.jsx(zf,{events:A,onEventClick:Yt,className:"max-h-[280px] p-2"})})]}),!w&&l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx("span",{className:"text-status-closed text-lg",children:""}),l.jsxs("h2",{className:"section-header",children:["RECENTLY COMPLETED (",M.length,")"]}),l.jsx("span",{className:"text-xs text-text-muted",children:"(last 24h)"})]}),l.jsx("div",{className:"card",children:u?l.jsx(Dc,{count:3}):v?l.jsx("div",{className:"py-8 text-center text-status-blocked text-sm",children:v}):M.length===0?l.jsx("div",{className:"py-8 text-center text-text-muted",children:"No work completed in the last 24 hours"}):l.jsx("div",{className:"divide-y divide-border",children:M.map(P=>l.jsx(Zy,{issue:P,agent:P.assignee?z.get(P.assignee):void 0,isUpdated:n.has(P.id)},P.id))})})]}),!w&&l.jsxs("div",{className:"mb-8",children:[l.jsxs("h2",{className:"section-header mb-4",children:["WORKING AGENTS (",I.length,")"]}),a?l.jsx(ni,{count:4}):I.length===0?l.jsx("div",{className:"card",children:l.jsx("div",{className:"py-8 text-center text-text-muted",children:"No agents currently working"})}):l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:I.map(P=>l.jsx(Ds,{agent:P,onClick:P.hook_bead?()=>J(P):void 0},P.id))})]}),!w&&l.jsxs("div",{children:[l.jsxs("h2",{className:"section-header mb-4",children:["IDLE AGENTS (",$.length,")"]}),a?l.jsx(ni,{count:2}):$.length===0?l.jsx("div",{className:"card",children:l.jsx("div",{className:"py-8 text-center text-text-muted",children:"No idle agents"})}):l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:$.map(P=>l.jsx(Ds,{agent:P,onClick:P.hook_bead?()=>J(P):void 0},P.id))})]}),l.jsx(Py,{isOpen:g,onClose:Oe,rigId:e.id,agentId:(j==null?void 0:j.id)||"",agentName:j==null?void 0:j.name})]})}function Zy({issue:e,agent:t,isUpdated:n=!1}){const r=e.assignee?e.assignee.split("/").pop()||e.assignee:null;return l.jsxs("div",{className:C("flex items-center gap-3 py-3 px-4 hover:bg-bg-tertiary/50 transition-colors",n&&"animate-flash-update"),children:[l.jsx("span",{className:"text-status-closed text-lg flex-shrink-0",children:""}),l.jsx("span",{className:"mono text-xs text-text-muted w-24 flex-shrink-0 truncate",children:e.id}),l.jsx("div",{className:"flex-1 min-w-0",children:l.jsx("span",{className:"truncate block text-text-primary",children:e.title})}),r?l.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[l.jsx("span",{className:"text-sm",title:t==null?void 0:t.role_type,children:t?Vr(t.role_type):""}),l.jsx("span",{className:"text-sm text-text-secondary",children:r})]}):l.jsx("span",{className:"text-xs text-text-muted italic flex-shrink-0",children:"Unassigned"}),l.jsx("span",{className:"text-xs text-text-muted flex-shrink-0 w-16 text-right",children:e.closed_at?Gn(e.closed_at):""})]})}function tl(e){return e==="closed"?"completed":"active"}function Wc(e){return e==="completed"?"text-status-closed":"text-status-in-progress"}function Jy({convoys:e,selectedConvoyId:t,onSelect:n,sortBy:r="date",onSortChange:s,loading:o=!1,className:i}){const[a,c]=p.useState(!1),u=p.useMemo(()=>{const b=[...e];return r==="date"?b.sort((v,N)=>new Date(N.created_at).getTime()-new Date(v.created_at).getTime()):b.sort((v,N)=>v.title.localeCompare(N.title)),b},[e,r]),m=p.useMemo(()=>e.find(b=>b.id===t)??null,[e,t]),x=p.useCallback(b=>{const v=e.find(N=>N.id===b)??null;n(v),c(!1)},[e,n]),d=p.useCallback(()=>{n(null),c(!1)},[n]);return p.useEffect(()=>{if(!a)return;const b=v=>{v.target.closest("[data-convoy-selector]")||c(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[a]),l.jsxs("div",{className:C("relative",i),"data-convoy-selector":!0,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"Select Convoy"}),s&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs text-text-muted",children:"Sort by:"}),l.jsx("button",{type:"button",onClick:()=>s(r==="date"?"name":"date"),className:"text-xs text-accent-rust hover:text-accent-rust/80 transition-colors underline underline-offset-2",children:r==="date"?"Date":"Name"})]})]}),l.jsxs("button",{type:"button",onClick:()=>c(!a),disabled:o,className:C("bg-bg-tertiary border border-border rounded-md px-3 py-2 text-sm text-text-primary focus:outline-none focus:ring-2 focus:ring-accent-rust hover:border-border-accent transition-colors cursor-pointer","w-full flex items-center justify-between",o&&"opacity-50 cursor-not-allowed"),"aria-haspopup":"listbox","aria-expanded":a,children:[l.jsx("span",{className:"flex items-center gap-2 truncate",children:o?l.jsx("span",{className:"text-text-muted",children:"Loading convoys..."}):m?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:C("text-xs font-medium",Wc(tl(m.status))),children:tl(m.status)==="completed"?"":""}),l.jsx("span",{className:"truncate",children:m.title}),l.jsxs("span",{className:"text-text-muted text-xs",children:["(",ei(m.created_at),")"]})]}):l.jsx("span",{className:"text-text-muted",children:"Select a convoy..."})}),l.jsx("svg",{className:C("w-4 h-4 text-text-muted transition-transform",a&&"rotate-180"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a&&l.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-bg-secondary border border-border rounded-md shadow-lg max-h-60 overflow-auto",role:"listbox",children:[m&&l.jsx("button",{type:"button",onClick:d,className:"w-full px-3 py-2 text-left text-sm text-text-muted hover:bg-bg-tertiary border-b border-border",children:"Clear selection"}),u.length===0&&l.jsx("div",{className:"px-3 py-4 text-sm text-text-muted text-center",children:"No convoys available"}),u.map(b=>{const v=tl(b.status),N=b.id===t;return l.jsxs("button",{type:"button",onClick:()=>x(b.id),className:C("w-full px-3 py-2 text-left text-sm hover:bg-bg-tertiary transition-colors","flex items-center gap-2",N&&"bg-bg-tertiary border-l-2 border-l-accent-rust"),role:"option","aria-selected":N,children:[l.jsx("span",{className:C("text-xs font-medium flex-shrink-0",Wc(v)),children:v==="completed"?"":""}),l.jsx("span",{className:"truncate flex-1",children:b.title}),l.jsx("span",{className:"text-text-muted text-xs flex-shrink-0",children:ei(b.created_at)})]},b.id)})]})]})}function qy({metrics:e,className:t}){const{timeToComplete:n,reassignmentCount:r,mergeConflictCount:s,anomalyThresholds:o}=e,i=(o==null?void 0:o.timeToComplete)!==void 0&&n.avg>o.timeToComplete,a=(o==null?void 0:o.reassignmentCount)!==void 0&&r>o.reassignmentCount,c=(o==null?void 0:o.mergeConflictCount)!==void 0&&s>o.mergeConflictCount;return l.jsxs("div",{className:C("grid grid-cols-1 md:grid-cols-3 gap-4",t),children:[l.jsx(nl,{title:"Time to Complete",icon:"",isAnomaly:i,children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-baseline justify-between",children:[l.jsx("span",{className:"text-text-secondary text-sm",children:"Average"}),l.jsx("span",{className:C("mono text-lg font-semibold",i&&"text-status-blocked"),children:rl(n.avg)})]}),l.jsxs("div",{className:"flex items-baseline justify-between text-sm",children:[l.jsx("span",{className:"text-text-muted",children:"Min"}),l.jsx("span",{className:"mono text-text-secondary",children:rl(n.min)})]}),l.jsxs("div",{className:"flex items-baseline justify-between text-sm",children:[l.jsx("span",{className:"text-text-muted",children:"Max"}),l.jsx("span",{className:"mono text-text-secondary",children:rl(n.max)})]})]})}),l.jsxs(nl,{title:"Re-assignments",icon:"",isAnomaly:a,children:[l.jsx("div",{className:"flex items-center justify-center py-2",children:l.jsx("span",{className:C("mono text-4xl font-bold",a?"text-status-blocked":"text-text-primary"),children:r})}),l.jsx("div",{className:"text-center text-xs text-text-muted",children:r===1?"reassignment":"reassignments"})]}),l.jsxs(nl,{title:"Merge Conflicts",icon:"",isAnomaly:c,children:[l.jsx("div",{className:"flex items-center justify-center py-2",children:l.jsx("span",{className:C("mono text-4xl font-bold",c?"text-status-blocked":"text-text-primary"),children:s})}),l.jsx("div",{className:"text-center text-xs text-text-muted",children:s===1?"conflict":"conflicts"})]})]})}function nl({title:e,icon:t,isAnomaly:n,children:r}){return l.jsxs("div",{className:C("card p-4","transition-all duration-200",n&&"border-l-4 border-l-status-blocked"),children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx("span",{className:"text-lg",children:t}),l.jsx("span",{className:"text-sm font-medium text-text-secondary",children:e}),n&&l.jsx("span",{className:"ml-auto text-status-blocked text-sm",title:"Anomaly detected",children:""})]}),r]})}function rl(e){if(e<0)return"";if(e===0)return"0m";const t=Math.floor(e/1e3),n=Math.floor(t/60),r=Math.floor(n/60),s=Math.floor(r/24);if(s>0){const o=r%24;return o>0?`${s}d ${o}h`:`${s}d`}if(r>0){const o=n%60;return o>0?`${r}h ${o}m`:`${r}h`}return`${n}m`}function pr(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!0:e.some((n,r)=>n!==t[r]):e!==t}function ar({label:e,originalValue:t,finalValue:n,renderValue:r,mono:s=!1}){const o=pr(t,n),i=r||(a=>String(a??""));return l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wide",children:e}),l.jsx("div",{className:C("px-3 py-2 rounded-md","bg-bg-primary/50 border",o?"border-status-blocked/50 bg-status-blocked/5":"border-border/50",s&&"font-mono text-sm"),children:i(t)})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wide",children:e}),l.jsx("div",{className:C("px-3 py-2 rounded-md","bg-bg-primary/50 border",o?"border-status-closed/50 bg-status-closed/5":"border-border/50",s&&"font-mono text-sm"),children:i(n)})]})]})}function ev({status:e}){const t=Zr(e);return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:C("inline-flex items-center justify-center","w-6 h-6 rounded-full border","text-sm flex-shrink-0",t),children:Fe(e)}),l.jsx("span",{className:"capitalize",children:e.replace("_"," ")})]})}function tv({priority:e}){return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:C("text-xs px-1.5 py-0.5 rounded",Xr(e)),children:Yr(e)}),l.jsx("span",{className:"text-text-secondary text-sm",children:e===0?"Critical":e===1?"High":e===2?"Medium":e===3?"Low":"Minimal"})]})}function Hc({labels:e,comparisonLabels:t,isOriginal:n}){return!e||e.length===0?l.jsx("span",{className:"text-text-muted italic",children:"No labels"}):l.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(r=>{const s=t==null?void 0:t.includes(r),o=n&&!s,i=!n&&!s;return l.jsx("span",{className:C("text-xs px-2 py-1 rounded",o&&"bg-status-blocked/20 text-status-blocked line-through",i&&"bg-status-closed/20 text-status-closed",!o&&!i&&"bg-bg-tertiary text-text-secondary"),children:r},r)})})}function nv({original:e,final:t,className:n}){return l.jsxs("div",{className:C("flex flex-col gap-6",n),children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-3 h-3 rounded-full bg-status-blocked/30 border border-status-blocked/50"}),l.jsx("span",{className:"section-header",children:"Original Assignment"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-3 h-3 rounded-full bg-status-closed/30 border border-status-closed/50"}),l.jsx("span",{className:"section-header",children:"Final State"})]})]}),l.jsx(ar,{label:"Issue ID",originalValue:e.id,finalValue:t.id,mono:!0}),l.jsx(ar,{label:"Title",originalValue:e.title,finalValue:t.title,renderValue:r=>l.jsx("span",{className:"text-lg font-medium text-text-primary",children:String(r)||""})}),l.jsx(ar,{label:"Status",originalValue:e.status,finalValue:t.status,renderValue:r=>l.jsx(ev,{status:String(r)})}),l.jsx(ar,{label:"Priority",originalValue:e.priority,finalValue:t.priority,renderValue:r=>l.jsx(tv,{priority:Number(r)})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wide",children:"Description"}),l.jsx("div",{className:C("px-3 py-2 rounded-md min-h-[80px]","bg-bg-primary/50 border whitespace-pre-wrap",pr(e.description,t.description)?"border-status-blocked/50 bg-status-blocked/5":"border-border/50"),children:e.description||l.jsx("span",{className:"text-text-muted italic",children:"No description"})})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wide",children:"Description"}),l.jsx("div",{className:C("px-3 py-2 rounded-md min-h-[80px]","bg-bg-primary/50 border whitespace-pre-wrap",pr(e.description,t.description)?"border-status-closed/50 bg-status-closed/5":"border-border/50"),children:t.description||l.jsx("span",{className:"text-text-muted italic",children:"No description"})})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wide",children:"Labels"}),l.jsx("div",{className:C("px-3 py-2 rounded-md","bg-bg-primary/50 border",pr(e.labels,t.labels)?"border-status-blocked/50 bg-status-blocked/5":"border-border/50"),children:l.jsx(Hc,{labels:e.labels||[],comparisonLabels:t.labels||[],isOriginal:!0})})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wide",children:"Labels"}),l.jsx("div",{className:C("px-3 py-2 rounded-md","bg-bg-primary/50 border",pr(e.labels,t.labels)?"border-status-closed/50 bg-status-closed/5":"border-border/50"),children:l.jsx(Hc,{labels:t.labels||[],comparisonLabels:e.labels||[],isOriginal:!1})})]})]}),l.jsx(ar,{label:"Assignee",originalValue:e.assignee,finalValue:t.assignee,renderValue:r=>r||l.jsx("span",{className:"text-text-muted italic",children:"Unassigned"})}),t.close_reason&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"divider-accent"}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wide",children:"Close Reason"}),l.jsx("div",{className:"px-3 py-2 rounded-md bg-status-closed/10 border border-status-closed/30 text-text-primary",children:t.close_reason})]})]}),l.jsx("div",{className:"divider-accent"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wide",children:"Assigned At"}),l.jsx("div",{className:"px-3 py-2 rounded-md bg-bg-primary/50 border border-border/50 text-text-muted font-mono text-sm",children:e.created_at?new Date(e.created_at).toLocaleString():""})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wide",children:"Closed At"}),l.jsx("div",{className:"px-3 py-2 rounded-md bg-bg-primary/50 border border-border/50 text-text-muted font-mono text-sm",children:t.closed_at?new Date(t.closed_at).toLocaleString():""})]})]})]})}function rv({updatedIssueIds:e=new Set}){const{selectedRig:t}=Ur(),[n,r]=p.useState([]),[s,o]=p.useState(null),[i,a]=p.useState("date"),[c,u]=p.useState(!0),[m,x]=p.useState(null),[d,w]=p.useState({startDate:null,endDate:null}),[b,v]=p.useState([]),[N,h]=p.useState(!1),[f,g]=p.useState(null),[y,j]=p.useState(null),[k,S]=p.useState(0);p.useEffect(()=>{if(!t){r([]),u(!1);return}u(!0),x(null),(async()=>{const Y=`/api/rigs/${t.id}/issues?all=true`,I=await Ee(Y,{cacheTTL:2*60*1e3,returnStaleOnError:!0});if(I.data){const F=I.data.filter($=>$.issue_type==="convoy");r(F)}else x(I.error||"Failed to load convoys"),r([]);u(!1)})()},[t==null?void 0:t.id,k]),p.useEffect(()=>{if(!t){v([]);return}h(!0),g(null),(async()=>{const Y=`/api/rigs/${t.id}/issues?all=true`,I=await Ee(Y,{cacheTTL:2*60*1e3,returnStaleOnError:!0});if(I.data){let F=I.data.filter($=>$.status==="closed");if(d.startDate){const $=new Date(d.startDate);F=F.filter(G=>{const _=G.closed_at?new Date(G.closed_at):null;return _&&_>=$})}if(d.endDate){const $=new Date(d.endDate);$.setHours(23,59,59,999),F=F.filter(G=>{const _=G.closed_at?new Date(G.closed_at):null;return _&&_<=$})}if(s){const $=I.data,G=Ny($,s.id),_=new Set(G.map(M=>M.id));F=F.filter(M=>_.has(M.id))}v(F)}else g(I.error||"Failed to load completed work"),v([]);h(!1)})()},[t==null?void 0:t.id,s==null?void 0:s.id,d,k]);const E=p.useCallback(()=>{S(R=>R+1)},[]),A=p.useCallback(R=>{o(R),j(null)},[]),D=p.useCallback(R=>{j(Y=>Y===R?null:R)},[]),H=p.useMemo(()=>{if(b.length===0)return{timeToComplete:{avg:0,min:0,max:0},reassignmentCount:0,mergeConflictCount:0};const R=b.filter($=>$.closed_at&&$.created_at).map($=>{const G=new Date($.created_at).getTime();return new Date($.closed_at).getTime()-G}).filter($=>$>0),Y=R.length>0?R.reduce(($,G)=>$+G,0)/R.length:0,I=R.length>0?Math.min(...R):0,F=R.length>0?Math.max(...R):0;return{timeToComplete:{avg:Y,min:I,max:F},reassignmentCount:0,mergeConflictCount:0,anomalyThresholds:{timeToComplete:7*24*60*60*1e3,reassignmentCount:3,mergeConflictCount:2}}},[b]);return t?l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h1",{className:"font-display text-2xl font-bold tracking-wide",children:"AUDIT"}),l.jsx("p",{className:"text-text-muted text-sm mt-2",children:"Review completed work and historical data"})]}),m&&!c&&l.jsx(sa,{title:"Failed to load data",message:m,onRetry:E}),!m&&l.jsx("div",{className:"card mb-6",children:l.jsx(Jy,{convoys:n,selectedConvoyId:s==null?void 0:s.id,onSelect:A,sortBy:i,onSortChange:a,loading:c,className:"max-w-md"})}),!m&&l.jsxs("div",{className:"card mb-6",children:[l.jsxs("div",{className:"mb-3 flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium text-text-secondary",children:"Filter by Date Range"}),(d.startDate||d.endDate)&&l.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-accent-rust/20 text-accent-rust",children:"Active"})]}),l.jsx(Fx,{value:d,onChange:w})]}),!m&&l.jsxs("div",{className:"mb-6",children:[l.jsx("div",{className:"mb-3",children:l.jsx("span",{className:"section-header",children:"METRICS SUMMARY"})}),l.jsx(qy,{metrics:H})]}),!m&&l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"border-b border-border pb-2 mb-4",children:l.jsxs("h2",{className:"section-header",children:["COMPLETED WORK",l.jsxs("span",{className:"text-text-muted font-normal ml-2",children:["(",b.length," ",b.length===1?"item":"items",")"]})]})}),N?l.jsx(Qx,{count:3}):f?l.jsx("div",{className:"py-8 text-center text-status-blocked text-sm",children:f}):b.length===0?l.jsx("div",{className:"py-12 text-center text-text-muted",children:s&&(d.startDate||d.endDate)?"No completed work found for this convoy in the selected date range":s?"No completed work found for this convoy":d.startDate||d.endDate?"No completed work found in the selected date range":"No completed work found"}):l.jsx("div",{className:"flex flex-col gap-2",children:b.map(R=>l.jsx(sv,{issue:R,isExpanded:y===R.id,onToggleExpand:()=>D(R.id),isUpdated:e.has(R.id)},R.id))})]})]}):l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("p",{className:"text-text-muted",children:"Select a rig from the sidebar to view audit data"})})})}function sv({issue:e,isExpanded:t,onToggleExpand:n,isUpdated:r=!1}){const s=p.useMemo(()=>({...e,status:"open"}),[e]);return l.jsxs("div",{className:C("border border-border rounded-md overflow-hidden",r&&"animate-flash-update"),children:[l.jsxs("button",{type:"button",onClick:n,className:C("w-full px-4 py-3 flex items-center gap-4 text-left","hover:bg-bg-tertiary/50 transition-colors",t&&"bg-bg-tertiary/30"),children:[l.jsx("span",{className:"text-status-closed text-lg flex-shrink-0",children:Fe("closed")}),l.jsx("span",{className:"mono text-xs text-text-muted flex-shrink-0 w-20",children:e.id}),l.jsx("span",{className:"flex-1 truncate text-text-primary",children:e.title}),l.jsx("span",{className:"text-sm text-text-muted flex-shrink-0",children:e.closed_at?new Date(e.closed_at).toLocaleDateString():""}),l.jsx("svg",{className:C("w-4 h-4 text-text-muted transition-transform flex-shrink-0",t&&"rotate-180"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t&&l.jsx("div",{className:"border-t border-border p-4 bg-bg-tertiary/20",children:l.jsx(nv,{original:s,final:e})})]})}function ys({state:e}){if(!e)return l.jsx("span",{className:"health-dot health-dot-none",title:"No agent"});const t={idle:"health-dot-idle",working:"health-dot-working",stuck:"health-dot-stuck",paused:"health-dot-paused"}[e]||"health-dot-idle";return l.jsx("span",{className:C("health-dot",t),title:e,children:ti(e)})}function ov({refreshKey:e=0,mockRigs:t,mockAgents:n,mockLoading:r,mockError:s,onRigClick:o}){const[i,a]=p.useState(t||[]),[c,u]=p.useState(new Map),[m,x]=p.useState(r??!t),[d,w]=p.useState(s??null),{setSelectedRig:b}=Ur(),{setViewMode:v}=oa(),N=t!==void 0;p.useEffect(()=>{if(N)return;(async()=>{x(!0),w(null);const y=await Ee("/api/rigs",{cacheTTL:2*60*1e3,returnStaleOnError:!0});if(y.data){const j=y.data.filter((k,S,E)=>S===E.findIndex(A=>A.id===k.id));a(j),x(!1)}else y.error&&(w(y.error),x(!1))})()},[e,N]),p.useEffect(()=>{if(i.length===0)return;if(N&&n){const y=new Map;i.forEach(j=>{const k=n[j.id]||[],S=Bc(j,k);y.set(j.id,S)}),u(y);return}if(N)return;(async()=>{const y=new Map,j=i.map(async k=>{const E=(await Ee(`/api/rigs/${k.id}/agents`,{cacheTTL:12e4,returnStaleOnError:!0})).data||[],A=Bc(k,E);y.set(k.id,A)});await Promise.all(j),u(y)})()},[i,e,N,n]);const h=p.useCallback(g=>{if(o){o(g);return}b(g),v("planning")},[b,v,o]),f=g=>{const y=c.get(g);return y?y.stuckCount>0:!1};return m?l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"card",children:l.jsxs("div",{className:"animate-pulse space-y-4",children:[l.jsx("div",{className:"h-8 bg-bg-tertiary rounded w-1/4"}),l.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(g=>l.jsx("div",{className:"h-12 bg-bg-tertiary rounded"},g))})]})})}):d?l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"card-accent p-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-status-blocked mb-2",children:"Failed to load rigs"}),l.jsx("p",{className:"text-text-secondary",children:d})]})}):i.length===0?l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"card text-center py-12",children:l.jsx("p",{className:"text-text-muted",children:"No rigs discovered"})})}):l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"mb-4",children:l.jsx("h2",{className:"section-header",children:"RIG HEALTH OVERVIEW"})}),l.jsxs("div",{className:"card overflow-hidden",children:[l.jsx("div",{className:"hidden md:block overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-border text-left",children:[l.jsx("th",{className:"px-4 py-3 text-sm font-medium text-text-secondary",children:"Rig"}),l.jsx("th",{className:"px-4 py-3 text-sm font-medium text-text-secondary text-center",children:"Witness"}),l.jsx("th",{className:"px-4 py-3 text-sm font-medium text-text-secondary text-center",children:"Refinery"}),l.jsx("th",{className:"px-4 py-3 text-sm font-medium text-text-secondary text-center",children:"Workers"}),l.jsx("th",{className:"px-4 py-3 text-sm font-medium text-text-secondary text-center",children:"Open Issues"})]})}),l.jsx("tbody",{children:i.map(g=>{const y=c.get(g.id),j=f(g.id);return l.jsxs("tr",{onClick:()=>h(g),className:C("border-b border-border last:border-0 cursor-pointer transition-colors","hover:bg-bg-tertiary",j&&"bg-status-blocked/10 hover:bg-status-blocked/20"),children:[l.jsxs("td",{className:"px-4 py-3",children:[l.jsx("div",{className:"font-medium",children:g.name}),l.jsx("div",{className:"text-xs text-text-muted mono",children:g.prefix})]}),l.jsx("td",{className:"px-4 py-3 text-center",children:l.jsx(ys,{state:(y==null?void 0:y.witnessStatus)??null})}),l.jsx("td",{className:"px-4 py-3 text-center",children:l.jsx(ys,{state:(y==null?void 0:y.refineryStatus)??null})}),l.jsx("td",{className:"px-4 py-3 text-center",children:l.jsxs("span",{className:"text-sm",children:[(y==null?void 0:y.workerCount)??0,y&&y.stuckCount>0&&l.jsxs("span",{className:"ml-1 text-status-blocked",children:["(",y.stuckCount," stuck)"]})]})}),l.jsx("td",{className:"px-4 py-3 text-center",children:l.jsx("span",{className:C("text-sm",y&&y.openIssues>0?"text-status-open":"text-text-muted"),children:(y==null?void 0:y.openIssues)??g.open_count})})]},g.id)})})]})}),l.jsx("div",{className:"md:hidden space-y-3 p-2",children:i.map(g=>{const y=c.get(g.id),j=f(g.id);return l.jsxs("div",{onClick:()=>h(g),className:C("p-4 rounded-lg border border-border cursor-pointer transition-colors","hover:bg-bg-tertiary",j&&"bg-status-blocked/10 border-status-blocked/30"),children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:g.name}),l.jsx("div",{className:"text-xs text-text-muted mono",children:g.prefix})]}),l.jsxs("span",{className:C("text-sm px-2 py-0.5 rounded",y&&y.openIssues>0?"bg-status-open/20 text-status-open":"bg-bg-tertiary text-text-muted"),children:[(y==null?void 0:y.openIssues)??g.open_count," open"]})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-text-muted",children:"W:"}),l.jsx(ys,{state:(y==null?void 0:y.witnessStatus)??null})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-text-muted",children:"R:"}),l.jsx(ys,{state:(y==null?void 0:y.refineryStatus)??null})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-text-muted",children:"Workers:"}),l.jsx("span",{children:(y==null?void 0:y.workerCount)??0}),y&&y.stuckCount>0&&l.jsxs("span",{className:"text-status-blocked",children:["(",y.stuckCount," stuck)"]})]})]})]},g.id)})})]})]})}function sl(e){return e.state&&e.state!=="idle"?e.state:e.hook_bead?"working":"idle"}function Bc(e,t){const n=t.find(i=>i.role_type==="witness"),r=t.find(i=>i.role_type==="refinery"),s=t.filter(i=>i.role_type==="polecat"||i.role_type==="crew"),o=t.filter(i=>sl(i)==="stuck");return{rigId:e.id,witnessStatus:n?sl(n):null,refineryStatus:r?sl(r):null,workerCount:s.length,stuckCount:o.length,openIssues:e.open_count}}function lv(e){return e.map(t=>({id:t.id,issue_id:"",issue_type:"event",title:t.subject,event_type:"mail",old_value:null,new_value:t.body.slice(0,100)+(t.body.length>100?"...":""),actor:t.from,timestamp:t.timestamp}))}function iv({refreshKey:e=0}){const[t,n]=p.useState([]),[r,s]=p.useState(!0),[o,i]=p.useState(null),[a,c]=p.useState([]),[u,m]=p.useState(!0),[x,d]=p.useState(null),[w,b]=p.useState(0);p.useEffect(()=>{s(!0),i(null),(async()=>{try{const f=await Ee("/api/rigs",{cacheTTL:12e4,returnStaleOnError:!0});if(!f.data){i(f.error||"Failed to load rigs"),s(!1);return}const g=f.data.map(async S=>(await Ee(`/api/rigs/${S.id}/agents`,{cacheTTL:12e4,returnStaleOnError:!0})).data||[]),k=(await Promise.all(g)).flat().filter(S=>S.role_type==="mayor"||S.role_type==="deacon"||S.role_type==="refinery");n(k),s(!1)}catch(f){const g=f instanceof Error?f.message:"Failed to load infrastructure agents";i(g),s(!1)}})()},[e,w]),p.useEffect(()=>{m(!0),d(null),(async()=>{try{const f=await fetch("/api/mail?limit=50");if(!f.ok)throw new Error(`Failed to fetch mail: ${f.statusText}`);const g=await f.json();c(g),m(!1)}catch(f){const g=f instanceof Error?f.message:"Failed to load mail";d(g),m(!1)}})()},[e,w]);const v=p.useCallback(()=>{b(h=>h+1)},[]),N=lv(a);return l.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 p-6 h-full",children:[l.jsxs("div",{className:"flex-1 min-w-0 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"font-display text-2xl font-bold tracking-wide",children:"TOWN OPERATIONS CENTER"}),l.jsx("p",{className:"text-text-muted text-sm mt-1",children:"Overview of all rigs and infrastructure health"})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"section-header mb-4",children:"INFRASTRUCTURE HEALTH"}),r?l.jsx("div",{className:"card p-4",children:l.jsx(ni,{count:3})}):o?l.jsx("div",{className:"card-accent p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-status-blocked",children:"Failed to load infrastructure"}),l.jsx("p",{className:"text-sm text-text-secondary mt-1",children:o})]}),l.jsx("button",{onClick:v,className:"btn-secondary text-sm",children:"Retry"})]})}):l.jsx("div",{className:"card p-4",children:l.jsx(Ky,{agents:t})})]}),l.jsx("div",{children:l.jsx(ov,{refreshKey:e})})]}),l.jsx("div",{className:"lg:w-80 flex-shrink-0",children:l.jsxs("div",{className:"sticky top-6",children:[l.jsx("h2",{className:"section-header mb-4",children:"ACTIVITY STREAM"}),l.jsx("div",{className:"card overflow-hidden",children:u?l.jsx("div",{className:"p-4 space-y-3",children:[1,2,3,4,5].map(h=>l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-4 bg-bg-tertiary rounded w-3/4 mb-2"}),l.jsx("div",{className:"h-3 bg-bg-tertiary rounded w-1/2"})]},h))}):x?l.jsx("div",{className:"p-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm text-status-blocked mb-2",children:x}),l.jsx("button",{onClick:v,className:"text-sm text-accent-primary hover:underline",children:"Retry"})]})}):N.length===0?l.jsx("div",{className:"p-4 text-center text-text-muted",children:"No recent activity"}):l.jsx(zf,{events:N,className:"max-h-[calc(100vh-200px)] p-2"})})]})})]})}function av(e){return e?e.id==="hq"||e.name==="HQ (Town)"||e.name.toLowerCase()==="hq":!1}function cv({onRetry:e}){const{status:t,hasCachedData:n,lastOnline:r}=Re();if(t==="online")return null;const s=t==="reconnecting",o=r?uv(r):null;return l.jsxs("div",{className:C("px-4 py-2 flex items-center justify-between text-sm transition-colors",s?"bg-yellow-900/30 border-b border-yellow-700/50":"bg-red-900/30 border-b border-red-700/50"),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[s?l.jsx(rn,{className:"w-4 h-4 text-yellow-500 animate-spin"}):l.jsx(Xh,{className:"w-4 h-4 text-red-500"}),l.jsx("span",{className:C(s?"text-yellow-200":"text-red-200"),children:s?"Reconnecting...":"You are offline"}),n&&l.jsxs("span",{className:"flex items-center gap-1 text-text-muted",children:[l.jsx(Qh,{className:"w-3 h-3"}),l.jsx("span",{children:"Showing cached data"})]}),o&&!s&&l.jsxs("span",{className:"text-text-muted",children:["Last online: ",o]})]}),!s&&e&&l.jsxs("button",{onClick:e,className:"flex items-center gap-1 px-2 py-1 rounded bg-bg-tertiary hover:bg-bg-secondary text-text-secondary hover:text-text-primary transition-colors",children:[l.jsx(rn,{className:"w-3 h-3"}),l.jsx("span",{children:"Retry"})]})]})}function uv(e){const t=Math.floor((Date.now()-e)/1e3);if(t<60)return"just now";const n=Math.floor(t/60);if(n<60)return`${n}m ago`;const r=Math.floor(n/60);return r<24?`${r}h ago`:`${Math.floor(r/24)}d ago`}function $e(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Kc(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ca(...e){return t=>{let n=!1;const r=e.map(s=>{const o=Kc(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():Kc(e[s],null)}}}}function un(...e){return p.useCallback(ca(...e),e)}function Ff(e,t=[]){let n=[];function r(o,i){const a=p.createContext(i),c=n.length;n=[...n,i];const u=x=>{var h;const{scope:d,children:w,...b}=x,v=((h=d==null?void 0:d[e])==null?void 0:h[c])||a,N=p.useMemo(()=>b,Object.values(b));return l.jsx(v.Provider,{value:N,children:w})};u.displayName=o+"Provider";function m(x,d){var v;const w=((v=d==null?void 0:d[e])==null?void 0:v[c])||a,b=p.useContext(w);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${x}\` must be used within \`${o}\``)}return[u,m]}const s=()=>{const o=n.map(i=>p.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[r,dv(s,...t)]}function dv(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:c,scopeName:u})=>{const x=c(o)[`__scope${u}`];return{...a,...x}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Qc(e){const t=fv(e),n=p.forwardRef((r,s)=>{const{children:o,...i}=r,a=p.Children.toArray(o),c=a.find(mv);if(c){const u=c.props.children,m=a.map(x=>x===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:x);return l.jsx(t,{...i,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,m):null})}return l.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function fv(e){const t=p.forwardRef((n,r)=>{const{children:s,...o}=n;if(p.isValidElement(s)){const i=xv(s),a=hv(o,s.props);return s.type!==p.Fragment&&(a.ref=r?ca(r,i):i),p.cloneElement(s,a)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var pv=Symbol("radix.slottable");function mv(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===pv}function hv(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const c=o(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function xv(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function gv(e){const t=e+"CollectionProvider",[n,r]=Ff(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=v=>{const{scope:N,children:h}=v,f=at.useRef(null),g=at.useRef(new Map).current;return l.jsx(s,{scope:N,itemMap:g,collectionRef:f,children:h})};i.displayName=t;const a=e+"CollectionSlot",c=Qc(a),u=at.forwardRef((v,N)=>{const{scope:h,children:f}=v,g=o(a,h),y=un(N,g.collectionRef);return l.jsx(c,{ref:y,children:f})});u.displayName=a;const m=e+"CollectionItemSlot",x="data-radix-collection-item",d=Qc(m),w=at.forwardRef((v,N)=>{const{scope:h,children:f,...g}=v,y=at.useRef(null),j=un(N,y),k=o(m,h);return at.useEffect(()=>(k.itemMap.set(y,{ref:y,...g}),()=>void k.itemMap.delete(y))),l.jsx(d,{[x]:"",ref:j,children:f})});w.displayName=m;function b(v){const N=o(e+"CollectionConsumer",v);return at.useCallback(()=>{const f=N.collectionRef.current;if(!f)return[];const g=Array.from(f.querySelectorAll(`[${x}]`));return Array.from(N.itemMap.values()).sort((k,S)=>g.indexOf(k.ref.current)-g.indexOf(S.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:i,Slot:u,ItemSlot:w},b,r]}function yv(e){const t=vv(e),n=p.forwardRef((r,s)=>{const{children:o,...i}=r,a=p.Children.toArray(o),c=a.find(bv);if(c){const u=c.props.children,m=a.map(x=>x===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:x);return l.jsx(t,{...i,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,m):null})}return l.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function vv(e){const t=p.forwardRef((n,r)=>{const{children:s,...o}=n;if(p.isValidElement(s)){const i=Nv(s),a=jv(o,s.props);return s.type!==p.Fragment&&(a.ref=r?ca(r,i):i),p.cloneElement(s,a)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var wv=Symbol("radix.slottable");function bv(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===wv}function jv(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const c=o(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Nv(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var kv=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ft=kv.reduce((e,t)=>{const n=yv(`Primitive.${t}`),r=p.forwardRef((s,o)=>{const{asChild:i,...a}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function $f(e,t){e&&jo.flushSync(()=>e.dispatchEvent(t))}function dn(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Sv(e,t=globalThis==null?void 0:globalThis.document){const n=dn(e);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Cv="DismissableLayer",si="dismissableLayer.update",Ev="dismissableLayer.pointerDownOutside",Tv="dismissableLayer.focusOutside",Gc,Vf=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Uf=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...c}=e,u=p.useContext(Vf),[m,x]=p.useState(null),d=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=p.useState({}),b=un(t,S=>x(S)),v=Array.from(u.layers),[N]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),h=v.indexOf(N),f=m?v.indexOf(m):-1,g=u.layersWithOutsidePointerEventsDisabled.size>0,y=f>=h,j=Pv(S=>{const E=S.target,A=[...u.branches].some(D=>D.contains(E));!y||A||(s==null||s(S),i==null||i(S),S.defaultPrevented||a==null||a())},d),k=Rv(S=>{const E=S.target;[...u.branches].some(D=>D.contains(E))||(o==null||o(S),i==null||i(S),S.defaultPrevented||a==null||a())},d);return Sv(S=>{f===u.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},d),p.useEffect(()=>{if(m)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Gc=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(m)),u.layers.add(m),Yc(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=Gc)}},[m,d,n,u]),p.useEffect(()=>()=>{m&&(u.layers.delete(m),u.layersWithOutsidePointerEventsDisabled.delete(m),Yc())},[m,u]),p.useEffect(()=>{const S=()=>w({});return document.addEventListener(si,S),()=>document.removeEventListener(si,S)},[]),l.jsx(ft.div,{...c,ref:b,style:{pointerEvents:g?y?"auto":"none":void 0,...e.style},onFocusCapture:$e(e.onFocusCapture,k.onFocusCapture),onBlurCapture:$e(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:$e(e.onPointerDownCapture,j.onPointerDownCapture)})});Uf.displayName=Cv;var _v="DismissableLayerBranch",Wf=p.forwardRef((e,t)=>{const n=p.useContext(Vf),r=p.useRef(null),s=un(t,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),l.jsx(ft.div,{...e,ref:s})});Wf.displayName=_v;function Pv(e,t=globalThis==null?void 0:globalThis.document){const n=dn(e),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let c=function(){Hf(Ev,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Rv(e,t=globalThis==null?void 0:globalThis.document){const n=dn(e),r=p.useRef(!1);return p.useEffect(()=>{const s=o=>{o.target&&!r.current&&Hf(Tv,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Yc(){const e=new CustomEvent(si);document.dispatchEvent(e)}function Hf(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?$f(s,o):s.dispatchEvent(o)}var Lv=Uf,Dv=Wf,Wr=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},Mv="Portal",Bf=p.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,o]=p.useState(!1);Wr(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?Wh.createPortal(l.jsx(ft.div,{...r,ref:t}),i):null});Bf.displayName=Mv;function Iv(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var Kf=e=>{const{present:t,children:n}=e,r=Av(t),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),o=un(r.ref,Ov(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:o}):null};Kf.displayName="Presence";function Av(e){const[t,n]=p.useState(),r=p.useRef(null),s=p.useRef(e),o=p.useRef("none"),i=e?"mounted":"unmounted",[a,c]=Iv(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=vs(r.current);o.current=a==="mounted"?u:"none"},[a]),Wr(()=>{const u=r.current,m=s.current;if(m!==e){const d=o.current,w=vs(u);e?c("MOUNT"):w==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(m&&d!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Wr(()=>{if(t){let u;const m=t.ownerDocument.defaultView??window,x=w=>{const v=vs(r.current).includes(CSS.escape(w.animationName));if(w.target===t&&v&&(c("ANIMATION_END"),!s.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",u=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},d=w=>{w.target===t&&(o.current=vs(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{m.clearTimeout(u),t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function vs(e){return(e==null?void 0:e.animationName)||"none"}function Ov(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var zv=Lp[" useInsertionEffect ".trim().toString()]||Wr;function Fv({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,i]=$v({defaultProp:t,onChange:n}),a=e!==void 0,c=a?e:s;{const m=p.useRef(e!==void 0);p.useEffect(()=>{const x=m.current;x!==a&&console.warn(`${r} is changing from ${x?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=a},[a,r])}const u=p.useCallback(m=>{var x;if(a){const d=Vv(m)?m(e):m;d!==e&&((x=i.current)==null||x.call(i,d))}else o(m)},[a,e,o,i]);return[c,u]}function $v({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),s=p.useRef(n),o=p.useRef(t);return zv(()=>{o.current=t},[t]),p.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function Vv(e){return typeof e=="function"}var Uv=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Wv="VisuallyHidden",ua=p.forwardRef((e,t)=>l.jsx(ft.span,{...e,ref:t,style:{...Uv,...e.style}}));ua.displayName=Wv;var da="ToastProvider",[fa,Hv,Bv]=gv("Toast"),[Qf]=Ff("Toast",[Bv]),[Kv,So]=Qf(da),Gf=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[a,c]=p.useState(null),[u,m]=p.useState(0),x=p.useRef(!1),d=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${da}\`. Expected non-empty \`string\`.`),l.jsx(fa.Provider,{scope:t,children:l.jsx(Kv,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:p.useCallback(()=>m(w=>w+1),[]),onToastRemove:p.useCallback(()=>m(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:x,isClosePausedRef:d,children:i})})};Gf.displayName=da;var Yf="ToastViewport",Qv=["F8"],oi="toast.viewportPause",li="toast.viewportResume",Xf=p.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=Qv,label:s="Notifications ({hotkey})",...o}=e,i=So(Yf,n),a=Hv(n),c=p.useRef(null),u=p.useRef(null),m=p.useRef(null),x=p.useRef(null),d=un(t,x,i.onViewportChange),w=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=i.toastCount>0;p.useEffect(()=>{const N=h=>{var g;r.length!==0&&r.every(y=>h[y]||h.code===y)&&((g=x.current)==null||g.focus())};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[r]),p.useEffect(()=>{const N=c.current,h=x.current;if(b&&N&&h){const f=()=>{if(!i.isClosePausedRef.current){const k=new CustomEvent(oi);h.dispatchEvent(k),i.isClosePausedRef.current=!0}},g=()=>{if(i.isClosePausedRef.current){const k=new CustomEvent(li);h.dispatchEvent(k),i.isClosePausedRef.current=!1}},y=k=>{!N.contains(k.relatedTarget)&&g()},j=()=>{N.contains(document.activeElement)||g()};return N.addEventListener("focusin",f),N.addEventListener("focusout",y),N.addEventListener("pointermove",f),N.addEventListener("pointerleave",j),window.addEventListener("blur",f),window.addEventListener("focus",g),()=>{N.removeEventListener("focusin",f),N.removeEventListener("focusout",y),N.removeEventListener("pointermove",f),N.removeEventListener("pointerleave",j),window.removeEventListener("blur",f),window.removeEventListener("focus",g)}}},[b,i.isClosePausedRef]);const v=p.useCallback(({tabbingDirection:N})=>{const f=a().map(g=>{const y=g.ref.current,j=[y,...i0(y)];return N==="forwards"?j:j.reverse()});return(N==="forwards"?f.reverse():f).flat()},[a]);return p.useEffect(()=>{const N=x.current;if(N){const h=f=>{var j,k,S;const g=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!g){const E=document.activeElement,A=f.shiftKey;if(f.target===N&&A){(j=u.current)==null||j.focus();return}const R=v({tabbingDirection:A?"backwards":"forwards"}),Y=R.findIndex(I=>I===E);ol(R.slice(Y+1))?f.preventDefault():A?(k=u.current)==null||k.focus():(S=m.current)==null||S.focus()}};return N.addEventListener("keydown",h),()=>N.removeEventListener("keydown",h)}},[a,v]),l.jsxs(Dv,{ref:c,role:"region","aria-label":s.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&l.jsx(ii,{ref:u,onFocusFromOutsideViewport:()=>{const N=v({tabbingDirection:"forwards"});ol(N)}}),l.jsx(fa.Slot,{scope:n,children:l.jsx(ft.ol,{tabIndex:-1,...o,ref:d})}),b&&l.jsx(ii,{ref:m,onFocusFromOutsideViewport:()=>{const N=v({tabbingDirection:"backwards"});ol(N)}})]})});Xf.displayName=Yf;var Zf="ToastFocusProxy",ii=p.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=So(Zf,n);return l.jsx(ua,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const a=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(a))&&r()}})});ii.displayName=Zf;var qr="Toast",Gv="toast.swipeStart",Yv="toast.swipeMove",Xv="toast.swipeCancel",Zv="toast.swipeEnd",Jf=p.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=e,[a,c]=Fv({prop:r,defaultProp:s??!0,onChange:o,caller:qr});return l.jsx(Kf,{present:n||a,children:l.jsx(e0,{open:a,...i,ref:t,onClose:()=>c(!1),onPause:dn(e.onPause),onResume:dn(e.onResume),onSwipeStart:$e(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:$e(e.onSwipeMove,u=>{const{x:m,y:x}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${x}px`)}),onSwipeCancel:$e(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:$e(e.onSwipeEnd,u=>{const{x:m,y:x}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${x}px`),c(!1)})})})});Jf.displayName=qr;var[Jv,qv]=Qf(qr,{onClose(){}}),e0=p.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:m,onSwipeMove:x,onSwipeCancel:d,onSwipeEnd:w,...b}=e,v=So(qr,n),[N,h]=p.useState(null),f=un(t,I=>h(I)),g=p.useRef(null),y=p.useRef(null),j=s||v.duration,k=p.useRef(0),S=p.useRef(j),E=p.useRef(0),{onToastAdd:A,onToastRemove:D}=v,H=dn(()=>{var F;(N==null?void 0:N.contains(document.activeElement))&&((F=v.viewport)==null||F.focus()),i()}),R=p.useCallback(I=>{!I||I===1/0||(window.clearTimeout(E.current),k.current=new Date().getTime(),E.current=window.setTimeout(H,I))},[H]);p.useEffect(()=>{const I=v.viewport;if(I){const F=()=>{R(S.current),u==null||u()},$=()=>{const G=new Date().getTime()-k.current;S.current=S.current-G,window.clearTimeout(E.current),c==null||c()};return I.addEventListener(oi,$),I.addEventListener(li,F),()=>{I.removeEventListener(oi,$),I.removeEventListener(li,F)}}},[v.viewport,j,c,u,R]),p.useEffect(()=>{o&&!v.isClosePausedRef.current&&R(j)},[o,j,v.isClosePausedRef,R]),p.useEffect(()=>(A(),()=>D()),[A,D]);const Y=p.useMemo(()=>N?sp(N):null,[N]);return v.viewport?l.jsxs(l.Fragment,{children:[Y&&l.jsx(t0,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:Y}),l.jsx(Jv,{scope:n,onClose:H,children:jo.createPortal(l.jsx(fa.ItemSlot,{scope:n,children:l.jsx(Lv,{asChild:!0,onEscapeKeyDown:$e(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||H(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(ft.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,...b,ref:f,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:$e(e.onKeyDown,I=>{I.key==="Escape"&&(a==null||a(I.nativeEvent),I.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,H()))}),onPointerDown:$e(e.onPointerDown,I=>{I.button===0&&(g.current={x:I.clientX,y:I.clientY})}),onPointerMove:$e(e.onPointerMove,I=>{if(!g.current)return;const F=I.clientX-g.current.x,$=I.clientY-g.current.y,G=!!y.current,_=["left","right"].includes(v.swipeDirection),M=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,z=_?M(0,F):0,B=_?0:M(0,$),J=I.pointerType==="touch"?10:2,Oe={x:z,y:B},ge={originalEvent:I,delta:Oe};G?(y.current=Oe,ws(Yv,x,ge,{discrete:!1})):Xc(Oe,v.swipeDirection,J)?(y.current=Oe,ws(Gv,m,ge,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(F)>J||Math.abs($)>J)&&(g.current=null)}),onPointerUp:$e(e.onPointerUp,I=>{const F=y.current,$=I.target;if($.hasPointerCapture(I.pointerId)&&$.releasePointerCapture(I.pointerId),y.current=null,g.current=null,F){const G=I.currentTarget,_={originalEvent:I,delta:F};Xc(F,v.swipeDirection,v.swipeThreshold)?ws(Zv,w,_,{discrete:!0}):ws(Xv,d,_,{discrete:!0}),G.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),t0=e=>{const{__scopeToast:t,children:n,...r}=e,s=So(qr,t),[o,i]=p.useState(!1),[a,c]=p.useState(!1);return o0(()=>i(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:l.jsx(Bf,{asChild:!0,children:l.jsx(ua,{...r,children:o&&l.jsxs(l.Fragment,{children:[s.label," ",n]})})})},n0="ToastTitle",qf=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(ft.div,{...r,ref:t})});qf.displayName=n0;var r0="ToastDescription",ep=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(ft.div,{...r,ref:t})});ep.displayName=r0;var tp="ToastAction",s0=p.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?l.jsx(rp,{altText:n,asChild:!0,children:l.jsx(pa,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${tp}\`. Expected non-empty \`string\`.`),null)});s0.displayName=tp;var np="ToastClose",pa=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=qv(np,n);return l.jsx(rp,{asChild:!0,children:l.jsx(ft.button,{type:"button",...r,ref:t,onClick:$e(e.onClick,s.onClose)})})});pa.displayName=np;var rp=p.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return l.jsx(ft.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function sp(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),l0(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...sp(r))}}),t}function ws(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?$f(s,o):s.dispatchEvent(o)}var Xc=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return t==="left"||t==="right"?o&&r>n:!o&&s>n};function o0(e=()=>{}){const t=dn(e);Wr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function l0(e){return e.nodeType===e.ELEMENT_NODE}function i0(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ol(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var a0=Gf,c0=Xf,u0=Jf,d0=qf,f0=ep,p0=pa;const m0={success:"border-status-closed bg-status-closed/10 text-status-closed",error:"border-status-blocked bg-status-blocked/10 text-status-blocked",info:"border-accent-rust bg-accent-rust/10 text-accent-rust"};function h0({title:e,description:t,variant:n="info",open:r,onOpenChange:s}){return l.jsx(u0,{open:r,onOpenChange:s,className:C("rounded-lg border px-4 py-3 shadow-lg","bg-bg-secondary","data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-80 data-[state=open]:fade-in-0","data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-right-full",m0[n]),children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx(d0,{className:"font-semibold text-sm",children:e}),t&&l.jsx(f0,{className:"text-xs text-text-secondary mt-1",children:t})]}),l.jsx(p0,{className:"p-1 rounded hover:bg-bg-tertiary transition-colors","aria-label":"Close",children:l.jsx(so,{className:"w-4 h-4 text-text-muted"})})]})})}function x0(){return l.jsx(c0,{className:C("fixed bottom-4 right-4 z-50","flex flex-col gap-2","max-w-sm w-full","outline-none")})}const g0=a0;function y0({viewKey:e,children:t,className:n}){return l.jsx("div",{className:C("w-full h-full animate-view-enter",n),children:t},e)}const v0=3e4,w0=2;function b0(e={}){const{pingInterval:t=v0,failureThreshold:n=w0,onReconnect:r,onDisconnect:s}=e,{status:o}=Re(),i=p.useRef(null),a=p.useRef(!1),c=p.useRef(!0),u=p.useRef({onReconnect:r,onDisconnect:s});u.current={onReconnect:r,onDisconnect:s};const m=p.useRef({failureThreshold:n,pingInterval:t});m.current={failureThreshold:n,pingInterval:t};const x=p.useCallback(async()=>{try{const v=new AbortController,N=setTimeout(()=>v.abort(),5e3),h=await fetch("/api/rigs",{method:"HEAD",signal:v.signal});return clearTimeout(N),h.ok}catch{return!1}},[]),d=p.useCallback(v=>{var f,g,y,j;if(!c.current)return;const N=Re.getState(),{failureThreshold:h}=m.current;v?(N.resetFailures(),N.status!=="online"&&(N.setOnline(),a.current&&(a.current=!1,(g=(f=u.current).onReconnect)==null||g.call(f)))):(N.incrementFailure(),Re.getState().failureCount>=h?N.status!=="offline"&&(a.current=!0,N.setOffline(),(j=(y=u.current).onDisconnect)==null||j.call(y)):N.status==="online"&&N.setReconnecting())},[]),w=p.useCallback(()=>{i.current&&clearInterval(i.current),i.current=window.setInterval(async()=>{if(!c.current)return;const v=await x();d(v)},m.current.pingInterval)},[x,d]);p.useEffect(()=>{c.current=!0;const v=async()=>{if(!c.current)return;Re.getState().setReconnecting();const h=await x();d(h),w()},N=()=>{var h,f;c.current&&(i.current&&(clearInterval(i.current),i.current=null),a.current=!0,Re.getState().setOffline(),(f=(h=u.current).onDisconnect)==null||f.call(h))};return window.addEventListener("online",v),window.addEventListener("offline",N),navigator.onLine?x().then(h=>{c.current&&(d(h),w())}):Re.getState().setOffline(),()=>{c.current=!1,window.removeEventListener("online",v),window.removeEventListener("offline",N),i.current&&(clearInterval(i.current),i.current=null)}},[x,d,w]);const b=p.useCallback(async()=>{Re.getState().setReconnecting();const v=await x();return d(v),v},[x,d]);return{isOffline:o==="offline",isReconnecting:o==="reconnecting",isOnline:o==="online",status:o,tryReconnect:b}}function j0(){const{selectedRig:e,setSelectedRig:t}=Ur(),{toast:n,hideToast:r}=Cf(),{status:s}=Re(),{viewMode:o}=oa(),[i,a]=p.useState([]),[c,u]=p.useState(!0),[m,x]=p.useState(null),[d,w]=p.useState(0),[b,v]=p.useState(new Set),[N,h]=p.useState(!1),f=p.useRef(new Map),g=p.useCallback(k=>{var S;if(console.log("[WS] Received message:",k),k.type==="beads_changed"||k.type==="rig_update"||k.type==="issue_update"||k.type==="issue_changed"?w(E=>E+1):k.type==="rig_discovered"?w(E=>E+1):k.type==="agent_state_changed"&&w(E=>E+1),k.type==="issue_changed"&&((S=k.payload)!=null&&S.id)){const E=k.payload.id;v(H=>new Set(H).add(E));const A=f.current.get(E);A&&clearTimeout(A);const D=window.setTimeout(()=>{v(H=>{const R=new Set(H);return R.delete(E),R}),f.current.delete(E)},1500);f.current.set(E,D)}},[]),{connected:y}=Of({onMessage:g,onConnect:()=>console.log("[WS] Connected to Town View"),onDisconnect:()=>console.log("[WS] Disconnected")}),{tryReconnect:j}=b0({onReconnect:()=>{console.log("[Connectivity] Reconnected - refreshing data"),w(k=>k+1)},onDisconnect:()=>{console.log("[Connectivity] Disconnected - using cached data")}});return p.useEffect(()=>{(async()=>{const S=await Ee("/api/rigs",{cacheTTL:3e5,returnStaleOnError:!0});if(S.data){const E=S.data.filter((D,H,R)=>H===R.findIndex(Y=>Y.id===D.id));a(E),h(S.fromCache);const A=Ur.getState().selectedRig;E.length>0&&!A&&t(E[0]),u(!1),S.fromCache&&S.error?console.warn("[Rigs] Using cached data:",S.error):x(null)}else S.error&&(x(S.error),u(!1))})()},[t,d]),l.jsxs(g0,{duration:4e3,children:[l.jsxs("div",{className:"flex h-screen overflow-hidden",children:[l.jsx(Tg,{rigs:i,selectedRig:e,onSelectRig:t,loading:c,connected:y,httpConnected:s==="online"}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[l.jsx(cv,{onRetry:j}),l.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-border bg-bg-secondary",children:[l.jsx("h1",{className:"font-display text-lg font-semibold tracking-wide",children:(e==null?void 0:e.name.toUpperCase())||"TOWN VIEW"}),l.jsx(bg,{})]}),l.jsx("main",{className:"flex-1 overflow-auto",children:m?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"card-accent p-6 max-w-md",children:[l.jsx("h2",{className:"text-lg font-semibold text-status-blocked mb-2",children:"Connection Error"}),l.jsx("p",{className:"text-text-secondary mb-4",children:m}),l.jsx("p",{className:"text-sm text-text-muted",children:"Make sure the Town View server is running on port 8080."})]})}):e?av(e)?l.jsx(iv,{refreshKey:d}):l.jsx(y0,{viewKey:o,children:o==="planning"?l.jsx(ky,{refreshKey:d,updatedIssueIds:b}):o==="monitoring"?l.jsx(Xy,{rig:e,refreshKey:d,updatedIssueIds:b}):l.jsx(rv,{updatedIssueIds:b})}):l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("p",{className:"text-text-muted",children:"Select a rig from the sidebar"})})})]})]}),l.jsx(h0,{title:n.title,description:n.description,variant:n.variant,open:n.open,onOpenChange:k=>!k&&r()}),l.jsx(x0,{})]})}ll.createRoot(document.getElementById("root")).render(l.jsx(at.StrictMode,{children:l.jsx(j0,{})}));
